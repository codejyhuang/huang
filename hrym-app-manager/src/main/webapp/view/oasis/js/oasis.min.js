/*!
 *oasis v1.2.3 
 *concat at 2016-05-03 
 * create by ued 
 */

function addTerm(a,b,c){var d='<a href="javascript:;" class="search-term '+b+'" title="'+c+'" name="'+b+'"><span class="term-text">'+c+'</span><em class="oasicon oasicon-delete"></em></a>';a.find("."+b).remove(),a.append(d)}function setTermUp(a,b){a.empty(),$.each(b,function(c){var d='<a href="javascript:;" class="search-term"><span class="term-text">'+b[c].text+"</span></a>";a.append(d)})}!function(a){function b(a){return a.match(d)[0]}if(!a.oasis){var c=a.oasis={version:"0.1dev"},d=(c.config={debug:!0},/[^?#]*\//),e=window.document,f=window.location,g=(b(f.href),Array.prototype),h=Object.prototype,i=(Function.prototype,window.localStorage);c.indexOf=function(a,b){if(g.indexOf)return b.indexOf(a);for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1},c.openMap=function(a){void 0==a&&(a=""),a.url?i.setItem("getMapURL",escape(a.url)):i.setItem("getMapURL",escape("")),OasShyPage.open({title:"地图定位",hasToggle:!1,closeable:!0,refresh:!1,width:1e3,src:c.oasisDir+"../oasis_tpl/map.html",onLoad:function(b,c){c.innerFunction(a)},onClose:function(){$(".oasicon-map-location").parent().parent().removeClass("oas-current")}})};var j,k,l=e.getElementsByTagName("script"),m=e.getElementById("oasisnode");if(!m)for(var n=0,o=l.length;o>n;n++)if(j=l[n].hasAttribute?l[n].src:l[n].getAttribute("src",4),-1!==j.indexOf("oasis")){k=b(j);break}c.oasisDir=k;{var p=function(a){return function(b){return h.toString.call(b)==="[object "+a+"]"}},q=c.type={};q.isObject=p("Object"),q.isString=p("String"),q.isArray=Array.isArray||p("Array"),q.isFunction=p("Function"),c.support={placeholder:!!("placeholder"in document.createElement("input"))}}c.throttle=function(a,b,c){if(b=b||150,-1===b)return function(){a.apply(c||this,arguments)};var d=(new Date).getTime();return function(){var e=(new Date).getTime();e-d>b&&(d=e,a.apply(c||this,arguments))}},c.stringFormat=function(){var a=arguments;return 0===a.length?this:this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})},c.erase=function(a,b){for(var c=0,d=b.length;d>c;c++)if(a===b[c])return b.splice(c,1),b},c.addArrItem=function(a,b,c){var c=$.extend(!0,[],c),d=c.splice(0,b),e=c;return d.push(a),d.concat(e)};var r=document.getElementsByTagName("head")[0];c.getTopWindow=function(){for(var a=window;a.parent&&a.parent!=a;){try{if(a.parent.document.domain!=document.domain)break}catch(b){break}a=a.parent}return a};{c.loadJS=function(a,b){var c=document.createElement("script");c.type="text/javascript",c.charset="UTF-8",c.readyState?c.onreadystatechange=function(){("loaded"==c.readyState||"complete"==c.readyState)&&(c.onreadystatechange=null,b&&b())}:c.onload=function(){b&&b()},c.src=a,r.appendChild(c)},c.loadCss=function(a){var b=document.createElement("link");b.type="text/css",b.rel="stylesheet",b.href=a,document.getElementsByTagName("head")[0].appendChild(b)}}c.loadTpl=function(a,b,c){a.load(b,function(a){-1!==a.indexOf("placeholder")?$(":[placeholder]").oasInput():-1!==a.indexOf("select")&&$("select").oasSelect(),c&&c()})},c.DBC2SBC=function(a){var b="";if(!a)return b;for(var c=0;c<a.length;c++)code=a.charCodeAt(c),b+=code>=65281&&65373>=code?String.fromCharCode(a.charCodeAt(c)-65248):12288==code?String.fromCharCode(a.charCodeAt(c)-12288+32):a.charAt(c);return b},i||(i={userData:null,name:location.hostname,init:function(){if(!i.userData)try{i.userData=document.createElement("INPUT"),i.userData.type="hidden",i.userData.style.display="none",i.userData.addBehavior("#default#userData");var a=new Date;a.setDate(a.getDate()+365),i.userData.expires=a.toUTCString()}catch(b){return!1}return!0},setItem:function(a,b){i.init()&&(i.userData.load(i.name),i.userData.setAttribute(a,b),i.userData.save(i.name))},getItem:function(a){return i.init()?(i.userData.load(i.name),i.userData.getAttribute(a)):void 0},remove:function(a){i.init()&&(i.userData.load(i.name),i.userData.removeAttribute(a),i.userData.save(i.name))}}),c.LocalStorage=this.LocalStorage=i,window.oasis_property={},window.console||(window.console={log:function(){},error:function(){}}),window.console.time||(window.console.time=function(a){window.oasis_property[a]=+new Date},window.console.timeEnd=function(a){var b=+new Date;window.console.log(a+"---耗时："+(b-window.oasis_property[a])+"ms")});var s=(window.navigator.userAgent||"").toLowerCase(),t=-1!==s.indexOf("msie 7"),u=-1!==s.indexOf("msie 8");c.browser={isIE:-1!==s.indexOf("msie"),isIE7:t,isIE8:u},$.fn.addBack=$.fn.addBack||$.fn.andSelf,$.fn.extend({actual:function(a,b){if(!this[a])throw'$.actual => The jQuery method "'+a+'" you called does not exist';var c,d,e={absolute:!1,clone:!1,includeMargin:!1},f=$.extend(e,b),g=this.eq(0);if(f.clone===!0)c=function(){var a="position: absolute !important; top: -1000 !important; ";g=g.clone().attr("style",a).appendTo("body")},d=function(){g.remove()};else{var h,i=[],j="";c=function(){h=g.parents().addBack().filter(":hidden"),j+="visibility: hidden !important; display: block !important; left: -9999px; top:-9999px;",f.absolute===!0&&(j+="position: absolute !important; "),h.each(function(){var a=$(this),b=a.attr("style");i.push(b),a.attr("style",b?b+";"+j:j)})},d=function(){h.each(function(a){var b=$(this),c=i[a];void 0===c?b.removeAttr("style"):b.attr("style",c)})}}c();var k=/(outer)/.test(a)?g[a](f.includeMargin):g[a]();return d(),k}}),c.browser.isIE7&&(c.loadJS(c.oasisDir+"jquery.pseudo.js"),c.loadJS(c.oasisDir+"json2.js"));var v=function(a){var a=a+"";return a=1==a.length?"0"+a:a,a=0==a.length?"00":a};c.formatDate=function(a,b){if(a instanceof Date){var c=a.getFullYear(),d=a.getMonth()+1,e=a.getDate(),f=a.getHours(),g=a.getMinutes(),h=a.getSeconds();switch(b){case"yyyy-MM-dd":return c+"-"+v(d)+"-"+v(e);case"yyyy-MM-dd HH:mm:ss":return c+"-"+v(d)+"-"+v(e)+" "+v(f)+":"+v(g)+":"+v(h)}}};var w=function(){var a=new Date;return a};c.getYesterday=function(){var a=w();return[new Date(a.getFullYear(),a.getMonth(),a.getDate()-1,0,0,0),new Date(a.getFullYear(),a.getMonth(),a.getDate()-1,23,59,59)]},c.getToday=function(){var a=w();return[new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),a]},c.getNearOneDay=function(){var a=w();return[new Date(a.getFullYear(),a.getMonth(),a.getDate()-1,0,0,0),a]},c.getNearThreeDays=function(){var a=w();return[new Date(a.getFullYear(),a.getMonth(),a.getDate()-3,0,0,0),a]},c.getNearOneWeek=function(){var a=w();return[new Date(a.getFullYear(),a.getMonth(),a.getDate()-7,0,0,0),a]},c.getNearOneMonth=function(){var a=w();return[new Date(a.getFullYear(),a.getMonth(),a.getDate()-30,0,0,0),a]},c.getNearThreeMonths=function(){var a=w();return[new Date(a.getFullYear(),a.getMonth(),a.getDate()-90,0,0,0),a]},c.getNearHalfYear=function(){var a=w();return[new Date(a.getFullYear(),a.getMonth(),a.getDate()-180,0,0,0),a]},c.getNearOneYear=function(){var a=w();return[new Date(a.getFullYear()-1,a.getMonth(),a.getDate(),0,0,0),a]}}}(this),function(){function a(a,b){var c,d;return c=a>=1436?1440:1436>a&&a>1024?1024:1e3,d=b>=900?900:768,[c,d]}function b(){var a=oasis.getTopWindow();return a.innerHeight||a.document.documentElement.clientHeight}function c(){var a=oasis.getTopWindow();return a.innerWidth||a.document.documentElement.clientWidth}oasis.respond={};var d,e=c(),f=b(),g=oasis.respond.respondLiast=[];$(window).resize(function(){d&&clearTimeout(d),d=setTimeout(function(){var d=c(),h=b();if(e!==d||f!==h){var i=a(d,h),j="w"+i[0]+" h"+i[1];document.getElementsByTagName("html")[0].className!==j&&(document.getElementsByTagName("html")[0].className="w"+i[0]+" h"+i[1],g&&g.length?$.each(g,function(a){g[a].call(oasis,i[0],i[1])}):oasis.type.isFunction(g)&&g.call(oasis,i[0],i[1])),e=d,f=h}},80)});var h=a(e,f);document.getElementsByTagName("html")[0].className="w"+h[0]+" h"+h[1],oasis.respond.callback=function(a){g.push(a)}}(this),!function(){function a(a){return a.replace(t,"").replace(u,",").replace(v,"").replace(w,"").replace(x,"").split(/^$|,+/)}function b(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function c(c,d){function e(a){return m+=a.split(/\n/).length-1,k&&(a=a.replace(/\s+/g," ").replace(/<!--.*?-->/g,"")),a&&(a=s[1]+b(a)+s[2]+"\n"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\n/g,function(){return m++,"$line="+m+";"})),0===b.indexOf("=")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\s;]*$/g,""),e){var f=b.replace(/\s*\([^\)]+\)/,"");n[f]||/^(include|print)$/.test(f)||(b="$escape("+b+")")}else b="$string("+b+")";b=s[1]+b+s[2]}return g&&(b="$line="+c+";"+b),r(a(b),function(a){if(a&&!p[a]){var b;b="print"===a?u:"include"===a?v:n[a]?"$utils."+a:o[a]?"$helpers."+a:"$data."+a,w+=a+"="+b+",",p[a]=!0}}),b+"\n"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q="".trim,s=q?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],t=q?"$out+=text;return $out;":"$out.push(text);",u="function(){var text=''.concat.apply('',arguments);"+t+"}",v="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+t+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(g?"$line=0,":""),x=s[0],y="return new String("+s[3]+");";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z="try{"+z+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+b(c)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var A=new Function("$data","$filename",z);return A.prototype=n,A}catch(B){throw B.temp="function anonymous($data,$filename) {"+z+"}",B}}var d=function(a,b){return"string"==typeof b?q(b,{filename:a}):g(a,b)};d.version="3.0.0",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\s*|\s*$/g,"");b=q(d,{filename:a})}}return b};var h=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?h(a.call(a)):""),a},i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\w#]+;)|[<>"']/g,j)},l=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b="Template Error\n\n";for(var c in a)b+="<"+c+">\n"+a[c]+"\n\n"};var p=function(a){return d.onerror(a),function(){return"{Template Error}"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+""}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(j){return j.filename=h||"anonymous",j.name="Syntax Error",p(j)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",t=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,u=/[^\w$]+/g,v=new RegExp(["\\b"+s.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g;e.openTag="{{",e.closeTag="}}";var y=function(a,b){var c=b.split(":"),d=c.shift(),e=c.join(":")||"";return e&&(e=", "+e),"$helpers."+d+"("+a+e+")"};e.parser=function(a,b){a=a.replace(/^\s/,"");var c=a.split(" "),e=c.shift(),f=c.join(" ");switch(e){case"if":a="if("+f+"){";break;case"else":c="if"===c.shift()?" if("+c.join(" ")+")":"",a="}else"+c+"{";break;case"/if":a="}";break;case"each":var g=c[0]||"$data",h=c[1]||"as",i=c[2]||"$value",j=c[3]||"$index",k=i+","+j;"as"!==h&&(g="[]"),a="$each("+g+",function("+k+"){";break;case"/each":a="});";break;case"echo":a="print("+f+");";break;case"print":case"include":a=e+"("+c.join(",")+");";break;default:if(-1!==f.indexOf("|")){var l=b.escape;0===a.indexOf("#")&&(a=a.substr(1),l=!1);for(var m=0,n=a.split("|"),o=n.length,p=l?"$escape":"$string",q=p+"("+n[m++]+")";o>m;m++)q=y(q,n[m]);a="=#"+q}else a=d.helpers[e]?"=#"+e+"("+c.join(",")+");":"="+a}return a},"function"==typeof define?define(function(){return d}):"undefined"!=typeof exports?module.exports=d:this.template=d}(),function(a,b){function c(a){a=h(a)||{},a.nodeType&&(a={element:a});var c=h(a.element)||k;if(1!==c.nodeType)throw new Error("posObject.element is invalid.");var d={element:c,x:a.x||0,y:a.y||0},e=c===k||"VIEWPORT"===c._id;return d.offset=function(){return isPinFixed?{left:0,top:0}:e?{left:b(document).scrollLeft(),top:b(document).scrollTop()}:i(b(c)[0])},d.size=function(){var a=b(e?window:c);return{width:a.outerWidth(),height:a.outerHeight()}},d}function d(a){a.x=e(a.x,a,"width"),a.y=e(a.y,a,"height")}function e(a,b,c){if(a+="",a=a.replace(/px/gi,""),/\D/.test(a)&&(a=a.replace(/(?:top|left)/gi,"0%").replace(/center/gi,"50%").replace(/(?:bottom|right)/gi,"100%")),-1!==a.indexOf("%")&&(a=a.replace(/(\d+(?:\.\d+)?)%/gi,function(a,d){return b.size()[c]*(d/100)})),/[+\-*\/]/.test(a))try{a=new Function("return "+a)()}catch(d){throw new Error("Invalid position value: "+a)}return g(a)}function f(a){var c=a.offsetParent();c[0]===document.documentElement&&(c=b(document.body)),m&&c.css("zoom",1);var d;return d=c[0]===document.body&&"static"===c.css("position")?{top:0,left:0}:i(c[0]),d.top+=g(c.css("border-top-width")),d.left+=g(c.css("border-left-width")),d}function g(a){return parseFloat(a,10)||0}function h(a){return b(a)[0]}function i(a){var b=a.getBoundingClientRect(),c=document.documentElement;return{left:b.left+(window.pageXOffset||c.scrollLeft)-(c.clientLeft||document.body.clientLeft||0),top:b.top+(window.pageYOffset||c.scrollTop)-(c.clientTop||document.body.clientTop||0)}}var j={},k={_id:"VIEWPORT",nodeType:1},l=(window.navigator.userAgent||"").toLowerCase(),m=-1!==l.indexOf("msie 6");j.pin=function(a,e,g){a=c(a),e=c(e);var h=b(a.element);"fixed"!==h.css("position")||m?(h.css("position","absolute"),isPinFixed=!1):isPinFixed=!0,d(a),d(e);var i=f(h),j=e.offset(),k=j.top+e.y-a.y-i.top,l=j.left+e.x-a.x-i.left;g&&(k+=g.scrollTop(),l+=g.scrollLeft()),h.css({left:l,top:k})},j.center=function(a,b){j.pin({element:a,x:"50%",y:"50%"},{element:b,x:"50%",y:"50%"})},j.advPin=function(a,c,d){a=b(a),c=b(c);var e,f=c.outerWidth(),g=c.outerHeight(),h=c.offset().left,i=c.offset().top,j=a.outerWidth(),k=a.outerHeight(),l=(a.offset().left,a.offset().top,b(document).scrollTop()),m=b(document).scrollLeft(),n=b(window).height(),o=b(window).width();if(2===arguments.length?d={direction:"v"}:3===arguments.length&&"string"==typeof d&&(d={direction:d}),"fixed"!==a.css("position")&&a.css("position","absolute"),d.offset&&(e=d.offset),"v"==d.direction){var p,q,r=n-(i-l+g+k);e?(p=i+e[0],q=h+e[1]):(p=i,q=h),a.css(r>0?{top:p+g,left:q}:k>i-l?{top:p+g,left:q}:{top:p-k,left:q})}else if("h"==d.direction){var s=o-(h-m+f+j);e?(p=i+e[0],q=h+e[1]):(p=i,q=h),a.css(s>0?{left:q+f,top:p}:j>h-m?{left:q+f,top:p}:{left:q-j,top:p})}},j.location=function(a,c){a=b(a);var d=a.outerWidth(),e=a.outerHeight(),f=a.offset().left,g=a.offset().top,h=b(document).scrollTop(),i=b(document).scrollLeft(),j=b(window).height(),k=b(window).width(),l=b(document).height(),m=b(document).width();return"fixed"==c?{top:g-h,right:k-(f-i)-d,bottom:j-(g-h)-e,left:f-i}:{top:g,right:m-f-d,bottom:l-g-e,left:f}},j.overlapArea=function(a,b){var c=a.offset(),d=c.left,e=c.top,f=a.width(),g=a.height(),h=b.offset(),i=h.left,j=h.top,k=b.width(),l=b.height();if(i>d+f||d>i+k||j>e+g||e>j+l)return 0;var m,n,o=d-i,p=e-j;return m=0>o?f-Math.abs(o):k-o,n=0>p?g-Math.abs(p):l-p,[m,n]},j.VIEWPORT=k,a.oasis.Position=a.Position=j}(this,jQuery),function(a,b,c){b.oasUiFactory=function(a,c){var d=a;b.expr[":"][a]=function(c){return!!b.data(c,a)},b.oasis=b.oasis||{},b.oasis[a]=function(a,b){arguments.length&&this._createOasUi(a,b)};var e=new b.OasUiFactory;e.options=b.extend(!0,{},e.options),b.oasis[a].prototype=b.extend(!0,e,{namespace:"oasis",uiName:d,widgetBaseClass:a},c),b.oasUiFactory.bridge(a,b.oasis[a])},b.oasUiFactory.bridge=function(a,d){b.fn[a]=function(e){var f=arguments[0],g="string"==typeof f,h=[].slice.call(arguments,1),i=b(this);return this.each(g?function(){var d=b.data(this,a);if(!d)throw Error(a+"还没有被初始化");if(d.invoke[f]){var e=d.invoke[f].apply(d,h);if(e!==d&&e!==c)return i=e,!1}else console.table}:function(){var c=b.data(this,a);c||b.data(this,a,new d(e,this))}),i}},b.OasUiFactory=function(a,b){arguments.length&&this._createOasUi(a,b)},b.OasUiFactory.prototype={_createOasUi:function(a,c){this.$el=b(c);var a=this.options=b.extend(!0,{},this.options,this._getElementOptions(),a);this.onCreate=a.onCreate,this.__isCreated__=!1,this._template&&(this.tpl=this._template());var d=this._create();return this.__isCreated__=!0,this.onCreate&&this.onCreate.call(this),d===!1?!1:(this._bindUiEvents(),void(this.invoke=b.extend(!0,{show:function(){this.$el.show()},hide:function(){this.$el.hide()},destory:function(){this.$el.unbind("."+this.uiName).removeData(this.uiName),b(document).unbind("."+this.uiName)},option:function(a){return"string"==typeof a?this.options[a]:void 0}},this.invoke)))},_getElementOptions:function(){var a,b=this.$el.data(),c=new RegExp("^"+this.uiName,"i"),d={};for(var e in b)c.test(e)&&(a=e.replace(c,""),a=a.charAt(0).toLowerCase()+a.substr(1),d[a]=b[e]);return d},_create:function(){},_bindUiEvents:function(){var a,b,c,d=this.$el,e=this,f=/(\S+)\s(.+)/;if(this.events){for(var g in this.events)b=g.match(f),a=b[2],_eventsType=b[1],c=null,c=oasis.type.isFunction(this.events[g])?this.events[g]:this[this.events[g]],function(b){d.on(_eventsType+"."+e.uiName,a,function(a){return b.call(e,this,a)===!1?!1:void 0})}(c);b=null,a=null,_eventsType=null,c=null}},_iCall:function(a,b){var c=b?this.invoke[a].apply(this,b):this.invoke[a].apply(this);return c},_emit:function(a,b){if(oasis.type.isString(this.options[a]))return b?window[this.options[a]].apply(this.$el,b):window[this.options[a]].apply(this.$el);var c=b?this.options[a].apply(this.$el,b):this.options[a].apply(this.$el);return c}}}(this,jQuery),function(){$.oasUiFactory("oasDrag",{options:{handle:null,axis:null,drop:null,scope:null,position:"absolute",inParent:!0,proxy:null,onStart:function(){},onDrag:function(){},onEnd:function(){}},_create:function(){this._initElementStyle(),this._bindEvent()},_initElementStyle:function(){var a,b=this.$el,c=this.options,d=b.find(c.handle),e=c.axis;c.scope&&b.parents(c.scope).size()>0&&(a=b.parents(c.scope)),b.addClass("oas-drag").css("position",c.position),d.size()?(d.addClass("oas-drag-handle"),this.$handle=d):(b.addClass("oas-drag-handle"),this.$handle=b),e&&b.data("oas-drag-axis",e),a&&b.data("oas-drag-scope",a).data("oas-drag-scope-left",a.position().left).data("oas-drag-scope-top",a.position().top)},_bindEvent:function(){var a=this,b=(this.$el,this.options);this.$handle.on("mousedown."+a.uiName,function(c){if(2!=c.button){{var d=$(this),e=c.clientX,f=c.clientY,g=0,h=0,i=d.parents(".oas-drag").size()>0?d.parents(".oas-drag"):d,j=i.position().left,k=i.position().top,l=j,m=k;i.data("oas-drag-scope")}if(c.preventDefault(),b.proxy===!0){var n=i;i=i.clone(!0).addClass("oas-drag-proxy"),n.after(i)}this.onselectstart=function(){return!1};var o=$('<div style="position:fixed;left:0;top:0;right:0;bottom:0;"></div>');$("body").append(o),$(document).on("mousemove."+a.uiName,function(b){b.preventDefault(),this.setCapture&&this.setCapture();var c=b.clientX,d=b.clientY;switch(g=c-e,h=d-f,i.data("oas-drag-axis")){case"x":h=0,l=j+g,m=k;break;case"y":g=0,l=j,m=k+h;break;default:l=j+g,m=k+h}i.data("oas-drag-scope")&&(m-=i.data("oas-drag-scope-top"),l-=i.data("oas-drag-scope-left"));var n=a._boundDetection(i,{left:l,top:m});l=n.left,m=n.top,i.css({left:l,top:m}),a._emit("onDrag",[a.$el,[l,m],[g,h]])}).on("mouseup."+a.uiName,function(){o.remove(),this.releaseCapture&&this.releaseCapture(),$(document).off("mousemove."+a.uiName).off("mouseup."+a.uiName),(0!==g||0!==h)&&a._emit("onEnd",[a.$el,[l,m],[g,h]]),b.proxy===!0&&i.stop().animate({left:n.position().left,top:n.position().top},300,function(){i.remove()})}),a._emit("onStart",[a.$el,[l,m]])}})},_boundDetection:function(a,b){var c,d,e=b.left,f=b.top,g=a.outerWidth(),h=a.outerHeight(),i=a.data("oas-drag-scope"),j=b,k=this.options;return a.hasClass("oas-dialog")&&(h+=4),i&&k.inParent?k.inParent&&i&&(0>=e&&(j.left=0),0>=f&&(j.top=0),c=a.data("oas-drag-scope-left"),d=a.data("oas-drag-scope-top"),e+g>=i.outerWidth()&&(j.left=i.outerWidth()-g),f+h>=i.outerHeight()&&(j.top=i.outerHeight()-h),j.left=j.left<0?j.left/2:j.left,j.top=j.top<0?j.top/2:j.top):"absolute"===k.position?(e+g>=$(document).width()&&(j.left=$(document).width()-g),f+h>=$(document).height()&&(j.top=$(document).height()-h)):(e+g>=$(window).width()&&(j.left=$(window).width()-g),f+h>=$(window).height()&&(j.top=$(window).height()-h),0>e&&(j.left=0),0>f&&(j.top=0)),j},invoke:{destory:function(){this.$el.removeData().off(this.uiName)}}})}(),function(){function a(a){$.each(oasOverlay.blurOverlays,function(b,c){if(c&&c.visible&&c.options.blurHide){for(var d=0,e=c._relativeElements.length;e>d;d++)if(c._relativeElements[d].size()&&$.contains($("body")[0],$(c._relativeElements[d])[0]))if(c._relativeElements[d].selector)if(c._relativeElements[d].size()==$(c._relativeElements[d].selector).size())for(var f=0,g=c._relativeElements[d].length;g>f;f++){var h=$(c._relativeElements[d][f])[0];if(h===a.target||$.contains(h,a.target))return}else{var i=$(c._relativeElements[d].selector);if(i.size())for(var j=0,k=i.length;k>j;j++){var h=$(i[j])[0];if(h===a.target||$.contains(h,a.target))return}}else for(var f=0,g=c._relativeElements[d].length;g>f;f++){var h=$(c._relativeElements[d][f])[0];if(h===a.target||$.contains(h,a.target))return}else{var h=$(c._relativeElements[d])[0];if(void 0!=h&&null!=h&&$.contains($("body")[0],h)){if(h===a.target||$.contains(h,a.target))return}else{var i=$(c._relativeElements[d].selector);if(i.size())for(var j=0,k=i.length;k>j;j++){var h=$(i[j])[0];if(h===a.target||$.contains(h,a.target))return}}}($(a.target).is(".oas-overlay")||$(a.target).closest(".oas-overlay").size())&&$(a.target).closest(".oas-overlay").is(c.$el)||c._iCall("hide")}})}$.oasUiFactory("oasOverlay",{options:{triggerType:"hover",delay:150,target:null,align:{selfXY:[0,0],baseElement:Position.VIEWPORT,baseXY:[0,0]},parentNode:document.body,advPin:!1,blurHide:!0,isNeedAnimation:!1,onOpen:function(){},beforeOpen:function(){},onClose:function(){}},_create:function(){var a=this,b=this.options,c=$(b.target),d=b.delay,e=b.triggerType;this.target=c,oasOverlay.allOverlays.push(this),this.$el.addClass("oas-overlay"),"hover"===e&&c?(c.on("mouseenter."+this.uiName,function(){$(this).hasClass("disabled")||(clearTimeout(a.hideTime),a.target=this,a.showTime=setTimeout(function(){a._iCall("show")},d))}).on("mouseleave."+this.uiName,function(){$(this).hasClass("disabled")||(clearTimeout(a.showTime),a.hideTime=setTimeout(function(){a._iCall("hide")},d))}),this.$el.on("mouseenter."+this.uiName,function(){clearTimeout(a.hideTime)}),this.$el.on("mouseleave."+this.uiName,function(){a.hideTime=setTimeout(function(){a._iCall("hide")},d)})):"click"===e&&c?(c.context=c.context&&void 0!=c.context?c.context:c.parent(),c.live("click."+this.uiName,function(){$(this).hasClass("disabled")||(a.target=this,a._iCall("show"))})):"focus"===e&&c&&c.on("focus."+this.uiName,function(){$(this).hasClass("disabled")||(a.target=this,a._iCall("show"))}),this._blurHide()},_setPosition:function(a){var b=this.options,c=b.advPin;a||(a=b.align),a&&(c?this._setAdvPosition(a,c):this._setNomalPosition(a))},_setNomalPosition:function(a){var b=this.$el,c="none"===b.css("display"),d=this.options.parentNode,e=a.baseXY,f=a.selfXY;c&&b.css({visible:"hidden",display:"block"}),d!==document.body&&d!==$(document.body)?Position.pin({element:b,x:f[0],y:f[1]},{element:this.target,x:e[0],y:e[1]},d):Position.pin({element:b,x:f[0],y:f[1]},{element:this.target,x:e[0],y:e[1]}),c&&b.css({visibility:"",display:"none"})},_setAdvPosition:function(a,b){var c=this.$el,d="none"===c.css("display");d&&c.css({visible:"hidden",display:"block"}),Position.advPin(c,a.baseElement,{offset:a.baseXY,direction:b.direction}),d&&c.css({visibility:"",display:"none"})},_blurHide:function(a){a||oasOverlay.blurOverlays.push(this),a=$.makeArray(a),a.push(this.options.target),this._relativeElements=a},_judgeDirection:function(){var a={},b="none"===this.$el.css("display");b&&this.$el.css({visible:"hidden",display:"block"});var c=this.$el,d=$(this.target),e={top:this.$el.offset().top,left:this.$el.offset().left},f={top:d.offset().top,left:d.offset().left};return this.options.parentNode!==document.body&&this.options.parentNode!==$(document.body)&&(e={top:this.$el.position().top,left:this.$el.position().left},f={top:d.position().top,left:d.position().left}),e.top>=f.top+d.outerHeight()?a.direction="bottom":f.top>=e.top+c.outerHeight()?a.direction="top":e.left>=f.left+d.outerWidth()?a.direction="right":f.left>=e.left+c.outerWidth()&&(a.direction="left"),a.selfPos=e,b&&this.$el.css({visibility:"",display:"none"}),a},invoke:{show:function(){if(this.options.beforeOpen.call(this.$el,this),this.visible=!0,this._setPosition(),this.options.isNeedAnimation){var a=this._judgeDirection(),b=this.$el,c="none"===b.css("display");"bottom"==a.direction?(b.css("top",a.selfPos.top+15),c||b.hide(),b.animate({top:a.selfPos.top,opacity:"show"},300)):"top"==a.direction?(b.css("top",a.selfPos.top-15),c||b.hide(),b.animate({top:a.selfPos.top,opacity:"show"},300)):"left"==a.direction?(b.css("left",a.selfPos.left-15),c||b.hide(),b.animate({left:a.selfPos.left,opacity:"show"},300)):"right"==a.direction?(b.css("left",a.selfPos.left+15),c||b.hide(),b.animate({left:a.selfPos.left,opacity:"show"},300)):b.show()}else this.$el.show();this.options.hasOpacity&&$("body").find(".oas-mask-opacity").show(),this.options.onOpen.call(this.$el,this)},hide:function(){this.visible=!1,this.$el.hide(),this.options.hasOpacity&&$("body").find(".oas-mask-opacity").hide(),this.options.onClose.call(this.$el,this)},showSelf:function(){this.visible=!0,this.$el.show(),this.options.onOpen.call(this.$el,this)},align:function(a){a&&(this.options.align=$.extend({},this.options.align,a),this._setPosition(this.options.align))},blurHide:function(a){this._blurHide(a)},destroyOverlay:function(){var a=this.options,b=$(a.target),c=(a.delay,a.triggerType);oasis.erase(oasOverlay.allOverlays,this),this.$el.unbind("."+this.uiName).removeData(this.uiName),"hover"===c&&b?(b.off("mouseover."+this.uiName).off("mouseleave."+this.uiName),this.$el.off("mouseover."+this.uiName),this.$el.off("mouseleave."+this.uiName)):"click"===c&&b?(b.context=b.context&&void 0!=b.context?b.context:b.parent(),b.die("click."+this.uiName)):"focus"===c&&b&&b.off("focus."+this.uiName)}}}),oasOverlay={},oasOverlay.allOverlays=[],oasOverlay.blurOverlays=[],$(document).off(".oasOverlay"),$(document).on("click.oasOverlay",function(b){a(b)});var b,c=$(window).width(),d=$(window).height(),e=!0;$(window).resize(function(){e&&(b&&clearTimeout(b),b=setTimeout(function(){var a=$(window).width(),b=$(window).height();(c!==a||d!==b)&&($.each(oasOverlay.allOverlays,function(a,b){b&&b.visible&&b._setPosition()}),c=a,d=b),e=!0},200))})}(),function(){var a=$(window),b=$(document),c=[],d=a.height(),e=function(){for(var e=a.scrollTop(),f=b.height(),g=f-d,h=e>g?g-e:0,i=0;i<c.length;i++){var j=c[i],k=j.stickyWrapper.offset().top;k=j.bottomfixed?k+j.stickyWrapper.outerHeight():k;var l=k-j.topSpacing-h;if(l>=e)null!==j.currentTop&&(j.stickyElement.css("position","").css("top",""),j.stickyElement.parent().removeClass(j.className),j.that._emit("unFixed"),j.currentTop=null);else{var m=f-j.stickyElement.outerHeight()-j.topSpacing-j.bottomSpacing-e-h;0>m?m+=j.topSpacing:m=j.topSpacing,"undefined"!=typeof j.getWidthFrom&&""!==j.getWidthFrom?j.stickyElement.css("width",$(j.getWidthFrom).width()):j.stickyElement.css("width",$(j.stickyElement).actual("width")),j.currentTop!=m&&(j.stickyElement.css("position","fixed").css("top",m),j.stickyElement.parent().addClass(j.className),j.that._emit("onFixed"),j.currentTop=m)}j.stoptionsp&&j.stoptionsp<e&&(j.stickyElement.css("position","").css("top",""),j.stickyElement.parent().removeClass(j.className),j.that._emit("unFixed"),j.currentTop=null)}},f=function(){d=a.height();for(var b=0;b<c.length;b++){var e=c[b];"undefined"!=typeof e.getWidthFrom&&e.responsiveWidth===!0?e.stickyElement.css("width",$(e.getWidthFrom).width()):0===e.stickyElement.actual("width",{clone:!0})&&0!==e.stickyElement.actual("width")&&(e.stickyElement.css("width","100%"),trueWidth=e.stickyElement.actual("width")-e.stickyElement.css("margin-left").slice(0,-2)-e.stickyElement.css("margin-right").slice(0,-2),e.stickyElement.width(trueWidth))}};$.oasUiFactory("oasSticky",{options:{topSpacing:0,bottomSpacing:0,className:"oas-issticky",wrapperClassName:"oas-sticky-wrapper",center:!1,getWidthFrom:"",responsiveWidth:!1,bottomfixed:!1,stoptionsp:null,onFixed:function(){},unFixed:function(){}},_create:function(){var a=this.$el,b=this.options,d=a.attr("id"),e=(d?d+"-"+b.wrapperClassName:b.wrapperClassName,$("<div></div>").attr("id",d+"-sticky-wrapper").addClass(b.wrapperClassName));a.addClass("oas-sticky").wrapAll(e),b.center&&a.parent().css({width:a.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"==a.css("float")&&a.css({"float":"none"}).parent().css({"float":"right"});var f=a.parent();f.css("height",a.actual("height")),c.push({topSpacing:b.topSpacing,bottomSpacing:b.bottomSpacing,stickyElement:a,currentTop:null,stickyWrapper:f,className:b.className,getWidthFrom:b.getWidthFrom,responsiveWidth:b.responsiveWidth,stoptionsp:b.stoptionsp,bottomfixed:b.bottomfixed,that:this})},invoke:{update:e,unstick:function(){for(var a=$el,b=-1,d=0;d<c.length;d++)c[d].stickyElement.get(0)==a.get(0)&&(b=d);-1!=b&&(c.splice(b,1),a.unwrap(),a.removeAttr("style"))},stoptionsp:function(a){this.options.stoptionsp=a;for(var b=0,d=c.length;d>b;b++)if(c[b].that===this){c[b].stoptionsp=a;break}}}}),window.addEventListener?(window.addEventListener("scroll",e,!1),window.addEventListener("resize",f,!1)):window.attachEvent&&(window.attachEvent("onscroll",e),window.attachEvent("onresize",f)),$(function(){setTimeout(e,300)}),$(window).on("load",function(){$("[oassticky]").oasSticky()})}(),function(a){a.esc=oasis.esc={html:function(a){if(a){var b=document.createElement("div");return b.appendChild(document.createTextNode((a+"").trim())),b.innerHTML}return""},toValidId:function(a){a+="";var b="";if(a&&a.length>0){for(var b="",c=0;c<a.length;c++)b+=a.charAt(c).charCodeAt().toString(36)+"_";a=b}return b}}}(this),function(a){var b=function(){var a=oasis.getTopWindow(),b=this.$mask=$('<div class="oas-mask"></div>'),c=this.$mask_opacity=$('<div class="oas-mask-opacity"></div>');$("body").append(c),$("body",a.document).append(b),this.openCount=0};b.prototype={constructor:b,open:function(){this.openCount++,this.$mask.show()},close:function(){this.openCount--,this.openCount=this.openCount<0?0:this.openCount,0===this.openCount&&this.$mask.hide()}},$(function(){var c=oasis.getTopWindow();a.Mask=a.oasis.Mask=c.Mask?c.Mask:new b})}(this),function(){$.oasUiFactory("oasOperate",{options:{trigger:"click",delay:150,data:[],target:"",offset:[0,0],placement:"auto",position:null,content:null,onOpen:function(){},onClose:function(){},onSelected:function(){},beforeOpen:function(){}},_template:function(){{var a;
this.options}return a='{{if level == 0}}<div class="operate-arrow top-arrow"></div>{{/if}}<ul class="{{if level == 1}}second-menu oas-operate open{{/if}}{{if level == 0}}first-menu{{/if}}{{if level == 2}}third-menu oas-operate open{{/if}}{{if layout.horizontal == "right"}} to-right{{/if}}{{if layout.horizontal == "left"}} to-left{{/if}}{{if layout.vertical == "bottom"}} to-bottom{{/if}}{{if layout.vertical == "top"}} to-top{{/if}}">{{each list}}{{if level != 0}}{{if $value.hasChild != true}}<li index={{$index}} id="{{$value.id}}" class="{{if $value.disable == true}} oas-disable{{/if}}" {{if $value.title != null}}title="{{$value.title}}"{{/if}}><a href="javascript:;" class="oasicon {{$value.iconClass}}"></a><a href="javascript:;">{{$value.text}}</a></li>{{else}}<li index={{$index}} id="{{$value.id}}" class="{{if $value.disable == true}} oas-disable{{/if}}" {{if $value.title != null}}title="{{$value.title}}"{{/if}}><a href="javascript:;" class="oasicon {{$value.iconClass}}"></a><a href="javascript:;">{{$value.text}}</a><a href="javascript:;" class="oasicon oasicon-arrow-right"></a></li>{{/if}}{{else}}{{if $value.hasChild != true}}<li index={{$index}} {{if $value.copyContent != null}}copycontent="{{$value.copyContent}}"{{/if}} id="{{$value.id}}" class="{{if $value.disable == true}} oas-disable{{/if}}" {{if $value.title != null}}title="{{$value.title}}"{{/if}}><a href="javascript:;" class="oasicon {{$value.iconClass}}"></a><a href="javascript:;">{{$value.text}}</a></li>{{/if}}{{/if}}{{/each}}</ul>{{if hasChild == true && level == 0}}<ul class="{{if level == 0}}expand-menu{{/if}}">{{each list}}{{if $value.hasChild == true}}<li index={{$index}} id="{{$value.id}}" class="{{if $value.disable == true}} oas-disable{{/if}}" {{if $value.title != null}}title="{{$value.title}}"{{/if}}><a href="javascript:;" class="oasicon {{$value.iconClass}}"></a><a href="javascript:;">{{$value.text}}</a><a href="javascript:;" class="oasicon oasicon-arrow-right"></a></li>{{/if}}{{/each}}</ul>{{/if}}',template.compile(a)},events:{"mouseover .expand-menu>li":function(a){if("hover"==this.options.trigger){var b=$(a).attr("index"),c=this.mainList[b].id;if($(a).siblings(".open").children(".second-menu").remove(),$(a).hasClass("oas-disable"))return;$(a).addClass("open"),this.subOneList=this._createList(c),this.layoutRule.vertical="bottom",this._createSubDom(this._preRenderData(this.subOneList,1,a),a)}},"mouseleave .oas-operate":function(){},"mouseover .first-menu>li":function(a){"hover"==this.options.trigger&&$(a).parent().next().find("li.open").children(".second-menu").remove()},"mouseover .second-menu>li":function(a){if("hover"==this.options.trigger){var b=$(a).attr("index"),c=this.subOneList[b].id;if($(a).siblings(".open").children(".third-menu").remove(),$(a).hasClass("oas-disable"))return;this.subOneList[b].hasChild&&($(a).addClass("open"),this.subTwoList=this._createList(c),this.layoutRule.vertical="bottom",this._createSubDom(this._preRenderData(this.subTwoList,2,a),a))}},"click .expand-menu>li":function(a){if("click"==this.options.trigger){var b=$(a).attr("index"),c=this.mainList[b].id;if($(a).siblings(".open").children(".second-menu").remove(),$(a).hasClass("oas-disable"))return;$(a).addClass("open"),this.subOneList=this._createList(c),this.layoutRule.vertical="bottom",this._createSubDom(this._preRenderData(this.subOneList,1,a),a)}return!1},"click .first-menu>li":function(a){var b=$(a).attr("index");return $(a).parent().next().find("li.open").children(".second-menu").remove(),$(a).hasClass("oas-disable")?void 0:(this._emit("onSelected",[this.mainList[b],this.$target]),this._iCall("close"),!1)},"click .second-menu>li":function(a){var b=$(a).attr("index"),c=this.subOneList[b].id;if("click"==this.options.trigger){if($(a).siblings(".open").children(".third-menu").remove(),$(a).hasClass("oas-disable"))return;this.subOneList[b].hasChild?($(a).addClass("open"),this.subTwoList=this._createList(c),this.layoutRule.vertical="bottom",this._createSubDom(this._preRenderData(this.subTwoList,2,a),a)):(this._emit("onSelected",[this.subOneList[b],this.$target]),this._iCall("close"))}else if("hover"==this.options.trigger){if($(a).hasClass("oas-disable"))return;this.subOneList[b].hasChild||(this._emit("onSelected",[this.subOneList[b],this.$target]),this._iCall("close"))}return!1},"click .third-menu>li":function(a){if(!$(a).hasClass("oas-disable")){var b=$(a).attr("index");return this._emit("onSelected",[this.subTwoList[b],this.$target]),this._iCall("close"),!1}}},_create:function(){this.$target=null,null!=this.options.data&&this.options.data.length>0&&(this.options.position?(this.openType=0,this._initData(),this._openByPosition(),this._bindOuterClick()):(this.openType=1,this._initData(),this._openOverLay(),this.$target=$(this.options.target)))},_bindOuterClick:function(){var a=this;$(document).on("click.oasOperate",function(b){$(b.target).parents(".oas-operate").size()<1&&!$(b.target).is(".oas-operate")&&$(b.target).parents(".oas-operate").size()<1&&!$(b.target).is(".oas-operate")&&(a._iCall("close"),$(document).off("click.oasOperate"))})},_initData:function(){this._initParam(),this._tidyData()},_initParam:function(){this.layoutRule={horizontal:"right",vertical:"bottom"},this.mainList=[],this.subOneList=[],this.subTwoList=[]},_tidyData:function(){this.mainList=this._createList("0"),this._createDom(this._preRenderData(this.mainList,0))},_createList:function(a){for(var b=this.options.data,c=[],d=[],e=0,f=0,g=b.length;g>f;f++)b[f].pid==a&&c.push(b[f]);for(var f=0,g=c.length;g>f;f++){for(var h=0,i=b.length;i>h;h++)if(c[f].id==b[h].pid){c[f].hasChild=!0;break}c[f].hasChild?d.push(c[f]):d.unshift(c[f])}c=[];for(var f=0;f<d.length;f++)d[f].hasChild||(c.push(d[f]),e++);return c.reverse(),d.splice(0,e),c.concat(d)},_preRenderData:function(a,b,c){for(var d=(this.options,!1),e={},f=0,g=a.length;g>f;f++)if(a[f].hasChild){d=!0;break}return c&&this._judgeLayOut(c,a),e={hasChild:d,list:a,level:b,layout:this.layoutRule}},_createDom:function(a){var b=this.tpl(a),c=this.options.content;if(this.openType){var d=this.$el;d.addClass("oas-operate").addClass("opt-panel"),d.empty().append(b),c?c.append(d):$("body").append(d)}else this.$el.addClass("oas-operate").addClass("opt-panel").empty().append(b),c?c.append(d):$("body").append(this.$el)},_createSubDom:function(a,b){{var c=this.tpl(a);this.$el}0==$(b).has("ul").length&&$(c).appendTo($(b))},_openByPosition:function(){var a=this.options.position,b=this.$el,c=a.left,d=a.top,e=b.outerHeight(),f=b.outerWidth(),g=a.left,h=a.top,i={height:$(window).height(),width:$(window).width(),scrollTop:$(window).scrollTop(),scrollLeft:$(window).scrollLeft()};b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite").addClass("left-arrow"),i.width+i.scrollLeft-c-f<0&&(b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite").addClass("right-arrow"),g=c-f),i.height+i.scrollTop-d-e<0&&(b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite").addClass("left-arrow"),h=d-e,b.find(".operate-arrow").addClass("opposite")),i.height+i.scrollTop-d-e<0&&i.width+i.scrollLeft-c-f<0&&(b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite").addClass("right-arrow"),g=c-f,h=d-e,b.find(".operate-arrow").addClass("opposite")),b.css("left",g),b.css("top",h)},_judgeLayOut:function(a,b){var c=Position.location(a,"fixed"),d={},e=this.layoutRule;d.right=c.right-191>=0?!0:!1,d.left=c.left-191>=0?!0:!1,d.top=c.top-(30*(b.length-1)+6)>=0?!0:!1,d.bottom=c.bottom-(30*(b.length-1)+6)>=0?!0:!1,"right"==e.horizontal&&(e.horizontal=d.right?"right":d.left?"left":"right"),"left"==e.horizontal&&(e.horizontal=d.left?"left":d.right?"right":"left"),"bottom"==e.vertical&&(e.vertical=d.bottom?"bottom":d.top?"top":"bottom"),"top"==e.vertical&&(e.vertical=d.top?"top":d.bottom?"bottom":"top")},_openOverLay:function(){var a=this.options,b=this.$el,c=this,d=a.target,e=a.trigger,f=a.delay,g=this.options.placement,h=this.$el.outerHeight(),i=this.$el.outerWidth(),j=a.offset[0],k=a.offset[1],l=a.content,m={height:$(window).height(),width:$(window).width(),scrollTop:$(window).scrollTop(),scrollLeft:$(window).scrollLeft()};b.oasOverlay({target:$(d),triggerType:e,delay:f,parentNode:l,align:{baseElement:d,baseXY:[0,0]},onClose:function(){c._iCall("close")},beforeOpen:function(a){m={height:$(window).height(),width:$(window).width(),scrollTop:$(window).scrollTop(),scrollLeft:$(window).scrollLeft()},$("body").find(".oas-operate").hide(),c._emit("beforeOpen");var d,e=0,f=0,l=10,n=$(a.target).offset().top,o=$(a.target).offset().left,p=$(a.target).outerWidth(),q=$(a.target).outerHeight();switch(g){case"left":e=-i-10+j,f=-15+k,b.find(".operate-arrow").removeClass("left-arrow bottom-arrow opposite").addClass("right-arrow"),d=[e,f],m.height+m.scrollTop-n-h-k<0&&(e=-i-10+j,f=-h+k+35,d=[e,f],b.find(".operate-arrow").addClass("opposite"));break;case"right":e=+$(a.target).outerWidth()+10+j,f=-13+k,b.find(".operate-arrow").removeClass("left-arrow bottom-arrow opposite").addClass("left-arrow"),d=[e,f],m.height+m.scrollTop-n-h-k<0&&(e=$(a.target).outerWidth()+10+j,f=-h+k+35,d=[e,f],b.find(".operate-arrow").addClass("opposite"));break;case"top":e=+j,f=-h-5+k,b.find(".operate-arrow").removeClass("left-arrow right-arrow opposite").addClass("bottom-arrow"),d=[e,f],m.width+m.scrollLeft-o-i-j<0&&(e=-i+40+j,f=-h-5+k,d=[e,f],b.find(".operate-arrow").addClass("opposite"));break;case"bottom":e=+j,f=25+k,b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite"),d=[e,f],m.width+m.scrollLeft-o-i-j<0&&(e=-i+40+j,f=25+k,d=[e,f],b.find(".operate-arrow").addClass("opposite"));break;default:e=+j,f=25+k,b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite"),d=[e,f],m.width+m.scrollLeft-o-p-l-i-j<0&&m.height+m.scrollTop-n-q-l-h-k>=0&&(e=-i+40+j,f=25+k,d=[e,f],b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite"),b.find(".operate-arrow").addClass("opposite")),m.width+m.scrollLeft-o-p-l-i-j<0&&m.height+m.scrollTop-n-q-l-h-k<0&&(e=-i+40+j,f=-h+k,d=[e,f],b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite"),b.find(".operate-arrow").addClass("bottom-arrow opposite")),m.width+m.scrollLeft-o-p-l-i-j>=0&&m.height+m.scrollTop-n-q-l-h-k<0&&(e=+j,f=-h+k,d=[e,f],b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite"),b.find(".operate-arrow").addClass("bottom-arrow")),m.width+m.scrollLeft-o-p-l-i-j>=0&&m.height+m.scrollTop-n-q-l-h-k>=0&&(e=+j,f=25+k,d=[e,f],b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite")),m.width+m.scrollLeft-o-p-l-i-j<0&&m.height+m.scrollTop-n-q-l-h-k>=0&&0>o-i-l+j&&(e=+j,f=25+k,d=[e,f],b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite")),m.width+m.scrollLeft-o-p-l-i-j<0&&m.height+m.scrollTop-n-q-l-h-k<0&&0>o-i-l+j&&(e=+j,f=-h+k,d=[e,f],b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite"),b.find(".operate-arrow").addClass("bottom-arrow")),m.height+m.scrollTop-n-q-l-h-k<0&&m.width+m.scrollLeft-o-p-l-i-j<0&&0>n-h-l+k&&(e=-i+40+j,f=25+k,d=[e,f],b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite"),b.find(".operate-arrow").addClass("opposite")),m.height+m.scrollTop-n-q-l-h-k<0&&m.width+m.scrollLeft-o-p-l-i-j>=0&&0>n-h-l+k&&(e=+j,f=25+k,d=[e,f],b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite")),m.height+m.scrollTop-n-q-l-h-k<0&&m.width+m.scrollLeft-o-p-l-i-j<0&&0>n-h-l+k&&0>o-i-l+j&&(e=+j,f=25+k,d=[e,f],b.find(".operate-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite"))}this.oasOverlay("align",{baseXY:d})}})},invoke:{open:function(){{var a=this;setTimeout(function(){a._create(),a._emit("onOpen"),a.$el.show()},50)}},close:function(){this._emit("onClose"),this.$el.find(".second-menu,.third-menu").remove(),this.$el.hide(),$("body").find(".oas-mask-opacity").hide()},data:function(a){this.options.data=a,this._create()},position:function(a){this.options.position&&(this.options.position=a,this._create())},target:function(a){a&&(this.$target=a)}}})}(),function(){$.oasUiFactory("oasFormTip",{options:{},_create:function(){{var a=this.$el;this.options}this.$remind,this.$error,this.upArrow=!1,this.iconRmind=$('<i class="form-tip-icon oasicon oasicon-tip"></i>'),this.iconError=$('<i class="form-tip-icon oas-error oasicon oasicon-tip"></i>'),this.$remind=this._createFormTip(),this.$error=this._createErrorFormTip(),null!=a.attr("oasmsg")&&("checkbox"==a.attr("type")||"radio"==a.attr("type")?(a.closest(".form-content").append(this.iconRmind),this.iconRmind.siblings(".form-tip-icon").remove(),this.iconRmind.css({position:"absolute",right:0})):a.parent(".input-hasicon").size()>0?this.iconRmind.appendTo(a.parent(".input-hasicon")):this.iconRmind.insertAfter(a)),null!=a.attr("oaserrormsg")&&a.hasClass("oas-error")&&("checkbox"==a.attr("type")||"radio"==a.attr("type")?(this.iconRmind.remove(),a.closest(".form-content").append(this.iconError),this.iconError.siblings(".form-tip-icon").remove(),this.iconError.css({position:"absolute",left:a.closest(".form-content").width()-24})):a.parent(".input-hasicon").size()>0?(this.iconRmind.remove(),this.iconError.remove(),this.iconError.appendTo(a.parent(".input-hasicon"))):(this.iconRmind.remove(),this.iconError.remove(),this.iconError.insertAfter(a))),this._bindEvent(this.$remind,this.$error)},_createFormTip:function(){return $formTip=$('<div class="oas-form-tip"><div class="form-arrow"></div><div class="oas-tip-bd"></div></div>')},_createErrorFormTip:function(){var a=this._createFormTip();return a.addClass("oas-error"),a},_setPosition:function(a,b){this._setUpArrow(a.offset().top,b.height()),this.upArrow?(b.find(".form-arrow").addClass("form-tip-arrowup"),b.css({position:"absolute",top:a.offset().top+b.height()+6,left:a.offset().left-b.width()+8})):(b.find(".form-arrow").removeClass("form-tip-arrowup"),b.css({position:"absolute",top:a.offset().top-b.height()-27,left:a.offset().left-b.width()+8}))},_hasInputIconPosition:function(a,b){this._setUpArrow(a.offset().top,b.height()),this.upArrow?(b.find(".form-arrow").addClass("form-tip-arrowup"),b.css({position:"absolute",top:a.offset().top+b.height()+6,left:a.offset().left-b.width()+45})):(b.find(".form-arrow").removeClass("form-tip-arrowup"),b.css({position:"absolute",top:a.offset().top-b.height()-27,left:a.offset().left-b.width()+45}))},_bindEvent:function(a,b){var c=this.$el,d=(this.options,this);if("checkbox"==c.attr("type")||"radio"==c.attr("type")){var e=c.closest(".form-content");e.hover(function(){c.hasClass("oas-error")?null!=c.attr("oaserrormsg")&&($("body").append(b),b.siblings(".oas-form-tip").remove(),b.width(c.closest(".form-content").width()-6),$(".oas-tip-bd",b).text(c.attr("oaserrormsg")),d._setPosition($(this).find(".oasicon"),b),b.show()):null!=c.attr("oasmsg")&&($("body").append(a),a.siblings(".oas-form-tip:not(.oas-error)").remove(),a.width(c.closest(".form-content").width()-6),$(".oas-tip-bd",a).text(c.attr("oasmsg")),d._setPosition($(this).find(".oasicon"),a),a.show())},function(){b.remove(),a.remove()})}else c.parent(".input-hasicon").size()>0?(c.on("focus",function(){null!=$(this).attr("oasmsg")&&($("body").append(a),a.width(c.parent().width()-5),$(this).unbind("hover"),b.remove(),$(".oas-tip-bd",a).text($(this).attr("oasmsg")),d._hasInputIconPosition($(this).parent(".input-hasicon").find(".oasicon"),a),a.show())}).on("blur",function(){a.remove(),$(this).hover(function(){$(this).hasClass("oas-error")&&null!=$(this).attr("oaserrormsg")&&($("body").append(b),b.width(c.parent().width()-8),b.siblings(".oas-form-tip").remove(),$(".oas-tip-bd",b).text($(this).attr("oaserrormsg")),d._hasInputIconPosition($(this).parent(".input-hasicon").find(".oasicon"),b),b.show())},function(){b.remove()})}),c.hover(function(){$(this).hasClass("oas-error")&&null!=$(this).attr("oaserrormsg")&&($("body").append(b),b.width(c.parent().width()-8),b.siblings(".oas-form-tip").remove(),$(".oas-tip-bd",b).text($(this).attr("oaserrormsg")),d._hasInputIconPosition($(this).parent(".input-hasicon").find(".oasicon"),b),b.show())},function(){b.remove()}),this.iconError.hover(function(){$("body").append(b),b.width(c.parent().width()-8),b.siblings(".oas-form-tip").remove(),$(".oas-tip-bd",b).text($(this).parent().find("[oaserrormsg]").attr("oaserrormsg")),d._setPosition($(this),b),b.show()},function(){b.remove()})):(c.on("focus",function(){null!=$(this).attr("oasmsg")&&($("body").append(a),a.width(c.width()+40),$(this).unbind("hover"),b.remove(),$(".oas-tip-bd",a).text($(this).attr("oasmsg")),d._setPosition($(this).next(".oasicon"),a),a.show())}).on("blur",function(){a.remove(),$(this).hover(function(){$(this).hasClass("oas-error")&&null!=$(this).attr("oaserrormsg")&&($("body").append(b),b.width(c.width()+40),b.siblings(".oas-form-tip").remove(),$(".oas-tip-bd",b).text($(this).attr("oaserrormsg")),d._setPosition($(this).next(".oasicon"),b),b.show())},function(){b.remove()})}),c.hover(function(){$(this).hasClass("oas-error")&&null!=$(this).attr("oaserrormsg")&&($("body").append(b),b.width(c.width()+40),b.siblings(".oas-form-tip").remove(),$(".oas-tip-bd",b).text($(this).attr("oaserrormsg")),d._setPosition($(this).next(".oasicon"),b),b.show())},function(){b.remove()}),this.iconError.hover(function(){$("body").append(b),b.width(c.width()+40),b.siblings(".oas-form-tip").remove(),$(".oas-tip-bd",b).text($(this).prev().attr("oaserrormsg")),d._setPosition($(this),b),b.show()},function(){b.remove()}))},_setUpArrow:function(a,b){this.upArrow=b>a-27?!0:!1},invoke:{message:function(a,b){var c=this.$el,d=this.iconRmind,e=this.iconError;switch(b){case"oasmsg":a=a?a:"",d.remove(),e.remove(),c.attr("oasmsg",a);break;case"oaserrormsg":a=a?a:"",d.remove(),e.remove(),c.addClass("oas-error"),c.parent(".input-hasicon").addClass("oas-error"),c.attr("oaserrormsg",a);break;default:a=a?a:"",d.remove(),e.remove(),c.attr("oasmsg",a)}this._create()},remove:function(a){var b=this.$el,c=this.iconRmind,d=this.iconError;"oaserrormsg"===a?(b.removeClass("oas-error"),b.removeAttr("oaserrormsg"),b.parent(".input-hasicon").removeClass("oas-error"),c.remove(),d.remove(),this.$error.remove()):"oasmsg"===a?(b.removeAttr("oasmsg"),c.remove(),d.remove(),this.$remind.remove()):(b.removeClass("oas-error"),b.removeAttr("oaserrormsg"),b.removeAttr("oasmsg"),b.parent(".input-hasicon").removeClass("oas-error"),c.remove(),d.remove(),this.$error.remove(),this.$remind.remove()),this._create()}}})}(),$(document).ready(function(){$("form input[type=text],form input[type=password],form input[type=search],form input[type=url],form input[type=tel],form input[type=email],form input[type=number],form textarea").oasFormTip()}),function(){$.oasUiFactory("oasInstantTip",{options:{type:"success",message:"恭喜！成功了",cancel:null,time:2e3,modal:null,onOpen:function(){},onClose:function(){},onCancel:function(){}},_template:function(){var a='<div class="oas-instant-tip info {{if type === "success"}}success{{/if}}{{if type === "error"}}error{{/if}}{{if type === "warning"}}warning{{/if}}{{if type === "loading"}}loading{{/if}}" style="display:none;"><div class="instant-img"></div><div class="instant-text">{{message}}</div>{{if type === "loading" && cancel}}<div class="cancel-text"><a class="oas-assist">{{cancel}}</a></div>{{/if}}</div>';return template.compile(a)},events:{"click .cancel-text ":function(){var a=oasis.getTopWindow(),b=this.options,c=this.$el.children(".oas-instant-tip");c.stop(!0,!1).fadeOut("500"),0!=b.modal&&($("body",a.document).find(".oas-mask").removeClass("zindex93"),c.removeClass("hasModal"),Mask.close()),this._emit("onCancel",[this.$el])}},_create:function(){this.options;this._preRenderData(),this._judgeModal()},_preRenderData:function(){var a=this.options,b={},c=a.type,d=a.position,e=a.message,f=a.cancel;this._renderData=b={type:c,position:d,message:e,cancel:f},this._createDom()},_judgeModal:function(){var a=this.options;if(null==a.modal)switch(a.type){case"success":a.modal=!1;break;case"warning":a.modal=!1;break;case"error":a.modal=!1;break;case"loading":a.modal=!0}},_createDom:function(){var a=(this.options,this.$el.children(".oas-instant-tip")),b=this.tpl(this._renderData);a.remove(),this.$el.append(b)},invoke:{open:function(a){var b=this.options,c=this,d=this.$el.children(".oas-instant-tip"),e=oasis.getTopWindow();a?(b.message=a.message,b.type=a.type,b.time=a.time,b.modal=a.modal,b.cancel=a.cancel,b.onOpen=a.onOpen,b.onClose=a.onClose,b.onCancel=a.onCancel,this._preRenderData(),this._iCall("openOther")):"loading"!=b.type?b.modal===!0?(Mask.open(),$("body",e.document).find(".oas-mask").addClass("zindex93"),d.addClass("hasModal"),d.fadeIn("slow"),setTimeout(function(){d.fadeOut(500),$("body",e.document).find(".oas-mask").removeClass("zindex93"),d.removeClass("hasModal"),Mask.close(),c._emit("onClose",[this.$el])},b.time)):(d.fadeIn("slow"),setTimeout(function(){d.fadeOut(500),c._emit("onClose",[this.$el])},b.time)):"loading"===b.type&&(0!=b.modal&&(Mask.open(),$("body",e.document).find(".oas-mask").addClass("zindex93"),d.addClass("hasModal"),d.fadeIn("slow")),d.fadeIn("slow")),this._iCall("resize"),c._emit("onOpen",[this.$el])},close:function(){var a=(this.options,this),b=this.$el.children(".oas-instant-tip"),c=oasis.getTopWindow();b.fadeOut(500),b.removeClass("hasModal"),$("body",c.document).find(".oas-mask").removeClass("zindex93"),this.options.modal&&Mask.close(),a._emit("onClose",[this.$el])},openOther:function(){var a=this.options,b=this,c=this.$el.children(".oas-instant-tip"),d=oasis.getTopWindow();"loading"!=a.type?a.modal===!0?(Mask.open(),$("body",d.document).find(".oas-mask").addClass("zindex93"),c.addClass("hasModal"),c.fadeIn("slow"),setTimeout(function(){c.fadeOut(500),c.removeClass("hasModal"),$("body",d.document).find(".oas-mask").removeClass("zindex93"),Mask.close(),b._emit("onClose",[this.$el])},a.time)):(c.fadeIn("slow"),setTimeout(function(){c.fadeOut(500),b._emit("onClose",[this.$el])},a.time)):"loading"===a.type&&(0!=a.modal&&(Mask.open(),$("body",d.document).find(".oas-mask").addClass("zindex93"),c.addClass("hasModal"),c.fadeIn("slow")),c.fadeIn("slow"))},time:function(a){this.options.time=a},message:function(a){var b=(this.options,this.$el.children(".oas-instant-tip"));b.find(".instant-text").text(a)},type:function(a,b){var c=(this.options,this.$el.children(".oas-instant-tip"));c.removeClass("success error loading warning").addClass(a),b&&c.find(".instant-text").text(b)},resize:function(){var a=this.$el.children(".oas-instant-tip"),b=a.outerWidth()/2,c=a.outerHeight()/2;a.css({"margin-top":-c}),a.css({"margin-left":-b})}}}),$(window).unload(function(){var a=oasis.getTopWindow();$(a.document).find(".oas-instant-tip").size()>0&&($(a.document).find(".oas-instant-tip.hasModal").size()>0&&(Mask.close(),$(a.document).find(".oas-mask").removeClass("zindex93")),$(a.document).find(".oas-instant-tip").remove())}),$(window).bind("onframeblur",function(){var a=oasis.getTopWindow();$(a.document).find(".oas-instant-tip").size()>0&&($(a.document).find(".oas-instant-tip.hasModal").size()>0&&(Mask.close(),$(a.document).find(".oas-mask").removeClass("zindex93")),$(a.document).find(".oas-instant-tip").remove())})}(),function(){$.oasUiFactory("oasSelect",{options:{trigger:"click",width:250,height:"auto",maxHeight:400,delay:150,tip:"请选择内容",comment:!1,data:[],disabled:!1,showType:"down",offset:[0,0],onChange:function(){}},_template:function(){var a='<div class="select-hd{{if comment == true}} has-comments{{/if}}{{if disabled == true}} disabled{{/if}}"><div class="select-hd-content"><span class="select-text {{if chosenIndex != -1 }}select-color{{else}}tip-color{{/if}} {{if disabled == true}}oas-text-disable{{/if}}">{{tip}}</span><span class="comment-text {{if disabled == true}}oas-text-disable{{/if}}">{{commentText}}</span></div><a class="oasicon oasicon-arrow-down"></a></div><ul class="select-bd {{if comment == true}}has-comments{{/if}} {{if showType == "up"}}up{{/if}}">{{each list}}<li {{if $value.title != null}}title="{{$value.title}}"{{/if}} class="select-bd-li {{if $index == list.length-1}}last{{/if}} {{if $index == 0}}start{{/if}} {{if $index == chosenIndex && $value.disabled != true}}focus{{/if}} {{if $value.disabled == true}}disabled{{/if}}" index={{$index}} disable={{"" + $value.disabled}} val={{$value.value}}><div class="select-bd-content {{if $value.vip == true}}vip{{/if}}"><span class="option-text {{if $value.disabled == true}}oas-text-disable{{/if}}">{{#$value.text}}</span><span class="option-comment {{if $value.disabled == true}}oas-text-disable{{/if}}">{{$value.comment}}</span></div></li>{{/each}}</ul>';return template.compile(a)},events:{"click .select-bd-li":function(a){return"false"==$(a).attr("disable")&&((-1==this.currentIndex||this.currentIndex!=$(a).attr("index"))&&(this.currentIndex=$(a).attr("index"),this.$el_hd.find(".select-hd-content .select-text").text($(a).find(".option-text").text()).removeClass("tip-color").addClass("select-color"),this.$el_hd.find(".select-hd-content .comment-text").text($(a).find(".option-comment").text()),this._emit("onChange",[this.options.data[this.currentIndex].value,this.options.data[this.currentIndex].text]),1==this.type&&(this.$dom.val(this.options.data[this.currentIndex].value),this.$dom.find("option").removeAttr("selected"),this.$dom.find("option").eq(this.currentIndex).attr("selected","true"),this.$dom.trigger("change"))),this.$el.oasOverlay("hide")),!1},"mouseover .select-bd-li":function(a){"false"==$(a).attr("disable")&&($.each(this.$el.find(".select-bd-li"),function(a,b){$(b).removeClass("focus")}),this.currentHoverIndex=$(a).attr("index"),$(a).addClass("focus"))}},_create:function(){this._desTroyOverLay(),this._initParam(),this._judgeSelect(),this._openOverLay()},_openOverLay:function(){var a=this.options,b=this.$el,c=this,d=this.$el_hd,e=a.delay,f=a.offset[0],g=a.offset[1],h=a.trigger;b.oasOverlay({target:$(d),triggerType:h,delay:e,isNeedAnimation:!1,align:{baseElement:d,baseXY:[0,30]},onOpen:function(){"hover"!==h&&(c.isOpen?(c.isOpen=!1,c.$el.hide()):(c.isOpen=!0,c.$el.show())),c.$_transparent=$('<div style="position:fixed;top:0;left:0;right:0;bottom:0;z-index:99994;"></div>').appendTo("body")},onClose:function(){c.isOpen=!1,c.$_transparent.remove()},beforeOpen:function(){$("body").find(".oas-select-bd").hide(),c.$el.find(".select-bd-li").removeClass("focus"),c.$el.find('.select-bd-li[index="'+c.currentIndex+'"]').addClass("focus"),this.oasOverlay("align",{baseXY:[0+f,30+g]})}})},_initParam:function(){this.currentIndex=-1,this.currentHoverIndex=-1,this.isOpen=!1,oasSelect.allSelect.push(this)},_liUp:function(a){var b=this,c=b.currentHoverIndex,d=this.$el;if(b.isOpen&&-1!=b.currentHoverIndex)for(a.preventDefault();b.currentHoverIndex>0;){if(b.currentHoverIndex--,!this.options.data[b.currentHoverIndex].disabled){d.find('.select-bd-li[index="'+b.currentHoverIndex+'"]').trigger("mouseover");break}if(0==b.currentHoverIndex){b.currentHoverIndex=c;break}}return!1},_liDown:function(a){var b=this,c=b.currentHoverIndex,d=this.$el;if(b.isOpen&&-1!=b.currentHoverIndex)for(a.preventDefault();b.currentHoverIndex<this.options.data.length-1;){if(b.currentHoverIndex++,!this.options.data[b.currentHoverIndex].disabled){d.find('.select-bd-li[index="'+b.currentHoverIndex+'"]').trigger("mouseover");break}if(b.currentHoverIndex==this.options.data.length){b.currentHoverIndex=c;break}}return!1},_judgeSelect:function(){var a=this.$el;a.is("select")?(this._tidySelectData(a,!0),this.$el=$("<div></div>"),this.$dom=a,this.type=1):this.type=0,this._preRenderData(),this.recordOptions=$.extend(!0,{},this.options)},_tidySelectData:function(a,b){var c=this.options,d=this,e=[];c.data=[],c.comment=a.attr("comment"),b?null==c.disabled?c.disabled=a.prop("disabled")?!0:!1:a.prop("disabled",c.disabled):c.disabled=a.prop("disabled")?!0:!1,$.each(a.find("option"),function(a,f){var g=$(f).attr("isShow");if(void 0!=g&&"false"==g)return!0;var h={};h.value=$(f).attr("value"),h.text=$(f).text(),h.selected=$(f).prop("selected")?!0:!1,h.selected&&b&&(d.initChosen=a),h.disabled=$(f).prop("disabled")?!0:!1,h.vip=$(f).attr("vip")?!0:!1,h.comment="",h.title=h.text,c.data.push(h),b&&(e.push(f),d.copyOptions=$.extend(!0,[],e))})},_preRenderData:function(a){var b=this.options,c={},d=[],e=!1,f=-1;vipList=[],noVipList=[],commentText="",tip=b.tip,b.comment&&(e=b.comment),d=b.data;for(var g=0,h=d.length;h>g;g++){var i=d[g];i.disabled=!!i.disabled,i.selected=!!i.selected,i.vip?vipList.push(i):noVipList.push(i)}b.data=vipList.concat(noVipList),f=this._chosenSelect(),-1!=f&&(tip=b.data[f].text,commentText=b.data[f].comment),this.currentHoverIndex=f,this.currentIndex=f,null==b.disabled&&(b.disabled=!1),this._renderData=c={tip:tip,list:b.data,disabled:b.disabled,chosenIndex:f,commentText:commentText,showType:b.showType,comment:e},this._createDom(a)},_createDom:function(a){var b="",c=this.$dom;if($el=this.$el,a){b=this.tpl(this._renderData);var d=$("<div></div>").append($(b));this.$el_select.empty().append(d.find(".select-hd")),this.$el_hd=this.$el_select.find(".select-hd"),this.$el.empty().append(d.find(".select-bd"))}else b=this.tpl(this._renderData),this.$el.empty().append(b).addClass("oas-select"),this.type&&c.after(this.$el).hide(),this.$el_select=this.$el,this.$el_hd=this.$el.find(".select-hd"),this.$el=$("<div></div>"),$el.find(".select-bd").appendTo(this.$el),this.$el.prependTo($("body")).addClass("oas-select-bd"),this.type&&this.$el.data("origin",c);this._adjustLayout(this.type)},_chosenSelect:function(){var a=-1;return $.each(this.options.data,function(b,c){return c.selected?(a=b,!1):void 0}),a},_adjustLayout:function(){this.options;this._adjustHeight(),this._adjustWidth()},_adjustHeight:function(){if("number"==typeof this.options.height){this.options.height=this.options.height<=this.options.maxHeight?this.options.height:this.options.maxHeight;var a=30*this.options.data.length;a<=this.options.height?this.$el.find(".select-bd").css("height",a):this.$el.find(".select-bd").css("height",this.options.height).addClass("overflow-y").addClass("oas-scroll-webkit")}else if("auto"==this.options.height){var a=30*this.options.data.length;a<=this.options.maxHeight?this.$el.find(".select-bd").css("height",a):this.$el.find(".select-bd").css("height",this.options.maxHeight).addClass("overflow-y").addClass("oas-scroll-webkit")}},_adjustWidth:function(){var a=this.$el,b=this.options,c=this.$el_hd;if(b.comment&&b.width<=130&&(b.width=130),!b.comment&&b.width<=60&&(b.width=60),c.parent().width(b.width),c.width(b.width-42),a.find(".select-bd").width(b.width-2),"number"==typeof this.options.height){this.options.height=this.options.height<=this.options.maxHeight?this.options.height:this.options.maxHeight;var d=30*this.options.data.length;a.find("li").width(d<=this.options.height?b.width-22:b.width-22-10)}else if("auto"==this.options.height){var d=30*this.options.data.length;a.find("li").width(d<=this.options.maxHeight?b.width-22:b.width-22-10)}},_findIndexByValue:function(a){var b=-1,c=this.$el;return $.each(c.find(".select-bd-li"),function(c,d){return $(d).attr("val")==a?(b=c,!1):void 0}),b},_findIndexByCondition:function(a){var b=-1;return"number"==typeof a?a>-1&&a<this.options.data.length&&(b=a):b=this._findIndexByValue(a),b},_changeDisableStatus:function(a,b){var c=this._findIndexByCondition(a);-1!=c&&(this.options.data[c].disabled=b,this._reInitSelect())},_reInitSelect:function(){this._desTroyOverLay(),this.currentIndex=-1,this.currentHoverIndex=-1,this.isOpen=!1,this._preRenderData(!0),this._openOverLay()},_desTroyOverLay:function(){this.$el.data("oasOverlay")&&this.$el.oasOverlay("destroyOverlay")},invoke:{width:function(a){return this.options.width=a,this._adjustWidth(),this},height:function(a){return this.options.height=a,this._adjustHeight(),this},maxHeight:function(a){this.options.maxHeight=a},select:function(a){var b=(this.$el,-1);if("undefined"==typeof a)return this.options.data[this.currentIndex];
if(b=this._findIndexByCondition(a),-1!=b){for(var c=0;c<this.options.data.length;c++)this.options.data[c].selected=!1;return this.options.data[b].selected=!0,1==this.type&&(this.$dom.val(this.options.data[b].value),this.$dom.find("option").removeAttr("selected"),this.$dom.find("option").eq(b).attr("selected","true"),this.$dom.trigger("change")),this._reInitSelect(),this._emit("onChange",[this.options.data[b].value,this.options.data[b].text]),this}},data:function(a){a.length>0&&(this.options.data=a,this._reInitSelect())},disableOption:function(a){this._changeDisableStatus(a,!0)},enableOption:function(a){this._changeDisableStatus(a,!1)},removeOption:function(a){var b=this._findIndexByCondition(a);-1!=b&&(this.options.data.splice(b,1),this.type&&this.$dom.find("option").eq(b).remove(),this.options.data.length>0&&this._reInitSelect())},addOption:function(a,b){if(a>-1&&a<this.options.data.length||0==this.options.data.length){if(this.options.data.splice(a,0,b),this.type){var c=$("<option></option>");c.text(b.text).attr("value",b.value),b.selected&&c.attr("selected","true"),b.disabled&&c.attr("disabled","true"),this.$dom.find("option").eq(a).before(c)}this._reInitSelect()}},showDirection:function(a){"undefined"!=typeof a&&(this.options.showType=a,this._reInitSelect())},reset:function(){this.options=this.recordOptions,this._reInitSelect(),1==this.type&&(this.$dom.empty().append(this.copyOptions),this.$dom.val(this.options.data[this.initChosen].value),this.$dom.find("option").removeAttr("selected"),this.$dom.find("option").eq(this.initChosen).attr("selected","true"))},reLoad:function(){1==this.type&&(this._tidySelectData(this.$dom),this._reInitSelect())},hidePanel:function(){this.$el.oasOverlay("hide"),this.$_transparent.remove()},showPanel:function(){"block"!=this.$el.css("display")&&(this.$el.oasOverlay("show"),this.$_transparent=$('<div style="position:fixed;top:0;left:0;right:0;bottom:0;z-index:99994;"></div>').appendTo("body"))},disable:function(a){this.options.disabled=a,this._reInitSelect(),this.type&&(a?this.$dom.prop("disabled",!0):this.$dom.prop("disabled",!1))},getDisableStatus:function(){return this.options.disabled}}}),oasSelect={},oasSelect.allSelect=[],$(document).off("keydown.oasSelect"),$(document).on("keydown.oasSelect",function(a){switch(a.keyCode){case 38:$.each(oasSelect.allSelect,function(b,c){c.isOpen&&c._liUp(a)});break;case 40:$.each(oasSelect.allSelect,function(b,c){c.isOpen&&c._liDown(a)})}})}(),function(){$.oasUiFactory("oasDialog",{options:{type:"success",title:"头部标题",src:null,content:null,message:null,modal:!1,position:null,autoOpen:!1,isDrag:!0,fixed:!1,width:"auto",height:"auto",buttons:[{label:"确定",callBack:function(a){a.oasDialog("close")}}],closeable:!0,context:null,onOpen:function(){},onClose:function(){},onLoad:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){}},_template:function(){var a,b=this.options;return a=b.src?'<div class="dialog-hd {{if isDrag === true}}drag{{/if}}"><h4 class="oas-title">{{title}}</h4>{{if closeable === true}}<a href="javascript:;" class="dialog-close oasicon oasicon-close"></a>{{/if}}</div><div class="dialog-bd"><iframe src="" frameborder="0" width="100%" height="100%" class="dialog-iframe"></iframe><div class="opacity"></div></div>':'<div class="dialog-hd {{if isDrag === true}}drag{{/if}}"><h4 class="oas-title">{{title}}</h4>{{if closeable === true}}<a href="javascript:;" class="dialog-close oasicon oasicon-close"></a>{{/if}}</div><div class="dialog-bd"><div class="prompt-info {{if type === "error"}}error{{/if}}{{if type === "success"}}success{{/if}}{{if type === "confirm"}}confirm{{/if}}{{if type === "warning"}}warning{{/if}}"><div class="prompt-img"></div>{{if message === null}}<h4 class="oas-title content"><span>{{content}}</span></h4>{{/if}}<h4 class="oas-title content"><span>{{#message}}</span></h4></div></div>',template.compile(a)},events:{"click .dialog-close":function(){return this._iCall("close"),!1}},_create:function(){var a=this.options;this._adjustButtonOrder(),this.$el.addClass("oas-dialog"),this._preRenderData(),this._location(this.$el,a.position),this._drag()},_adjustButtonOrder:function(){var a=this.options.buttons,b=null,c=null;if(a){for(var d=0;d<a.length;d++)if(-1!=a[d].label.indexOf("确定")){b=a[d],a.splice(d,1);break}for(var e=0;e<a.length;e++)if(-1!=a[e].label.indexOf("取消")){c=a[e],a.splice(e,1);break}}null!==b&&a.unshift(b),null!==c&&a.push(c)},_preRenderData:function(){var a=this.options,b={},c=this.type||(this.type=a.type),d=this.title||(this.title=a.title),e=this.message||(this.message=a.message),f=this.$el.text(),g=this.src||(this.src=a.src),h=a.isDrag;this._renderData=b={type:c,title:d,isDrag:h,message:e,src:g,closeable:a.closeable,content:f},this._createDom(),this._drag()},_location:function(a,b){b&&(this.left=b[0],this.top=b[1]),"right"===this.left?"bottom"===this.top?a.css(this.options.fixed?{position:"fixed",bottom:0,right:0}:{position:"absolute",bottom:0,right:0}):("number"!=typeof this.top&&this._checkTop(this.top,a),a.css(this.options.fixed?{position:"fixed",top:this.top-$(window).scrollTop(),right:0}:{position:"absolute",top:this.top,right:0})):"bottom"===this.top?("number"!=typeof this.left&&this._checkLeft(this.left,a),a.css(this.options.fixed?{position:"fixed",bottom:0,left:this.left}:{position:"absolute",bottom:0,left:this.left})):("number"!=typeof this.left&&this._checkLeft(this.left,a),"number"!=typeof this.top&&this._checkTop(this.top,a),a.css(this.options.fixed?{position:"fixed",top:this.top-$(window).scrollTop(),left:this.left}:{position:"absolute",top:this.top,left:this.left}))},_checkLeft:function(a,b){switch(a){case"left":this.left=0;break;case"center":this.left=($(window).width()-b.outerWidth())/2;break;default:this.left=($(window).width()-b.outerWidth())/2}},_checkTop:function(a,b){switch(a){case"top":this.top=0;break;case"center":this.top=($(window).height()-b.outerHeight())/2+$(window).scrollTop();break;default:this.top=($(window).height()-b.outerHeight())/2+$(window).scrollTop()}},_drag:function(){var a=this.options,b=this.$el,c=this;a.isDrag===!0&&b.oasDrag(a.fixed===!0?{handle:".dialog-hd",position:"fixed",onStart:function(){c._emit("onDragStart")},onDrag:function(){b.find(".opacity").show(),c._emit("onDrag")},onEnd:function(){b.find(".opacity").hide(),c._emit("onDragEnd")}}:{handle:".dialog-hd",position:"absolute",onStart:function(){c._emit("onDragStart")},onDrag:function(){b.find(".opacity").show(),c._emit("onDrag")},onEnd:function(){b.find(".opacity").hide(),c._emit("onDragEnd")}})},_createButtons:function(a,b,c){var d=this.$el;$.each(b,function(e){var f,g=b[e].label;1==b[e].recommend?(f=$('<a href="javascript:;" class="oas-btn oas-recommend">'+g+"</a>"),1==b[e].disabled&&(f=$('<a href="javascript:;" class="oas-btn oas-disabled">'+g+"</a>"))):f=$(1==b[e].disabled?'<a href="javascript:;" class="oas-btn oas-disabled">'+g+"</a>":'<a href="javascript:;" class="oas-btn">'+g+"</a>"),a.append(f),f.bind("click",function(){return $(this).hasClass("oas-disabled")?!1:void(c?b[e].callBack(d,c.contentWindow):b[e].callBack(d))})})},_setProp:function(){var a=this.$el,b=this.options,c=b.width,d=b.height;a.width(c+30),a.find(".dialog-bd").height(d),a.find(".dialog-iframe").width(c),a.find(".dialog-iframe").height(d)},_cacheData:function(){{var a=this;this.$el}setTimeout(function(){a._iCall("src",[a.options.src])},300),this.customData={}},_createDom:function(){var a=this.options,b=this.$el,c=this.tpl(this._renderData);this.$el.append(c),this.$frame=b.find("iframe"),a.src&&(b.addClass("info-mode"),this._cacheData());var d=a.buttons;if(d){b.append('<div class="dialog-ft"></div>');var e=b.find(".dialog-ft");this._createButtons(e,d,this.$frame[0])}"loading"===a.type&&(b.addClass("loading"),b.find(".dialog-hd").remove()),a.autoOpen===!0&&this._iCall("open"),a.content&&(b.addClass("info-mode"),b.find(".dialog-bd").empty().append(a.content),b.find(".dialog-bd").css("overflow-y","auto")),this._setProp()},invoke:{open:function(){var a=this.options,b=this.$el;a.modal===!0&&(Mask.open(),b.addClass("hasModal")),b.show(),a.src?this._emit("onOpen",[b,this.$frame[0].contentWindow]):this._emit("onOpen",[b])},close:function(){var a,b=this.$el,c=this.options;a=c.src?this._emit("onClose",[b,this.$frame[0].contentWindow]):this._emit("onClose",[b]),0!=a&&(this.$el.hide(0,function(){b.remove()}),1==this.options.modal&&(Mask.close(),b.removeClass("hasModal"),$("body").find(".oas-mask").removeClass("zindex93")))},title:function(a){this.$el.find(".dialog-hd h4").text(a)},message:function(a){this.$el.find(".content").text(a)},btnDisabled:function(a){1==a?this.$el.find(".dialog-ft .oas-btn").addClass("oas-disabled"):this.$el.find(".dialog-ft .oas-btn").removeClass("oas-disabled")},src:function(a){function b(){var a=c.$frame[0].contentWindow;a.OasDialog?a.OasDialog.close=function(){c._iCall("close")}:a.OasDialog=c,a.OasDialog.openerWin=window;for(var b in c.customData)a[b]=c.customData[b];c._emit("onLoad",[c.$el,a]),a.init&&a.init()}var c=this;this.options.src=a,this._iCall("refresh"),this.$frame[0].attachEvent?this.$frame[0].attachEvent("onload",b):this.$frame[0].onload=b},refresh:function(){var a=this.options,b=a.src;b=/\?/.test(b)?b+"&newTime=newTime"+(new Date).getTime():b+"?newTime=newTime"+(new Date).getTime(),this.$frame.attr("src",b)},getData:function(a){var b=this.$frame[0].contentWindow[a];if(void 0!==b)return b;throw Error(a+"----不存在于半遮页的window对象中，请确认是否保存或书写正确")},setData:function(a){var b;this.customData={};for(var c in a)a.hasOwnProperty(c)&&(this.customData[c]=a[c]);if(this.$frame[0].contentWindow&&(b=this.$frame[0].contentWindow))for(var c in this.customData)b[c]=this.customData[c]},position:function(a,b){this.left=a||0==a?a:this.left,this.top=b||0==b?b:this.top,"number"!=typeof this.left&&this._checkLeft(this.left,this.$el),"number"!=typeof this.top&&this._checkTop(this.top,this.$el),this.$el.css({left:this.left,top:this.top})}}})}(),function(){$.oasUiFactory("oasToolTip",{options:{title:"",placement:"left",offset:"0,0"},_template:function(){var a='<div class="tooltip-arrow"></div><p class="tooltip-bd">{{#title}}</p>';return template.compile(a)},events:{},_create:function(){this.needShow=!0,this.triggerEle=this.$el,this._bindTriggerElement()},_preRenderData:function(){var a=this.options,b={};a.title=$(this.triggerEle).attr("data-oastooltip-title"),this._renderData=b={title:a.title},this._createDom()},_bindTriggerElement:function(){var a=(this.options,this);$(this.$el).on("mouseenter."+this.uiName,function(){a._showWithAnimation(this)}),$(this.$el).on("mouseleave."+this.uiName,function(){a._hideWithAnimation(this)}),"true"==this.triggerEle.attr("data-oastooltip-autoOpen")&&this._showWithAnimation(this.triggerEle)},_showWithAnimation:function(a){if(this.needShow){$("body").find(".oas-tooltip").remove(),this._$el=$("<div></div>"),this._preRenderData();var b=this.options,c=this._$el,d=c.outerHeight(),e=c.outerWidth(),f=$(a).outerHeight(),g=$(a).outerWidth(),h=$(a).offset().left,i=$(a).offset().top;if(c.find(".tooltip-arrow").removeClass("left-arrow bottom-arrow right-arrow top-arrow"),"left"==b.placement){var j=h-25-e+parseInt(this._getXorY().X,10);j=j>h-25-e?h-25-e:j,c.css("left",j),f>=d?c.css("top",i+(f-d)/2+parseInt(this._getXorY().Y,10)):c.css("top",i-(d-f)/2+parseInt(this._getXorY().Y,10)),c.find(".tooltip-arrow").addClass("right-arrow");var k=h-10-e+parseInt(this._getXorY().X,10);k=k>h-10-e?h-10-e:k,c.animate({left:k,opacity:"show"},300)}else if("top"==b.placement){var l=i-25-d+parseInt(this._getXorY().Y,10);l=l>i-25-d?i-25-d:l,c.css("top",l),g>=e?c.css("left",h+(g-e)/2+parseInt(this._getXorY().X,10)):c.css("left",h-(e-g)/2+parseInt(this._getXorY().X,10)),c.find(".tooltip-arrow").addClass("bottom-arrow");var m=i-10-d+parseInt(this._getXorY().Y,10);m=m>i-10-d?i-10-d:m,c.animate({top:m,opacity:"show"},300)}else if("right"==b.placement){var j=h+25+g+parseInt(this._getXorY().X,10);j=h+25+g>j?h+25+g:j,c.css("left",j),f>=d?c.css("top",i+(f-d)/2+parseInt(this._getXorY().Y,10)):c.css("top",i-(d-f)/2+parseInt(this._getXorY().Y,10)),c.find(".tooltip-arrow").addClass("left-arrow");var k=h+10+g+parseInt(this._getXorY().X,10);k=h+10+g>k?h+10+g:k,c.animate({left:k,opacity:"show"},300)}else if("bottom"==b.placement){var l=i+25+f+parseInt(this._getXorY().Y,10);l=i+25+f>l?i+25+f:l,c.css("top",l),g>=e?c.css("left",h+(g-e)/2+parseInt(this._getXorY().X,10)):c.css("left",h-(e-g)/2+parseInt(this._getXorY().X,10)),c.find(".tooltip-arrow").addClass("top-arrow");var m=i+10+f+parseInt(this._getXorY().Y,10);m=i+10+f>m?i+10+f:m,c.animate({top:m,opacity:"show"},300)}}},_hideWithAnimation:function(){$("body").find(".oas-tooltip").remove()},_createDom:function(){var a=this.tpl(this._renderData),b=this._$el;b.addClass("oas-tooltip"),b.empty().append(a).appendTo($("body"))},_getXorY:function(){var a=this.options.offset,b={};return b.X=a.split(",")[0],b.Y=a.split(",")[1],b},invoke:{triggerShow:function(){this.needShow=!0},triggerHide:function(){this.needShow=!1},destory:function(){this.$el.off("."+this.uiName),$("body").find(".oas-tooltip").remove()},title:function(a){this.options.title=a,this.triggerEle.attr("data-oastooltip-title",a)},offset:function(a){this.options.offset=a}}}),$(document).ready(function(){$("[data-oastooltip-title]").oasToolTip()})}(),function(){$.oasUiFactory("oasPagin",{options:{type:"normal",size:"normal",current:1,total:null,pageItems:10,skipto:!0,setPageItems:!0,displayStyle:[2,3,2],onPageNoChage:function(){},onPageItemsChange:function(){}},_template:function(){var a,b=this.options;return a="normal"===b.type?'<span class="pagin-info">共&nbsp;<i>{{total}}</i>&nbsp;条数据&nbsp;<i>{{totalPages}}</i>&nbsp;页，当前显示第&nbsp;{{startItems}}-{{if endItems > total}}{{total}}{{else}}{{endItems}}{{/if}}&nbsp;条</span><div class="pagin-content">{{if setPageItems === true}}<div class="dropdown-btn" data-toggle="dropdown"><a class="oas-btn-icon" href="javascript:;"><span class="btn-text">每页{{pageItems}}条</span><em class="oasicon oasicon-arrow-down"></em></a><ul class="dropdown-menu" data-toggle="dropdown-menu"><li><span class="btn-text">每页10条</span></li><li><span class="btn-text">每页20条</span></li><li class="last"><span class="btn-text">每页50条</span></li></ul></div>{{/if}}{{if skipto === true}}<input type="text" class="page" placeholder="页码"><a class="oas-btn-icon skip" href="javascript:;" title="点击跳转">GO</a>{{/if}}<a class="oas-btn-icon pagin-btn prev{{if current == 1}} oas-disabled{{/if}}" href="javascript:;"><i class="oasicon oasicon-arrow-left"></i></a><ul class="paginations">{{each list}}{{if $value == current}}<li class="active"><a href="javascript:;">{{$value}}</a></li>{{else if $value == "..."}}<li class="oas-pagin-ellipsis"><span>...</span></li>{{else}}<li class="pagin-no"><a href="javascript:;">{{$value}}</a></li>{{/if}}{{/each}}</ul><a class="oas-btn-icon pagin-btn next oas-recommend{{if current == totalPages}} oas-disabled{{/if}}" href="javascript:;"><i class="oasicon oasicon-arrow-right"></i></a></div>':'<span class="pagin-info"><i>{{total}}</i>&nbsp;条&nbsp;<i>{{current}}/{{totalPages}}</i>&nbsp;页</span><div class="pagin-content">{{if skipto === true}}<input type="text" class="page" placeholder="页码"><a class="oas-btn-icon skip" href="javascript:;" title="点击跳转">GO</a>{{/if}}<a class="oas-btn-icon pagin-btn prev{{if current == 1}} oas-disabled{{/if}}" href="javascript:;"><i class="oasicon oasicon-arrow-left"></i></a><a class="oas-btn-icon pagin-btn next{{if current == totalPages}} oas-disabled{{/if}}{{if current < totalPages}} oas-recommend{{/if}}" href="javascript:;"><i class="oasicon oasicon-arrow-right"></i></a></div>',template.compile(a)},events:{"click .skip":function(a){if($(a).hasClass("oas-disabled"))return!1;var b=parseInt(oasis.DBC2SBC($(a).prev("input").val()));b!=this.current&&b>0&&b<=this.totalPages&&this._setCurrentPagin(b)},"click .pagin-no":function(a){var b=parseInt($(a).text(),10);this._setCurrentPagin(b)},"click .pagin-btn":function(a){return $(a).hasClass("oas-disabled")?!1:void($(a).hasClass("homepage")?this._setCurrentPagin(1):$(a).hasClass("prev")?this._prevPagin():$(a).hasClass("next")&&this._nextPagin())},"click .dropdown-btn":function(a,b){var c=this;($(b.target).closest(".dropdown-menu").size()||$(b.target).is("li"))&&setTimeout(function(){var b=+$(a).find(".btn-text").eq(0).text().match(/[0-9][0-9]/g)[0];c._iCall("pageItems",[b]),c._emit("onPageItemsChange",[b,c.current])},0)}},_create:function(){var a=this.options;this.$el.addClass("oas-pagin clearfix").addClass("oas-pagin-"+a.size),this._preRenderData()},_preRenderData:function(){if(null!==this.options.total){var a=this.options,b={},c=void 0!==this.total?this.total:a.total,d=this.pageItems||(this.pageItems=a.pageItems),e=this.totalPages=Math.ceil(c/d),f=this.current||(this.current=a.current),g=d*(f-1)+1,h=d*f,i=this._paginList();if(0===+c)return void this.$el.hide();this.$el.show(),this._renderData=b={total:c,pageItems:d,totalPages:e,current:f,startItems:g,endItems:h,setPageItems:a.setPageItems,skipto:a.skipto,list:i},this._createDom()}},_setCurrentPagin:function(a,b){this.current!==a&&(this.current=a,this._preRenderData(),b!==!1&&this._emit("onPageNoChage",[a,this.pageItems]))},_prevPagin:function(){var a,b=this;this.current>1&&(a=parseInt(this.current,10)-1,setTimeout(function(){b._setCurrentPagin(a)},0))},_nextPagin:function(){var a=this;this.current<this.totalPages&&(current=parseInt(this.current,10)+1,setTimeout(function(){a._setCurrentPagin(current)},0))},_paginList:function(){var a=this.options,b=this._getInterval(),c=a.displayStyle,d=[];if(b[0]>0&&c[2]>0){for(var e=Math.min(c[2],b[0]),f=0;e>f;f++)this._addToPaginList(d,f);c[2]<b[0]&&d.push("...")}for(var f=b[0];f<b[1];f++)this._addToPaginList(d,f);if(b[1]<this.totalPages&&c[2]>0){this.totalPages-c[2]>b[1]&&d.push("...");for(var g=Math.max(this.totalPages-c[2],b[1]),f=g;f<this.totalPages;f++)this._addToPaginList(d,f)}return d},_addToPaginList:function(a,b){b=0>b?0:b<this.totalPages?b:this.totalPages-1,b++,a.push(b)},_getInterval:function(){var a=this.current-1,b=this.options,c=b.displayStyle,d=parseInt(c[1])+parseInt(c[2]),e=this.totalPages,f=e-c[1],g=a+1>=d?Math.max(Math.min(parseInt(a)+2-c[1],f),0):0,h=a+1>=d?Math.min(parseInt(a)+2,e):Math.min(d,e);return[g,h]},_createDom:function(){var a=this.tpl(this._renderData);this.$el.empty().append(a),this.current===this.totalPages&&this.$el.find(".prev").addClass("oas-recommend")},invoke:{total:function(a){this.options.total=this.total=a,this._preRenderData()},pageItems:function(a){this.pageItems=a,this.totalPages=Math.ceil(this.total/a),this.current>this.totalPages&&this.totalPages>0&&(this.current=this.totalPages,this._emit("onPageNoChage",[this.current,this.pageItems])),this._preRenderData()},current:function(a){return a&&a<=this.totalPages?void this._setCurrentPagin(a,!1):this.current},jumpTo:function(a){return a&&a<=this.totalPages?void this._setCurrentPagin(a):this.current}}}),$(document).unbind("keydown.oasPagin"),$(document).bind("keydown.oasPagin",function(a){13===a.keyCode&&$(":oasPagin").each(function(){var a=oasis.DBC2SBC($(this).find(".page").val()),b=parseInt(a,10);return isNaN(b)?void 0:($(this).oasPagin("jumpTo",b),!1)})})}(),function(){$.oasUiFactory("oasTrigger",{options:{trigger:"toggle",data:null,selector:null,events:"click",animate:"slide",easing:"linear",animateSpeed:"normal",preventDefault:!0,cancelBubble:!0,target:null,before:function(){},after:function(){}},_create:function(){this.options;this._bindEvent()},_bindEvent:function(){var a=this,b=a.$el,c=a.options;b.on(c.events,c.selector,function(a){var d=c.target&&"self"!=c.target?$(c.target):b,e={event:a,element:this,target:d,options:c};if(c.before.call(b,e),oasis.type.isFunction(c.trigger))c.trigger.call(b,e);else{var f=c.trigger,g={duration:c.animateSpeed,easing:c.easing};switch("toggle"===f&&(f=d.hasClass("hide")?"show":"hide"),f){case"toggle":d.toggle();break;case"show":d.removeClass("hide"),"slide"===c.animate?d.slideDown(g):"fade"===c.animate?d.fadeIn(g):d.show(g);break;case"hide":d.addClass("hide"),"slide"===c.animate?d.slideUp(g):"fade"===c.animate?d.fadeOut(g):d.hide(g);break;case"addClass":case"removeClass":case"toggleClass":d[f](c.data)}}c.after.call(b,e),c.preventDefault&&a.preventDefault(),c.cancelBubble&&a.stopPropagation()})}}),$(function(){$('[data-oastrigger-toggle="autoTrigger"]').oasTrigger(),$('[data-oastrigger-toggle="toggle"]').oasTrigger(),$('[data-oastrigger-toggle="show"]').oasTrigger({trigger:"show"}),$('[data-oastrigger-toggle="hide"]').oasTrigger({trigger:"hide"}),$('[data-oastrigger-toggle="addClass"]').oasTrigger({trigger:"addClass"}),$('[data-oastrigger-toggle="removeClass"]').oasTrigger({trigger:"removeClass"}),$('[data-oastrigger-toggle="toggleClass"]').oasTrigger({trigger:"toggleClass"})})}(),function(){$.oasUiFactory("oasBubble",{options:{target:"",trigger:"click",delay:150,title:null,close:!0,width:"auto",height:"auto",offset:[0,0],message:null,src:null,hasOpacity:!1,isNeedAnimation:!1,loading:!1,context:null,autoOpen:!1,onOpen:function(){},onClose:function(){},beforeOpen:function(){}},_template:function(){{var a;this.options}return a='<div class="oas-bubble"><div class="bubble-arrow"></div>{{if title != null}}<div class="bubble-hd"><span class="oas-title">{{title}}</span>{{if close}}<a href="javascript:;" class="oasicon oasicon-close close-bubble"></a>{{/if}}</div>{{/if}}</div>',template.compile(a)},events:{},_create:function(){this.options;this._preRenderData()},_preRenderData:function(){var a=this.options,b={},c=this.title||(this.title=a.title),d=this.close=a.close===!0?!0:!1;this._renderData=b={title:c,close:d},this._createDom()},_bubbleAttr:function(){var a=this.options,b=this.$el,c=b.parents(".oas-bubble").find(".bubble-loading");b.width(a.width),b.height(a.height),a.src&&(b.find("iframe").width(a.width),b.find("iframe").height(a.height)),a.loading&&(c.width(a.width),c.height(a.height)),this._showAndHide()},_showAndHide:function(){var a,b=this.options,c=this.$el.parent(".oas-bubble"),d=this.$el,e=this,f=b.target,g=b.trigger,h=b.delay,i=b.offset[0],j=b.offset[1];a=null!=b.title&&b.close===!0?!1:!0,c.oasOverlay({target:$(f),triggerType:g,delay:h,blurHide:a,hasOpacity:b.hasOpacity,isNeedAnimation:b.isNeedAnimation,align:{baseElement:$(f),baseXY:[0,21]},beforeOpen:function(a){e._emit("beforeOpen",[d]);var f,g=0,h=0,k=c.outerHeight(),l=c.outerWidth();if(b.context){var m=$(a.target).position().top,n=$(a.target).position().left,o={height:$(b.context).height(),width:$(b.context).width(),scrollTop:$(b.context).scrollTop(),scrollLeft:$(b.context).scrollLeft()};switch($(a.target).attr("data-placement")){case"left":g=-l-10+i,h=-15+j+o.scrollTop,c.find(".bubble-arrow").removeClass("left-arrow bottom-arrow opposite").addClass("right-arrow"),f=[g,h],o.height+o.scrollTop-m-k-j<0&&(k>m?(g=-l-10+i,h=-15+j+o.scrollTop,f=[g,h],c.find(".bubble-arrow").removeClass("left-arrow bottom-arrow opposite").addClass("right-arrow")):(g=-l-10+i,h=-k+j+35+o.scrollTop,f=[g,h],c.find(".bubble-arrow").addClass("opposite")));break;case"right":g=+$(a.target).outerWidth()+10+i,h=-13+j+o.scrollTop,c.find(".bubble-arrow").removeClass("left-arrow bottom-arrow opposite").addClass("left-arrow"),f=[g,h],o.height-m-k-j<0&&(k>m?(g=+$(a.target).outerWidth()+10+i,h=-13+j+o.scrollTop,f=[g,h],c.find(".bubble-arrow").removeClass("left-arrow bottom-arrow opposite").addClass("left-arrow")):(g=$(a.target).outerWidth()+10+i,h=-k+j+35+o.scrollTop,f=[g,h],c.find(".bubble-arrow").addClass("opposite")));break;case"top":g=+i,h=-k-5+j+o.scrollTop,c.find(".bubble-arrow").removeClass("left-arrow right-arrow opposite").addClass("bottom-arrow"),f=[g,h],o.width+o.scrollLeft-n-l-i<0&&(g=-l+40+i,h=-k-5+j+o.scrollTop,f=[g,h],c.find(".bubble-arrow").addClass("opposite"));break;case"bottom":g=+i,h=25+j+o.scrollTop,c.find(".bubble-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite"),f=[g,h],o.width+o.scrollLeft-n-l-i<0&&(g=-l+40+i,h=25+j+o.scrollTop,f=[g,h],c.find(".bubble-arrow").addClass("opposite"));break;default:g=+i,h=25+j+o.scrollTop,c.find(".bubble-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite"),f=[g,h],o.width+o.scrollLeft-n-l-i<0&&(g=-l+40+i,h=25+j+o.scrollTop,f=[g,h],c.find(".bubble-arrow").addClass("opposite")),o.height-m-k-j<0&&(k>m?(g=+i,h=25+j+o.scrollTop,f=[g,h],c.find(".bubble-arrow").removeClass("bottom-arrow ")):(g=+i,h=-k+j+o.scrollTop,f=[g,h],c.find(".bubble-arrow").removeClass("left-arrow right-arrow opposite").addClass("bottom-arrow"))),o.height-m-k-j<0&&o.width+o.scrollLeft-n-l-i<0&&(k>m?(g=-l+40+i,h=25+j+o.scrollTop,f=[g,h],c.find(".bubble-arrow").removeClass("bottom-arrow ")):(g=-l+40+i,h=-k+j+o.scrollTop,f=[g,h],c.find(".bubble-arrow").removeClass("left-arrow right-arrow").addClass("bottom-arrow opposite")))}this.oasOverlay("align",{baseXY:f})}else{var m=Position.location(a.target).top,n=Position.location(a.target).left,o={height:$(window).height(),width:$(window).width(),scrollTop:$(window).scrollTop(),scrollLeft:$(window).scrollLeft()};switch($(a.target).attr("data-placement")){case"left":g=-l-10+i,h=-15+j,c.find(".bubble-arrow").removeClass("left-arrow bottom-arrow opposite").addClass("right-arrow"),f=[g,h],o.height+o.scrollTop-m-k-j<0&&(k>m?(g=-l-10+i,h=-15+j,f=[g,h],c.find(".bubble-arrow").removeClass("left-arrow bottom-arrow opposite").addClass("right-arrow")):(g=-l-10+i,h=-k+j+35,f=[g,h],c.find(".bubble-arrow").addClass("opposite")));break;case"right":g=+$(a.target).outerWidth()+10+i,h=-13+j,c.find(".bubble-arrow").removeClass("left-arrow bottom-arrow opposite").addClass("left-arrow"),f=[g,h],o.height+o.scrollTop-m-k-j<0&&(k>m?(g=+$(a.target).outerWidth()+10+i,h=-13+j,f=[g,h],c.find(".bubble-arrow").removeClass("left-arrow bottom-arrow opposite").addClass("left-arrow")):(g=$(a.target).outerWidth()+10+i,h=-k+j+35,f=[g,h],c.find(".bubble-arrow").addClass("opposite")));break;case"top":g=+i,h=-k-5+j,c.find(".bubble-arrow").removeClass("left-arrow right-arrow opposite").addClass("bottom-arrow"),f=[g,h],o.width+o.scrollLeft-n-l-i<0&&(g=-l+40+i,h=-k-5+j,f=[g,h],c.find(".bubble-arrow").addClass("opposite"));break;case"bottom":g=+i,h=25+j,c.find(".bubble-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite"),f=[g,h],o.width+o.scrollLeft-n-l-i<0&&(g=-l+40+i,h=25+j,f=[g,h],c.find(".bubble-arrow").addClass("opposite"));break;default:g=+i,h=25+j,c.find(".bubble-arrow").removeClass("left-arrow right-arrow bottom-arrow opposite"),f=[g,h],o.width+o.scrollLeft-n-l-i<0&&(g=-l+40+i,h=25+j,f=[g,h],c.find(".bubble-arrow").addClass("opposite")),o.height+o.scrollTop-m-k-j<0&&(k>m?(g=+i,h=25+j,f=[g,h],c.find(".bubble-arrow").removeClass("bottom-arrow ")):(g=+i,h=-k+j,f=[g,h],c.find(".bubble-arrow").removeClass("left-arrow right-arrow opposite").addClass("bottom-arrow"))),o.height+o.scrollTop-m-k-j<0&&o.width+o.scrollLeft-n-l-i<0&&(k>m?(g=-l+40+i,h=25+j,f=[g,h],c.find(".bubble-arrow").removeClass("bottom-arrow ")):(g=-l+40+i,h=-k+j,f=[g,h],c.find(".bubble-arrow").removeClass("left-arrow right-arrow").addClass("bottom-arrow opposite")))}this.oasOverlay("align",{baseXY:f})}},onOpen:function(){e._iCall("openBubble")},onClose:function(){e._iCall("closeBubble")}})},_createDom:function(){var a=$(this.tpl(this._renderData)),b=(this.$el.html(),this),c=this.options;if(c.context?($(c.context).append(a),$(c.context).css("position","relative")):$("body").append(a),this.$el.addClass("bubble-bd"),c.src&&(this.$el.attr("style","overflow:hidden"),this.$el.empty().append("<iframe width='100%' height='100%' frameborder='0'></iframe>"),this.$frame=this.$el.find("iframe"),this.$frame.attr("src",c.src)),c.message&&this.$el.empty().append(c.message),a.append(this.$el),this.close&&a.find(".close-bubble").click(function(){b._iCall("closeBubble")}),1==c.loading){var d='<div class="bubble-loading"><div class="oas-local-loading clearfx"><span class="loading"></span><span class="loading-text">数据读取中....</span></div></div>';0==a.find(".bubble-loading").size()&&a.append(d),this.$el.hide()}else a.find(".bubble-loading").remove(),this.$el.show();this._bubbleAttr(),c.autoOpen&&$(document).ready("hover"==c.trigger?function(){$(document).find(c.target).eq(0).trigger("mouseover")}:function(){$(document).find(c.target).eq(0).trigger("click")})},invoke:{title:function(a){this.title=a,this.$el.parent(".oas-bubble").find(".oas-title").text(a)},openBubble:function(){var a=this.options,b=this.$el.parent(".oas-bubble");b.show(),a.src?this._emit("onOpen",[this.$el,this.$frame[0].contentWindow]):this._emit("onOpen",[this.$el])},closeBubble:function(){var a=this.options,b=this.$el.parent(".oas-bubble");b.hide(),a.src?this._emit("onClose",[this.$el,this.$frame[0].contentWindow]):this._emit("onClose",[this.$el])},width:function(a){this.options.width=a,this._bubbleAttr()},height:function(a){this.options.height=a,this._bubbleAttr()},destory:function(){var a=this.$el;a.parent(".oas-bubble").oasOverlay("destroyOverlay"),a.parent(".oas-bubble").remove(),a.unbind(".oasBubble").removeData("oasBubble")},src:function(a){var b=this.options;b.src=a,this.$el.empty().append("<iframe width='100%' height='100%' frameborder='0'></iframe>"),this.$el.attr("style","overflow:hidden"),this.$frame=this.$el.find("iframe"),this.$frame.attr("src",b.src),this._bubbleAttr()},message:function(a){var b=this.options;b.message=a,this.$el.empty().append(b.message)},loading:function(a){var b=this.options,c=this.$el;if(b.loading=a,1==a){var d='<div class="bubble-loading"><div class="oas-local-loading clearfx"><span class="loading"></span><span class="loading-text">数据读取中....</span></div></div>';0==c.parent(".oas-bubble").find(".bubble-loading").size()&&c.parent(".oas-bubble").append(d),c.parent(".oas-bubble").find(".bubble-loading").width(b.width),c.parent(".oas-bubble").find(".bubble-loading").height(b.height),c.hide()}else c.parent(".oas-bubble").find(".bubble-loading").remove(),c.show()}}})}(),function(){$.oasUiFactory("oasShyPage",{options:{title:null,src:null,hasToggle:!1,refresh:!0,closeable:!0,width:1e3,onOpen:function(){},onClose:function(){},onLoad:function(){},onClosing:function(){}},_template:function(){{var a;this.options}return a='{{if hasToggle === true}}<div class="oas-dialog-fload-mask"></div>{{/if}}<div class="oas-dialog-fload-content"><div class="dialog-hd"><h4 class="oas-title">{{title}}</h4><span class="oas-dialog-opt">{{if hasToggle === true}}<a href="javascript:;" class="dialog-toggle oasicon oasicon-downfload" title="最小化"></a><a href="javascript:;" class="dialog-toggle oasicon oasicon-upfload" title="最大化"></a>{{/if}}{{if refresh === true}}<a href="javascript:;" class="dialog-refresh oasicon oasicon-refresh" title="刷新"></a>{{/if}}{{if closeable === true}}<a href="javascript:;" class="dialog-close oasicon oasicon-close" title="关闭"></a>{{/if}}</span></div><div class="dialog-bd"><div class="oas-dialog-fload-frame oas-scroll-webkit"><div class="oas-dialog-loading">页面加载中...</div><iframe src="about:blank" frameborder="0" width="100%" height="100%"></iframe></div></div></div>',template.compile(a)},events:{"click .dialog-hd":function(){this.toggle&&this._toggle()},"click .dialog-close":function(){return this._iCall("close"),!1},"click .dialog-refresh":function(){return this._iCall("refresh"),!1},"click .dialog-toggle":function(){return this._toggle(),!1},"click .oas-dialog-fload-mask":function(){return!1},"mouseover .dialog-hd":function(){this.toggle&&this.$el.hasClass("open")&&this.$el.stop().animate({top:this.height-42},100)},"mouseout .dialog-hd":function(){this.toggle&&this.$el.hasClass("open")&&this.$el.stop().animate({top:this.height-32},100)},"click .oas-dialog-fload-content":function(){return $(this.$el.find("iframe")[0].contentWindow.document).find("body").trigger("click"),!1}},_create:function(){this.$container=this.$el;var a=this.$el=$('<div class="oas-dialog-fload animated onloading"></div>'),b=this.twin=oasis.getTopWindow();$("body",b.document).append(a),this._preRenderData()},_resize:function(){var a=this,b=a.$el;$(window).off("resize.oasShyPage"),$(window).on("resize.oasShyPage",function(){var c=a.height=$(a.twin).height();
a.toggle&&b.css({top:a.height-32}),b.find(".oas-dialog-fload-frame").height(c-162)}).resize()},_preRenderData:function(){{var a=this.options,b={},c=a.title;a.src}this._renderData=b={title:c,hasToggle:a.hasToggle,refresh:a.refresh,closeable:a.closeable},this._createDom()},_toggle:function(){var a=this.$el,b=this;!b.toggle&&a.hasClass("open")?(b.toggle=!0,a.addClass("shrink"),a.stop().animate({top:this.height-32},300)):(b.toggle=!1,a.removeClass("shrink"),a.stop().animate({top:100},300))},_createDom:function(){var a=this.tpl(this._renderData);this.$el.empty().append(a),this._setProp(),this._resize(),this._cacheData()},_cacheData:function(){var a=this,b=this.$el;this.$frame=b.find("iframe"),this.__isCreated__&&($.browser.msie?a._iCall("src",[a.options.src]):setTimeout(function(){a._iCall("src",[a.options.src])},260)),this.customData={}},_setProp:function(){var a=this.$el,b=this.options,c=b.width,d=/%/.test(c),e=c,f=-c/2;d&&(e=c,f=-c.replace(/%/,"")/2+"%"),a.css({width:e,marginLeft:f})},close:function(){this._iCall("close")},invoke:{close:function(){var a=this.$el;this._emit("onClosing",[a,this.$frame[0].contentWindow.window])!==!1&&(Mask.close(),a.removeClass("open").removeClass("shrink").css("top",100),this.$container.remove(),this.toggle=!1,this._emit("onClose",[a,this.$frame[0].contentWindow.window]))},open:function(a,b){var c=this.$el.addClass("onloading"),d=this;if(Mask.open(),oasis.type.isObject(a)){var e=a;!e.onOpen&&(e.onOpen=function(){}),!e.onClose&&(e.onClose=function(){}),!e.onLoad&&(e.onLoad=function(){}),!e.onClosing&&(e.onClosing=function(){}),$.extend(!0,this.options,e)}else a&&(this.options.src=a),b&&(this.options.title=b);this._preRenderData(),c.css("top",c.height()).addClass("open").removeClass("shrink").stop().animate({top:100},300,function(){d.toggle=!1}),this._emit("onOpen",[c,this.$frame[0].contentWindow.window])},src:function(a){function b(){c.$el.removeClass("onloading");var a=c.$frame[0].contentWindow;a.OasShyPage?a.OasShyPage.close=function(){c._iCall("close")}:a.OasShyPage=c,a.OasShyPage.openerWin=window;for(var b in c.customData)a[b]=c.customData[b];c._emit("onLoad",[c.$el,a]),a.init&&a.init()}var c=this;a&&this.src!=a&&(this.options.src=a,this._iCall("refresh"),this.$frame[0].attachEvent?this.$frame[0].attachEvent("onload",b):this.$frame[0].onload=b)},title:function(a){a&&this.$el.find("h4").text(a)},refresh:function(){var a=this.options,b=a.src;b=/\?/.test(b)?b+"&newTime=newTime"+(new Date).getTime():b+"?newTime=newTime"+(new Date).getTime(),this.$frame.attr("src",b)},getData:function(a){var b=this.$frame[0].contentWindow[a];if(void 0!==b)return b;throw Error(a+"----不存在于半遮页的window对象中，请确认是否保存或书写正确")},setData:function(a){var b;this.customData={};for(var c in a)a.hasOwnProperty(c)&&(this.customData[c]=a[c]);if(this.$frame[0].contentWindow&&(b=this.$frame[0].contentWindow))for(var c in this.customData)b[c]=this.customData[c]}}})}(),function(){$.oasUiFactory("oasGrid",{options:{head:null,body:null,autoRender:!1,checkbox:!1,height:"auto",width:"auto",opts:null,headFixed:!0,fixedTop:0,colOpts:{data:null,type:"normal",width:150},striped:!1,nowrap:!0,fixedColumn:!1,settings:{},rowController:{className:function(){},style:function(){},checked:function(){},checkboxShow:function(){},colOpts:function(){},comment:function(){}},customColInfo:{context_path:null,user_id:null,sys_id:null,res_id:null,defaultCol:null},type:"normal",multiSort:!1,onSort:function(){},onOptsClick:function(){},onColOptsClick:function(){},onSearch:function(){},onCheckedChange:function(){},onScrolling:function(){},afterCustom:function(){},onRowClick:function(){}},_template:function(){var a='<div class="oas-grid-head">{{if opts!== null || settings.customVO || settings.filter }}<div class="oas-grid-head-fix"></div><div class="oas-grid-optBar clearfix">{{if opts !== null}}<div class="oas-grid-option">{{each opts}}<a class="oas-btn-icon{{if $value.className}} {{$value.className}}{{/if}} oas-grid-opt-btn{{if $value.disable}} oas-disabled{{/if}}"{{if $value.id}} id="{{$value.id}}"{{/if}}{{if $value.title}} title="{{$value.title}}"{{/if}} href="javascript:;" data-placement="bottom"><i class="{{$value.icon}}"></i><span class="btn-text">{{$value.label}}</span></a>{{/each}}</div>{{/if}}{{if settings.customVO || settings.filter}}<div class="oas-grid-setting clearfix">{{if settings.customVO}}<a class="oas-btn grid-customVO-btn" href="javascript:;"><span class="btn-text">列定制</span></a>{{/if}}{{if settings.filter === true}}<div class="oas-grid-search"><input type="text" id="grid-search-input" placeholder="输入你想查询的关键词" /><a href="javascript:;" id="grid-search-btn" class="oas-btn">查询</a></div>{{else if typeof settings.filter === "string"}}{{#settings.filter}}{{/if}}</div>{{/if}}</div>{{/if}}<div class="oas-grid-thead"></div><div class="oas-grid-loading"><div class="oas-grid-loading-content">数据加载中...</div></div></div><div class="oas-grid-tbody"><div class="oas-grid-mask"></div></div><div class="oas-grid-scroll-h oas-scroll-webkit"><div></div></div>',b='{{if checkbox === true || headFront}}<div class="grid-front-fixed"><table><thead><tr>{{if checkbox === true }}<th class="oas-grid-checkbox"><div class="oas-grid-th"><input type="checkbox" /></div></th>{{/if}}{{each headFront}}<th{{if $value.title}} title="{{$value.title}}"{{/if}}{{if $value.minwidth}} class="oas-grid-minwidth" minwidth="{{$value.width}}"{{/if}}{{if $value.name}} name="{{$value.name}}"{{/if}}><div class="oas-grid-th" style="width:{{$value.width - 10}}px;">{{#$value.label}}{{if $value.sort}}<a class="sort-icon oasicon oasicon-{{$value.sort}}"></a>{{/if}}</div></th>{{/each}}</tr></thead></table></div>{{/if}}<div class="grid-main"><table><thead><tr>{{each headCenter}}<th{{if $value.title}} title="{{$value.title}}"{{/if}}{{if $value.minwidth}} class="oas-grid-minwidth" minwidth="{{$value.width}}"{{/if}}{{if $value.name}} name="{{$value.name}}"{{/if}}><div class="oas-grid-th" style="width:{{headCenter[$index].width - 10}}px;">{{#$value.label}}{{if $value.sort}}<a class="sort-icon oasicon oasicon-{{$value.sort}}"></a>{{/if}}</div></th>{{/each}}</tr></thead></table></div>{{if colOpts.data || headFinale}}<div class="grid-finale-fixed"><table><thead><tr>{{each headFinale}}<th{{if $value.title}} title="{{$value.title}}"{{/if}}{{if $value.minwidth}} class="oas-grid-minwidth" minwidth="{{$value.width}}"{{/if}}{{if $value.name}} name="{{$value.name}}"{{/if}}><div class="oas-grid-th" style="width:{{$value.width - 10}}px;">{{#$value.label}}{{if $value.sort}}<a class="sort-icon oasicon oasicon-{{$value.sort}}"></a>{{/if}}</div></th>{{/each}}{{if colOpts.data }}<th class="oas-grid-operator oas-grid-operator-{{colOpts.type}}"><div class="oas-grid-th">操作</div></th>{{/if}}</tr></thead></table></div>{{/if}}',c='{{if checkbox === true || headFront}}<div class="grid-front-fixed"><table><tbody>{{each bodyFront}}<tr class="{{if tempBody && $helpers.oasgridChecked(tempBody[$index], $index)}}oas-active {{/if}}{{tempBody && $helpers.oasgridClassName(tempBody[$index], $index)}}" style="{{tempBody && $helpers.oasgridClassName(tempBody[$index], $index)}}">{{if checkbox === true}}<td class="oas-grid-checkbox"><div class="oas-grid-td"><input type="checkbox"{{if tempBody && $helpers.oasgridCheckboxShow(tempBody[$index], $index) === false}}disabled="disabled"{{/if}} {{if tempBody && $helpers.oasgridChecked(tempBody[$index], $index)}}checked="checked"{{/if}} {{if bodyCenter[$index] && (typeof bodyCenter[$index].id !== "undefined")}}row-id="{{bodyCenter[$index].id}}"{{/if}} /></div></td>{{/if}}{{each $value}}<td{{if headFront[$index].minwidth}} class="oas-grid-minwidth"{{/if}} {{if headFront[$index].tbodyTitle}} title="{{#$value}}"{{/if}}><div class="oas-grid-td" style="width:{{headFront[$index].width - 9}}px;">{{#$value}}</div></td>{{/each}}</tr>{{if tempBody && $helpers.oasgridComment(tempBody[$index], $index)}}<tr class="oas-grid-comment"><td colspan="{{if checkbox === true}}{{$value.length+1}}{{else}}{{$value.length}}{{/if}}"><div>&nbsp;</div></td></tr>{{/if}}{{/each}}</tbody></table></div>{{/if}}<div class="grid-main"><table class="oas-grid-table"><tbody>{{each bodyCenter}}<tr class="{{if tempBody && $helpers.oasgridChecked(tempBody[$index], $index)}}oas-active {{/if}}{{tempBody && $helpers.oasgridClassName(tempBody[$index], $index)}}" style="{{tempBody && $helpers.oasgridClassName(tempBody[$index], $index)}}">{{each $value}}<td{{if headCenter[$index].minwidth}} class="oas-grid-minwidth"{{/if}} {{if headCenter[$index].tbodyTitle}} title="{{#$value}}"{{/if}}><div class="oas-grid-td" style="width:{{headCenter[$index].width - 9}}px;">{{#$value}}</div></td>{{/each}}</tr>{{if tempBody && $helpers.oasgridComment(tempBody[$index], $index)}}<tr class="oas-grid-comment"><td colspan="{{$value.length}}"><div>{{#tempBody[$index].comment}}</div></td></tr>{{/if}}{{/each}}</tbody></table></div>{{if colOpts.data || bodyFinale}}<div class="grid-finale-fixed"><table><tbody>{{each bodyFinale}}<tr class="{{if tempBody && $helpers.oasgridChecked(tempBody[$index], $index)}}oas-active {{/if}}{{tempBody && $helpers.oasgridClassName(tempBody[$index], $index)}}" style="{{tempBody && $helpers.oasgridClassName(tempBody[$index], $index)}}">{{each $value}}<td{{if headFinale[$index].minwidth}} class="oas-grid-minwidth"{{/if}} {{if headFinale[$index].tbodyTitle}} title="{{#$value}}"{{/if}}><div class="oas-grid-td" style="width:{{headFinale[$index].width - 9}}px;">{{#$value}}</div></td>{{/each}}{{if  colOpts.data}}<td class="oas-grid-operator oas-grid-operator-{{colOpts.type}}"><div class="oas-grid-td clearfix">{{if colOpts.type === "panel"}}<a href="javascript:;" class="oas-btn-icon"><i class="oasicon oasicon-opt-row"></i><span class="btn-text">操作</span></a>{{else}}{{each colOpts.data[$index]}}<a href="javascript:;" class="oas-grid-colopt{{if $value.disable}} oas-text-disable{{/if}}" {{if bodyCenter[$index] && (typeof bodyCenter[$index].id !== "undefined")}}row-id="{{bodyCenter[$index].id}}"{{/if}} name="{{$value.name}}">{{$value.label}}</a>{{/each}}&nbsp;{{/if}}</div></td>{{/if}}</tr>{{if tempBody && $helpers.oasgridComment(tempBody[$index], $index)}}<tr class="oas-grid-comment"><td colspan="{{if colOpts.data}}{{$value.length+1}}{{else}}{{$value.length}}{{/if}}"><div>&nbsp;</div></td></tr>{{/if}}{{/each}}</tbody></table></div>{{/if}}',d='<div class="oas-grid"><div class="oas-grid-panel"><table class="oas-grid-table" style="width:100%;"><thead><tr>{{each headCenter}}<th{{if $value.title}} title="{{$value.title}}"{{/if}}{{if $value.name}} name="{{$value.name}}"{{/if}} style="min-width:{{$value.width}}px;"><div class="oas-grid-th">{{#$value.label}}{{if $value.sort}}<a class="sort-icon oasicon oasicon-{{$value.sort}}"></a>{{/if}}</div></th>{{/each}}</tr></thead><tbody>{{each bodyCenter}}<tr class="{{if tempBody && $helpers.oasgridChecked(tempBody[$index], $index)}}oas-active {{/if}}{{tempBody && $helpers.oasgridClassName(tempBody[$index], $index)}}" style="{{tempBody && $helpers.oasgridClassName(tempBody[$index], $index)}}">{{each $value}}<td style="width:{{headCenter[$index].width - 9}}px;" {{if headCenter[$index].tbodyTitle}} title="{{#$value}}"{{/if}}><div class="oas-grid-td">{{#$value}}</div></td>{{/each}}</tr>{{/each}}</tbody></table></div></div>';return this.headTpl=template.compile(b),this.bodyTpl=template.compile(c),"simple"===this.options.type&&(this.simpleBodyTpl=template.compile(d)),template.compile(a)},events:{"mousedown #grid-search-btn":function(a){var b=$(a).prev().val();this._emit("onSearch",[b])},"focus #grid-search-input":function(a){$(a).parent().addClass("focus")},"blur #grid-search-input":function(a){$(a).parent().removeClass("focus")},"click .oas-grid-checkbox":function(a,b){var c=this.$el,d=this.checkedArray=[];if($(b.target).is("input[type=checkbox]")){var e=$(b.target),f=e.prop("checked"),g=e.closest("tr").index();if($(a).closest(".grid-front-fixed").size()){if($(a).closest(".oas-grid-thead").size()){var h=c.find(".oas-grid-tbody").find(".grid-front-fixed").find(".oas-grid-checkbox").find("input[type=checkbox]");f?h.not("[disabled=disabled]").prop("checked",!0):h.not("[disabled=disabled]").prop("checked",!1);var i=[];h.filter("[disabled=disabled]").each(function(){i.push($(this).closest("tr").index())}),f?c.find(".oas-grid-tbody").find("table").find("tr").not(function(){for(var a=!1,b=0;b<i.length;b++)if($(this).index()==i[b]){a=!0;break}return a}).addClass("oas-active"):c.find(".oas-grid-tbody").find("table").find("tr").not(function(){for(var a=!1,b=0;b<i.length;b++)if($(this).index()==i[b]){a=!0;break}return a}).removeClass("oas-active")}else{var h=c.find(".oas-grid-tbody").find(".grid-front-fixed").find(".oas-grid-checkbox").find("input[type=checkbox]"),j=h.size(),k=c.find(".oas-grid-thead").find(".grid-front-fixed").find(".oas-grid-checkbox").find("input[type=checkbox]");c.find(".oas-grid-tbody").find("table").each(f?function(){$(this).find("tr").eq(g).addClass("oas-active")}:function(){$(this).find("tr").eq(g).removeClass("oas-active")}),h.filter(":checked").size()===j?k.prop("checked",!0):k.prop("checked",!1)}$.each(h,function(a){$(this).prop("checked")&&d.push(a)}),this._emit("onCheckedChange",[this._iCall("getCheckedIndex")])}}},"click .oas-grid-opt-btn":function(a){if(!$(a).hasClass("oas-disabled")){var b=$(a).index();this._emit("onOptsClick",[a.id,this.checkedArray,this.options.opts[b]])}},"click .sort-icon":function(a,b){var c,d=$(a).closest("th"),e=d.attr("name"),f=a.className.match(/sort|asc|desc/g)[1];this.options.multiSort||(d.siblings("th").removeClass("is-sorted").find(".sort-icon").removeClass("oasicon-desc oasicon-asc").addClass("oasicon-sort"),d.closest("div").siblings("div").find("th").removeClass("is-sorted").find(".sort-icon").removeClass("oasicon-desc oasicon-asc").addClass("oasicon-sort")),"sort"===f?($(a).removeClass("oasicon-sort").addClass("oasicon-desc"),c="desc"):"desc"===f?($(a).removeClass("oasicon-desc").addClass("oasicon-asc"),c="asc"):($(a).removeClass("oasicon-asc").addClass("oasicon-desc"),c="desc"),d.addClass("is-sorted"),this._emit("onSort",[e,c]),b.preventDefault()},"click .grid-custom-btn":function(){this._gridCustom()},"click .oas-grid-operator-normal":function(a,b){var c=$(b.target),d=$(a).parent().index(),e=c.attr("name");c.is("a")&&(c.hasClass("oas-text-disable")||this._emit("onColOptsClick",[e,d,this.tempBody?this.tempBody[d]:this.options.body[d]]))},"mouseover tr":function(a){var b=this.$el.find(".oas-grid-tbody");if($(a).closest(".oas-grid-tbody").size()){b.find("tr").removeClass("oas-grid-hover");var c=$(a).index();b.find("table").each(function(){$(this).find("tr").eq(c).addClass("oas-grid-hover")})}},"mouseout tr":function(a){var b=this.$el.find(".oas-grid-tbody");$(a).closest(".oas-grid-tbody")&&b.find("tr").removeClass("oas-grid-hover")}},_create:function(){var a=this.options;this._setGridProp(),a.autoRender&&this.render()},_initOptionsHelps:function(a){var b=a.rowController;template.helper("oasgridClassName",b.className),template.helper("oasgridStyle",b.style),template.helper("oasgridChecked",b.checked),template.helper("oasgridCheckboxShow",b.checkboxShow),template.helper("oasgridColOpts",b.colOpts),template.helper("oasgridComment",b.comment)},_gridCustom:function(){var b=this,c=this.options,d=c.customColInfo,e=this.currentCustom,f=d.defaultCol;OasShyPage.open({id:"oas-grid-customdialog",title:"表格定制",hasToggle:!0,src:oasis.oasisDir+"../oasis_tpl/grid_custom.html",onClose:function(c,e){e.currentCustom&&e.currentCustom.length>0&&e.issave&&(b._iCall("setCustomCol",[d.defaultCol,e.currentCustom]),a.saveCustomCol({context_path:d.context_path,user_id:d.user_id,sys_id:d.sys_id,res_id:d.res_id,colsJsonStr:JSON.stringify(e.currentCustom)}),b._emit("afterCustom",[e.currentCustom]))},onLoad:function(){$("#oas-grid-customdialog").oasShyPage("setData",{customCol:e,defaultCol:f,head:b._splitFromCustom(c.head)})}})},render:function(){this._createTable(),this.renderdy=!0},_createTable:function(){var a=(this.$el,this.options);this._adjustColumnWidth(),a.settings.custom&&this._iCall("setCustomCol",[a.customColInfo.defaultCol]),this._iCall("colOpts",[a.colOpts.data]),this._renderGrid(),this._renderHead(),a.body&&this._renderBody(),this._updateCheckArray(),this._adjustGrid(),this._checkNoData(),this._bindEvent()},_updateCheckArray:function(){var a=this.$el,b=this.checkedArray=[],c=a.find(".oas-grid-tbody").find(".grid-front-fixed").find(".oas-grid-checkbox").find("input[type=checkbox]"),d=c.size(),e=a.find(".oas-grid-thead").find(".grid-front-fixed").find(".oas-grid-checkbox").find("input[type=checkbox]");c.filter(":checked").size()===d&&0!==d?e.prop("checked",!0):e.prop("checked",!1),$.each(c,function(a){$(this).prop("checked")&&b.push(a)})},_bindEvent:function(){var a,b=this,c=this.$el,d=$(window).width(),e=$(window).height();$(window).on("scroll.oas-grid",function(){b._adjustScroll()}),c.find(".oas-grid-scroll-h").off("scroll.oas-grid"),c.find(".oas-grid-scroll-h").on("scroll.oas-grid",function(){c.find(".grid-main table").css("margin-left",0-$(this).scrollLeft()),b._emit("onScrolling")}),setTimeout(function(){b._adjustScroll()},400),$(window).resize(function(){a&&clearTimeout(a),a=setTimeout(function(){var a=$(window).width(),f=$(window).height();if(d!==a||e!==f){var g=c.actual("width");c.find(".oas-grid-head").width(g),c.find(".oas-grid-scroll-h").width(g-b.frontWidth-b.finaleWidth),b._adjustGrid(),d=a,e=f}},80)}),c.on("click.oas-grid",".oas-grid-tbody tr",function(){var a=$(this).index(),d=c.find(".oas-grid-tbody"),e=[];d.find("table").each(function(){e.push($(this).find("tr").eq(a))}),b._emit("onRowClick",[e,a])})},_filterCustomHeadCol:function(){var a=(this.$el,this.options),b=this.customHead=[],c=a.head,d=this.currentCustom,e=this.sequence=[];if(!d)return void $.extend(!0,b,c);for(var f=0,g=d.length;g>f;f++)for(var h=0,i=c.length;i>h;h++)c[h].name===d[f].name&&(b.push(c[h]),e.push(h))},_filterCustomBodyCol:function(){var a=(this.$el,this.options),b=this.customBody=[],c=a.body,d=this.sequence;if(!d||!this.currentCustom)return void $.extend(!0,b,c);for(var e=0,f=c.length;f>e;e++){b[e]=[];for(var g=0,h=d.length;h>g;g++)b[e].push(c[e][d[g]])}},_adjustScroll:function(){var a=this.$el,b=this.$el.offset().top,c=$(window).height(),d=$(document).scrollTop();d+c>b&&d<b+a.height()-c?a.addClass("has-scrollh-fixed"):a.removeClass("has-scrollh-fixed")},_initCustomCol:function(){{var a=this.options;a.customColInfo}!a.settings.custom},_adjustWidth:function(){var a=this.$el,b=0,c=0,d=this;a.find(".oas-grid-thead .grid-front-fixed").find("th").each(function(){b+=$(this).hasClass("oas-grid-checkbox")?40:$(this).find(".oas-grid-th").outerWidth()}),a.find(".oas-grid-thead .grid-finale-fixed").find("th").each(function(){c+=$(this).hasClass("oas-grid-operator")&&$(this).hasClass("oas-grid-operator-panel")?100:$(this).hasClass("oas-grid-operator-normal")?d.options.colOpts.width:$(this).find(".oas-grid-th").outerWidth()}),a.find(".grid-front-fixed").width(b),a.find(".grid-finale-fixed").width(c),a.find(".grid-main").css({left:b,right:c}),"simple"!==this.options.type&&this._setMinWidth(),a.find(".oas-grid-scroll-h").css({marginLeft:b,marginRight:c}).width(a.width()-b-c).scrollLeft(0).find("div").width(a.find(".grid-main").find("table").width()),this.frontWidth=b,this.finaleWidth=c},_setMinWidth:function(){if(this.customHead){var a=this.$el,b=this.options,c=a.width()-this.gridTotalWidth,d=10*this.customHead.length,e=a.find(".oas-grid-minwidth");minwidth=parseInt(e.attr("minwidth")),b.checkbox&&(c-=40),c>minwidth?e.find(".oas-grid-th").width(c-d).end().find(".oas-grid-td").width(c-d+1):e.find(".oas-grid-th").width(minwidth).end().find(".oas-grid-td").width(minwidth+1)}},_adjustHeight:function(){var a=this.$el,b=this.options,c=(b.height,a.find(".oas-grid-tbody")),d=c.find(".grid-main tr:not('.oas-grid-comment')"),e=c.find(".grid-front-fixed").find("tr:not('.oas-grid-comment')"),f=c.find(".grid-finale-fixed").find("tr:not('.oas-grid-comment')");b.nowrap||$.each(d,function(a){var b=e.eq(a).find("td").css("height","auto").end(),c=f.eq(a).find("td").css("height","auto").end();$(this).find("td").css("height","auto");var d=0===a?$(this).height()-10:$(this).height()-11,g=0===a?b.height()-10:b.height()-11,h=0===a?c.height()-10:c.height()-11,i=[d,g,h],j=Math.max.apply(null,i);b.find("td").height(j),c.find("td").height(j),$(this).find("td").height(j)})},_adjustCommentHeight:function(){var a=this.$el,b=this.options,c=b.height,d=a.find(".oas-grid-tbody"),e=d.find(".grid-main tr.oas-grid-comment"),f=d.find(".grid-front-fixed").find("tr.oas-grid-comment"),g=d.find(".grid-finale-fixed").find("tr.oas-grid-comment");if($.each(e,function(a){var b=f.eq(a),c=g.eq(a),d=$(this).height()-11,e=b.height()-11,h=c.height()-11,i=[d,e,h],j=Math.max.apply(null,i);b.find("td").height(j),c.find("td").height(j),$(this).find("td").height(j)}),"auto"===c){var h=a.find(".grid-main").eq(1).height();h=h?h:140,a.find(".oas-grid-tbody").height(h)}},_adjustColumnWidth:function(){var a,b=this.options,c=0,d=b.head,e=[],f=!1,g=$('<div class="outWindow" style="font-weight:bold;"></div>').appendTo($("body"));if(b.head&&0!==b.head.length){for(var h=0,i=d.length;i>h;h++){var j,k,l=d[h],m=$('<span style="float:left;"></span>');"minwidth"===l.width&&(f=h),l.width=!l.width||""===l.width||isNaN(l.width)?10:parseInt(l.width,10),m.html(l.label),g.append(m),j=m.text(),k=m.width()+20,l.sort&&"false"!==l.sort&&(k+=40),m.remove(),l.width<k&&(l.width=k),e.push(l.width),c+=l.width+1}f!==!1?this.minWidthCol=f:(a=Math.max.apply(null,e),this.minWidthCol=oasis.indexOf(a,e)),d[this.minWidthCol].minwidth=!0,c-=d[this.minWidthCol].width+1,this.gridTotalWidth=c}},_adjustHeadData:function(){this._filterCustomHeadCol();var a,b,c=this.options,d=c.fixedColumn,e=d[0],f=d[1],g=this.customHead,h=c.head,i=e&&e>0,j=f&&f>0,k=this._renderData;i&&!j?(k.headFront=h.slice(0,e),k.headCenter=c.settings&&c.settings.custom?g:g.slice(e,g.length)):!i&&j?(b=h.length-f,k.headFinale=h.slice(b,h.length),k.headCenter=c.settings&&c.settings.custom?g:g.slice(0,b)):i&&j?(a=h.length-f,k.headFront=h.slice(0,e),k.headFinale=h.slice(a,h.length),k.headCenter=c.settings&&c.settings.custom?g:g.slice(e,a)):k.headCenter=g},_adjustBodyData:function(){this.options.body&&oasis.type.isObject(this.options.body[0])&&this._convertBodyData(),this._filterCustomBodyCol();var a=this.options,b=a.fixedColumn,c=this.customBody,d=a.body,e=b[0],f=b[1],g=e&&e>0,h=f&&f>0,i=this._renderData,j=i.bodyFront=[],k=i.bodyCenter=[],l=i.bodyFinale=[];if(g&&!h)for(var m=0,n=c.length;n>m;m++)j.push(d[m].slice(0,e)),k.push(a.settings&&a.settings.custom?c[m]:c[m].slice(e,c[m].length));else if(!g&&h){for(var m=0,n=c.length;n>m;m++)mainEnd=d[m].length-f,l.push(d[m].slice(mainEnd,d[m].length)),k.push(a.settings&&a.settings.custom?c[m]:c[m].slice(0,mainEnd));a.checkbox&&(j=i.bodyFront=new Array(c.length))}else if(g&&h)for(var m=0,n=c.length;n>m;m++)finaleStart=d[m].length-f,j.push(d[m].slice(0,e)),l.push(d[m].slice(finaleStart,d[m].length)),k.push(a.settings&&a.settings.custom?c[m]:c[m].slice(e,finaleStart));else k=i.bodyCenter=c,j=i.bodyFront=new Array(c.length),l=i.bodyFinale=new Array(c.length)},_convertBodyData:function(){var a=this.options,b=a.body,c=this.tempBody=$.extend(!0,b,{}),d=a.head;b=a.body=[];for(var e=0,f=c.length;f>e;e++){for(var g=c[e],h=[],i=0,j=d.length;j>i;i++){var k=d[i],l=g[k.name],m=k.dataRender;m&&oasis.type.isFunction(m)&&(l=m(g)),h.push(l)}b.push(h)}},_setGridProp:function(){var a=this.$el,b=this.options,c=b.nowrap;a.addClass("oas-grid"),c&&a.addClass("oas-grid-nowrap"),b.striped&&a.addClass("grid-striped")},_renderGrid:function(){var a=this._renderData={},b=this.options;a.opts=b.opts,a.settings=b.settings,this._createDom()},_renderHead:function(){var a=this._renderData,b=this.options;this._adjustHeadData(),a.headFront=a.headFront||[],a.headFinale=a.headFinale||[],a.headCenter=a.headCenter||[],a.checkbox=b.checkbox,this._renderData.colOpts=b.colOpts,"simple"!==b.type&&this.$el.find(".oas-grid-thead").empty().append(this.headTpl(this._renderData))},_renderBody:function(){var a=this.options;this._initOptionsHelps(a),this.checkedArray=[],this._adjustBodyData(),this._renderData.tempBody=this.tempBody,this._renderData.colOpts=a.colOpts;var b=this.bodyTpl(this._renderData);return"simple"===a.type?(this.$el.html(this.simpleBodyTpl(this._renderData)),!1):(this.$el.find(".oas-grid-tbody").empty().append(b).append('<div class="oas-grid-mask"></div>').append('<div class="oas-table-nodata clearfix"><div class="oas-mascot-img"><div class="oas-mascot-medium oas-mascot-nodata"></div></div><div class="oas-mascot-text"><p>对不起，暂无数据</p></div></div>'),this.$el.find(".oas-grid-thead").find(".oas-grid-checkbox").find("input[type=checkbox]").prop("checked",!1),this._updateCheckArray(),void this._iCall("loaded"))},_adjustGrid:function(){var a=this,b=this.options,c=this.$el,d=b.head,e=b.body;this._adjustHeight(),setTimeout(function(){a._adjustCommentHeight()},10),d&&e&&e.length>0&&b.headFixed&&"simple"!==b.type&&(c.find(".oas-grid-head").attr("data-oassticky-top-spacing",b.fixedTop),c.find(".oas-grid-head").oasSticky(),setTimeout(function(){c.find(".oas-grid-head").oasSticky("stoptionsp",c.height()+c.offset().top)},30)),this._adjustWidth()},_createDom:function(){var a=this.tpl(this._renderData);this.$el.empty().append(a)},_checkNoData:function(){var a=this.$el,b=this.options,c=b.head,d=b.body;0===c.length&&0===d.length?a.addClass("oas-grid-nodata").removeClass("oas-grid-hidebody"):d?0===d.length?a.addClass("oas-grid-nobody").removeClass("oas-grid-hidebody"):a.removeClass("oas-grid-nodata oas-grid-nobody oas-grid-hidebody"):a.addClass("oas-grid-hidebody")},_splitFromCustom:function(a){var b,c,d=this.options,e=d.fixedColumn,f=e[0],g=e[1],h=d.head,i=f&&f>0,j=g&&g>0,k=[],l=[];if(i&&!j)k=h.slice(0,f);else if(!i&&j)c=h.length-g,k=h.slice(c,h.length);else if(i&&j){b=h.length-g;var m=h.slice(0,f),n=h.slice(b,h.length);k=m.concat(n)}for(var o=0;o<a.length;o++){for(var p=a[o],q=!1,r=0;r<k.length;r++)if(k[r].name==a[o].name){q=!0;break}!q&&l.push(p)}return l},invoke:{data:function(a,b){var c=(this.$el,this.options);if(1===arguments.length&&(b=a,a=null),b&&!a){if(c.body=b,!c.autoRender&&!this.renderdy)return;return this._iCall("colOpts",[c.colOpts.data]),this._checkNoData(),this._renderBody(),this._adjustGrid(),this}if(b&&a){if(c.body=b,c.head=a,this._checkNoData(),!c.autoRender&&!this.renderdy)return;return this._createTable(),this}},colOpts:function(a){var b=this.options,c=b.colOpts.data,d=b.body;if(a&&d){if(1===a.length)for(var e=1,f=d.length;f>e;e++)a[e]=a[0];b.colOpts.data=a,(b.autoRender||this.renderdy)&&(this._renderData.colOpts=b.colOpts,c?(this._renderBody(),this._adjustGrid()):(this._renderHead(),this._renderBody(),this._adjustGrid()))}},loading:function(){var a=this.$el,b=a.find(".oas-grid-loading");a.addClass("oas-grid-onloading"),b.css("top",this.$el.find(".oas-grid-head").height())},fixedTop:function(a){var b=this.$el;b.find(".oas-grid-head").attr("data-oassticky-top-spacing",a),b.find(".oas-grid-head").oasSticky()},loaded:function(){var a=this.$el,b=this.$el.find(".oas-grid-loading");a.removeClass("oas-grid-onloading"),b.css("top",0)},getCheckedIndex:function(){var a,b,c=this.checkedArray,d=[];if(this.tempBody&&c)for(a=0,b=c.length;b>a;a++)d.push(this.tempBody[c[a]]);var e={selectIndexs:c,selectRows:d};return e},setCheckedIndex:function(a){for(var b=this.$el,c=b.find(".oas-grid-tbody .grid-front-fixed").find("input[type=checkbox]"),d=0,e=a.length;e>d;d++)c.eq(a[d]).click();this.checkedArray=a},setCustomCol:function(b,c){var d,e,f=this.options,g=f.customColInfo;if(1!==arguments.length&&c?2===arguments.length&&(d=c,e=b):(d=a.getCustomCol({context_path:g.context_path,user_id:g.user_id,sys_id:g.sys_id,res_id:g.res_id}),(!d||d&&d.length<0)&&f.customColInfo.showDefault&&(d=b)),e=b?b:a._head2Custom(f.head),e=this._splitFromCustom(e),e&&(g.defaultCol=e),d||(d=a._head2Custom(f.head)),d=this._splitFromCustom(d)){if(this.currentCustom=g.customCol=d,!f.autoRender&&!this.renderdy)return;this._renderHead(),this._renderBody(),this._adjustGrid()}},setCustomColInfo:function(a){a&&($.extend(this.options.customColInfo,a),this._iCall("setCustomCol",[this.options.customColInfo.defaultCol]))},setTrsAttr:function(a,b){for(var c=this.$el.find(".oas-grid-tbody").find("table"),d=0,e=a.length;e>d;d++)c.each(function(){$(this).find("tr").eq(a[d]).addClass(b)})},render:function(){var a=this.options;(a.autoRender||!this.renderdy)&&this.render()},resize:function(){this._adjustGrid()},gridCustom:function(){this.options.settings.custom&&this._gridCustom()}}});var a={};a._head2Custom=function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push({name:a[c].name,label:a[c].label});return b},a.getCustomCol=function(a){var b,c=a.context_path,d=a.user_id,e=a.sys_id,f=a.res_id;return $.ajax({type:"GET",url:c+"/component/colCustom!getCustomCfg.action",async:!1,data:{userId:d,modeCode:[e,f].join("_")},success:function(a){200===parseInt(a.rspCode)?a.rspMsg&&(b=JSON.parse(a.rspMsg)):OasMsg.open({type:"error",message:a.rspMsg})},error:function(){OasMsg.open({type:"error",message:"获取用户定制项数据失败"})}}),b},a.saveCustomCol=function(a){var b=a.context_path,c=a.user_id,d=a.sys_id,e=a.res_id,f=a.colsJsonStr;$.ajax({type:"POST",url:b+"/component/colCustom!updateCustomCol.action",data:{userId:c,modeCode:[d,e].join("_"),colsJsonStr:f},success:function(a){OasMsg.open(200===parseInt(a.rspCode)?{type:"success",message:"保存定制信息成功"}:{type:"error",message:a.rspMsg})},error:function(){OasMsg.open({type:"warning",message:"保存失败,仅本次生效"})}})}}(),function(){$.oasUiFactory("oasCalendar",{options:{defaultDate:null,showTime:!1,range:[],active:null,type:"normal",isNeedClear:!0,panelId:"",yearChange:function(){},monthChange:function(){},dateChange:function(){},timeChange:function(){},clickDate:function(){},selectedTime:function(){},selectedChange:function(){},afterClear:function(){}},_template:function(){var a='<div class="oas-calendar" id="{{panelId}}"><div class="calendar-arrow"></div><div class="calendar-hd"><a href="javascript:;" class="prev oasicon oasicon-prev"></a><a href="javascript:;" class="year"></a><a href="javascript:;" class="month"></a><a href="javascript:;" class="next oasicon oasicon-next"></a></div><div class="calendar-bd"></div><div class="calendar-ft"><div class="time-box clearfix {{if showTime == false}}hide{{/if}}"><div class="time-choose"><input type="text" maxlength="2" class="hour" max="23" value={{time.hour}}><span class="oas-unit">时</span></div><span class="colon">:</span><div class="time-choose"><input type="text" maxlength="2" class="minute" max="59" value={{time.minute}}><span class="oas-unit">分</span></div><span class="colon">:</span><div class="time-choose last"><input type="text" maxlength="2" class="second" max="59" value={{time.second}}><span class="oas-unit">秒</span></div><div class="time-bubble"><div class="time-bubble-arrow bottom-arrow"></div><a href="javascript:;" class="oasicon oasicon-close"></a></div></div><div class="current-time clearfix"><a href="javascript:;" class="today">设为当前时间</a><a href="javascript:;" class="sure oas-btn">确定</a><a href="javascript:;" class="clear oas-btn{{if isNeedClear == false}} hide{{/if}}">清空</a></div></div></div>',b='<div class="oas-calendar oas-calendar-panel"><div class="calendar-hd"><a href="javascript:;" class="prev oasicon oasicon-prev"></a><a href="javascript:;" class="year"></a><a href="javascript:;" class="month"></a><a href="javascript:;" class="next oasicon oasicon-next"></a></div><div class="calendar-bd"></div></div>';this.tplPanel=template.compile(b);var c='<ul class="clearfix week"><li>一</li><li>二</li><li>三</li><li>四</li><li>五</li><li>六</li><li class="last">日</li></ul><ul class="clearfix day">{{each list}}<li class="{{if ($index + 1) % 7 == 0}}last{{/if}}{{if $value.isDayOfCurrMon == 0 ||  $value.isDayOfCurrMon == 2}} other{{/if}}{{if $value.inRange == false}} oas-disable{{/if}}{{if $value.isCurrentDay == true}} current{{/if}}{{if $value.active == true}} has-active{{/if}}" index={{$index}}>{{$value.value}}</li>{{/each}}</ul>';
this.bodyTplA=template.compile(c);var d='<ul class="clearfix {{if type == 1}}year{{/if}} {{if type == 2}}month{{/if}}">{{each list}}<li class="{{if ($index + 1) % 4 == 0}}last{{/if}} {{if $value.isfuture == true}}other{{/if}} {{if $value.isCurrent == true}}current{{/if}} {{if $value.active == true}}has-active{{/if}}" index={{$index}}>{{$value.value}}</li>{{/each}}</ul>';this.bodyTplB=template.compile(d);var e='<ul class="clearfix {{if type == 0}}hour{{/if}} {{if type == 1}}minute{{/if}} {{if type == 2}}second{{/if}}">{{each list}}<li class="{{if $value.current == true}}current{{/if}}{{if $value.disable == true}}oas-disable{{/if}}" index={{$index}}>{{$value.value}}</li>{{/each}}</ul>';return this.bubbleTpl=template.compile(e),template.compile(a)},events:{"click .calendar-hd>.prev":function(){var a=this.$el;if(0==this.showType){var b=new Date((new Date).setFullYear(this.showYear,this.showMonth-1,1)),c=(this._getMonthDays(b.getFullYear(),b.getMonth()+1),new Date((new Date).setFullYear(this.showYear,this.showMonth-1,1))),d=this._createDays(c);this._renderBody(d)}else if(1==this.showType){var e=this._createYears(this.startYear-10);this._renderBody(e)}else if(2==this.showType){this.showYear--,this._emit("yearChange",[this.showYear]);var f=this._createMonths(0);this._renderBody(f)}return a.find(".calendar-ft>.time-box>.time-bubble").hide(),!1},"click .calendar-hd>.next":function(){var a=this.$el;if(0==this.showType){var b=new Date((new Date).setFullYear(this.showYear,this.showMonth+1,1)),c=(this._getMonthDays(b.getFullYear(),b.getMonth()+1),new Date((new Date).setFullYear(this.showYear,this.showMonth+1,1))),d=this._createDays(c);this._renderBody(d)}else if(1==this.showType){var e=this._createYears(this.endYear);this._renderBody(e)}else if(2==this.showType){this.showYear++,this._emit("yearChange",[this.showYear]);var f=this._createMonths(0);this._renderBody(f)}return a.find(".calendar-ft>.time-box>.time-bubble").hide(),!1},"click .calendar-bd>ul.day>li":function(a){var b=this.$el;if(!$(a).hasClass("oas-disable"))if(1==this.canBodyList[$(a).attr("index")].isDayOfCurrMon)b.find(".calendar-bd>ul.day>li").removeClass("current"),$(a).addClass("current"),this.showDay=this.canBodyList[$(a).attr("index")].value,this.focusDate.getTime()!=new Date(this.showYear,this.showMonth,this.showDay).getTime()&&(this.focusDate=new Date(this.showYear,this.showMonth,this.showDay),this._emit("dateChange",[new Date(this.showYear,this.showMonth,this.showDay)])),this._emit("clickDate",[new Date(this.showYear,this.showMonth,this.showDay)]);else if(0==this.canBodyList[$(a).attr("index")].isDayOfCurrMon){this.showDay=this.canBodyList[$(a).attr("index")].value,this.focusDate.getTime()!=new Date(this.showYear,this.showMonth-1,this.showDay).getTime()&&(this.focusDate=new Date(this.showYear,this.showMonth-1,this.showDay),this._emit("dateChange",[new Date(this.showYear,this.showMonth-1,this.showDay)])),this._emit("clickDate",[new Date(this.showYear,this.showMonth-1,this.showDay)]);var c=new Date((new Date).setFullYear(this.showYear,this.showMonth-1,1)),d=this._createDays(c);this._renderBody(d)}else if(2==this.canBodyList[$(a).attr("index")].isDayOfCurrMon){this.showDay=this.canBodyList[$(a).attr("index")].value,this.focusDate.getTime()!=new Date(this.showYear,this.showMonth+1,this.showDay).getTime()&&(this.focusDate=new Date(this.showYear,this.showMonth+1,this.showDay),this._emit("dateChange",[new Date(this.showYear,this.showMonth+1,this.showDay)])),this._emit("clickDate",[new Date(this.showYear,this.showMonth+1,this.showDay)]);var e=new Date((new Date).setFullYear(this.showYear,this.showMonth+1,1)),d=this._createDays(e);this._renderBody(d)}return b.find(".calendar-ft>.time-box>.time-bubble").hide(),"normal"==this.options.type?!1:void 0},"click .calendar-bd>ul.year>li":function(a){var b=this.$el;b.find(".calendar-bd>ul.year>li").removeClass("current"),$(a).addClass("current");this.showYear;this.showYear!=this.canBodyList[$(a).attr("index")].value&&(this.showYear=this.canBodyList[$(a).attr("index")].value,this.focusYear=this.showYear,this._emit("yearChange",[this.showYear]));var c=new Date((new Date).setFullYear(this.showYear,this.showMonth,1));return this.showType=0,this.options.showTime&&this.$el.find(".calendar-ft>.time-box").show(),dayList=this._createDays(c),this._renderBody(dayList),b.find(".calendar-ft>.time-box>.time-bubble").hide(),!1},"click .calendar-bd>ul.month>li":function(a){var b=this.$el;b.find(".calendar-bd>ul.month>li").removeClass("current"),$(a).addClass("current");this.showMonth;this.showMonth!=parseInt($(a).attr("index"),10)&&(this.showMonth=parseInt($(a).attr("index"),10),this.focusMonth=new Date(this.showYear,this.showMonth),this._emit("monthChange",[new Date(this.showYear,this.showMonth)]));var c=new Date((new Date).setFullYear(this.showYear,this.showMonth,1));return this.showType=0,this.options.showTime&&this.$el.find(".calendar-ft>.time-box").show(),dayList=this._createDays(c),this._renderBody(dayList),b.find(".calendar-ft>.time-box>.time-bubble").hide(),!1},"click .calendar-hd>.year":function(){if(0==this.showType){this.showType=1,this.focusYear=this.showYear;var a=this._createYears(this.showYear);this._renderBody(a),this.options.showTime&&this.$el.find(".calendar-ft>.time-box").hide()}return this.$el.find(".calendar-ft>.time-box>.time-bubble").hide(),!1},"click .calendar-hd>.month":function(){if(0==this.showType){this.showType=2,this.focusMonth=new Date(this.showYear,this.showMonth);var a=this._createMonths(this.showMonth);this._renderBody(a),this.options.showTime&&this.$el.find(".calendar-ft>.time-box").hide()}return this.$el.find(".calendar-ft>.time-box>.time-bubble").hide(),!1},"click .calendar-ft>.current-time>a.today":function(a){if(!$(a).hasClass("oas-disable")){var b=new Date,c=this._iCall("getSelectedTime"),d=this.options;2==d.range.length&&(startDate=d.range[0],endDate=d.range[1],d.showTime||(b=new Date(b.getFullYear(),b.getMonth(),b.getDate()),startDate=new Date(startDate.getFullYear(),startDate.getMonth(),startDate.getDate()),endDate=new Date(endDate.getFullYear(),endDate.getMonth(),endDate.getDate())),b.getTime()>endDate.getTime()?b=endDate:b.getTime()<startDate.getTime()&&(b=startDate)),this.triggerEle.val(d.showTime?b.getFullYear()+"-"+this._formatTime(b.getMonth()+1)+"-"+this._formatTime(b.getDate())+" "+this._formatTime(b.getHours())+":"+this._formatTime(b.getMinutes())+":"+this._formatTime(b.getSeconds()):b.getFullYear()+"-"+this._formatTime(b.getMonth()+1)+"-"+this._formatTime(b.getDate()));var e=this._iCall("getSelectedTime");this._emit("selectedTime",[e]),c&&c.getTime()!=e.getTime()?this._emit("selectedChange",[c,e]):c||this._emit("selectedChange",[null,e]),this.$el.oasOverlay("hide")}return!1},"click .calendar-ft>.current-time>a.clear":function(){var a=this._iCall("getSelectedTime");this.triggerEle.val("");var b=this._iCall("getSelectedTime");return this.$el.find(".calendar-ft>.time-box>.time-bubble").hide(),this._emit("afterClear"),this._emit("selectedChange",[a,b]),!1},"click .calendar-ft>.current-time>a.sure":function(){{var a=(new Date,this._iCall("getSelectedTime"));this.options}this.selectedYear=this.focusDate.getFullYear(),this.selectedMonth=this.focusDate.getMonth(),this.selectedDay=this.focusDate.getDate(),this.selectedHour=this.$el.find(".calendar-ft>.time-box>.time-choose>input.hour").val(),this.selectedMin=this.$el.find(".calendar-ft>.time-box>.time-choose>input.minute").val(),this.selectedSec=this.$el.find(".calendar-ft>.time-box>.time-choose>input.second").val(),this._isOverRange(),this._checkHour(this.selectedHour),this._checkMinute(this.selectedMin),this._checkSecond(this.selectedSec),this.triggerEle.val(this.options.showTime?this.selectedYear+"-"+this._formatTime(this.selectedMonth+1)+"-"+this._formatTime(this.selectedDay)+" "+this._formatTime(this.selectedHour)+":"+this._formatTime(this.selectedMin)+":"+this._formatTime(this.selectedSec):this.selectedYear+"-"+this._formatTime(this.selectedMonth+1)+"-"+this._formatTime(this.selectedDay));var b=this._iCall("getSelectedTime");return this._emit("selectedTime",[this._iCall("getSelectedTime")]),a&&a.getTime()!=b.getTime()?this._emit("selectedChange",[a,b]):a||this._emit("selectedChange",[null,b]),this.$el.oasOverlay("hide"),!1},"focus .calendar-ft>.time-box>.time-choose>input.hour":function(a){for(var b=[],c=$(a).val(),d=0;24>d;d++){var e={};e.value=d+"",e.value=e.value.length<2?"0"+e.value:e.value,e.current=d==c&&""!=c?!0:!1,this._compareTime(1,e.value)||(e.disable=!0),b.push(e)}return this.bubbleList=b,this.bubbleType=0,this._renderBubble(b),!1},"focus .calendar-ft>.time-box>.time-choose>input.minute":function(a){for(var b=[],c=$(a).val(),d=0;12>d;d++){var e={};e.value=5*d+"",e.value=e.value.length<2?"0"+e.value:e.value,e.current=e.value==c?!0:!1,this._compareTime(2,e.value)||(e.disable=!0),b.push(e)}return this.bubbleList=b,this.bubbleType=1,this._renderBubble(b),!1},"focus .calendar-ft>.time-box>.time-choose>input.second":function(a){for(var b=[],c=$(a).val(),d=0;12>d;d++){var e={};e.value=5*d+"",e.value=e.value.length<2?"0"+e.value:e.value,e.current=e.value==c?!0:!1,this._compareTime(3,e.value)||(e.disable=!0),b.push(e)}return this.bubbleList=b,this.bubbleType=2,this._renderBubble(b),!1},"blur .calendar-ft>.time-box>.time-choose>input":function(){return this._isOverRange(),!1},"click .calendar-ft>.time-box>.time-bubble>ul>li":function(a){if($el=this.$el,!$(a).hasClass("oas-disable")){if(0==this.bubbleType){var b=parseInt(this.selectedHour,10);this.selectedHour=this.bubbleList[$(a).attr("index")].value,$el.find(".calendar-ft>.time-box>.time-choose>input.hour").val(this._formatTime(this.bubbleList[$(a).attr("index")].value)),this._isOverRange(),b!=parseInt(this.selectedHour,10)&&this._emit("timeChange",["hour",b,parseInt(this.selectedHour,10)])}else if(1==this.bubbleType){var c=parseInt(this.selectedMin,10);this.selectedMin=this.bubbleList[$(a).attr("index")].value,$el.find(".calendar-ft>.time-box>.time-choose>input.minute").val(this._formatTime(this.bubbleList[$(a).attr("index")].value)),this._isOverRange(),c!=parseInt(this.selectedMin,10)&&this._emit("timeChange",["minute",c,parseInt(this.selectedMin,10)])}else if(2==this.bubbleType){var d=parseInt(this.selectedSec,10);this.selectedSec=this.bubbleList[$(a).attr("index")].value,$el.find(".calendar-ft>.time-box>.time-choose>input.second").val(this._formatTime(this.bubbleList[$(a).attr("index")].value)),this._isOverRange(),d!=parseInt(this.selectedSec,10)&&this._emit("timeChange",["second",d,parseInt(this.selectedSec,10)])}$el.find(".calendar-ft>.time-box>.time-bubble").hide()}return!1},"keyup .calendar-ft>.time-box>.time-choose>input[type=text]":function(a,b){var c=event.keyCode||b.keyCode;if(!(c>47&&58>c&&!event.shiftKey||c>95&&106>c||10>c)){if(b.preventDefault(),!this._checkNum($(a)))return;return!1}if(this._checkNum($(a))){var d=parseInt($(a).val(),10);$(a).hasClass("hour")?d!=parseInt(this.selectedHour,10)&&(this._emit("timeChange",["hour",parseInt(this.selectedHour,10),d]),this.selectedHour=d,this._checkHour(this.selectedHour)):$(a).hasClass("minute")?d!=parseInt(this.selectedMin,10)&&(this._emit("timeChange",["minute",parseInt(this.selectedMin,10),d]),this.selectedMin=d,this._checkMinute(this.selectedMin)):$(a).hasClass("second")&&d!=parseInt(this.selectedSec,10)&&(this._emit("timeChange",["second",parseInt(this.selectedSec,10),d]),this.selectedSec=d,this._checkSecond(this.selectedSec))}},"click .calendar-ft>.time-box>.time-bubble>.oasicon-close":function(){return $el=this.$el,$el.find(".calendar-ft>.time-box>.time-bubble").hide(),!1},"keydown .calendar-ft>.time-box>.time-choose>input[type=text]":function(a,b){var c=event.keyCode||b.keyCode;return c>47&&58>c&&!event.shiftKey||c>95&&106>c||10>c?void 0:(b.preventDefault(),!1)}},_checkNum:function(a){var b=a.val(),c=!0;if(""!=b){var d=parseInt(b,10);"number"!=typeof d||isNaN(d)?(a.val(""),c=!1):a.val(d)}else c=!1;return c},_checkTime:function(){var a=this._checkIsborderDate(),b=this.$el,c=this.options;a.result&&"left"==a.border?(b.find(".calendar-ft>.time-box>.time-choose>input.hour").val(this._formatTime(c.range[0].getHours())),b.find(".calendar-ft>.time-box>.time-choose>input.minute").val(this._formatTime(c.range[0].getMinutes())),b.find(".calendar-ft>.time-box>.time-choose>input.second").val(this._formatTime(c.range[0].getSeconds()))):a.result&&"right"==a.border&&(b.find(".calendar-ft>.time-box>.time-choose>input.hour").val(this._formatTime(c.range[1].getHours())),b.find(".calendar-ft>.time-box>.time-choose>input.minute").val(this._formatTime(c.range[1].getMinutes())),b.find(".calendar-ft>.time-box>.time-choose>input.second").val(this._formatTime(c.range[1].getSeconds())))},_isOverRange:function(){var a,b,c=this.options;if(2==c.range.length){a=c.range[0],b=c.range[1],a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds()),b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds());var d=new Date(this.showYear,this.showMonth,this.showDay,this.selectedHour,this.selectedMin,this.selectedSec);d.getTime()>=b.getTime()?this._fillHMS(b):d.getTime()<=a.getTime()&&this._fillHMS(a)}},_checkIsborderDate:function(){var a=this.options,b={};if(2==this.options.range.length){var c=a.range[0],d=a.range[1],e=new Date(c.getFullYear(),c.getMonth(),c.getDate()),f=new Date(d.getFullYear(),d.getMonth(),d.getDate()),g=new Date(this.showYear,this.showMonth,this.showDay);g.getTime()==e.getTime()?(b.result=!0,b.border="left"):g.getTime()==f.getTime()?(b.result=!0,b.border="right"):b.result=!1}else b.result=!1;return b},_checkHour:function(a){var b="";2==a.length&&"0"!=a.substring(0,1)&&(b=parseInt(a,10),this.selectedHour=b>23?"23":a)},_checkMinute:function(a){var b="";2==a.length&&"0"!=a.substring(0,1)&&(b=parseInt(a,10),this.selectedMin=b>59?"59":a)},_checkSecond:function(a){var b="";2==a.length&&"0"!=a.substring(0,1)&&(b=parseInt(a,10),this.selectedSec=b>59?"59":a)},_create:function(){this.options.defaultDate=this._initDefaultDate(this.options.defaultDate),this.options.defaultDate=null==this.options.defaultDate?new Date:this.options.defaultDate,2==this.options.range.length&&(this.options.range[0]=this._initDefaultDate(this.options.range[0]),this.options.range[1]=this._initDefaultDate(this.options.range[1])),this._initParam(),"normal"==this.options.type?(this._addInputClass(),this._preRenderData(),this._showByOverLay()):"panel"==this.options.type&&this._preRenderData(),this._bindOuterClick()},_bindOuterClick:function(){var a=this.$el;$(document).on("click.calendar",function(b){$(b.target).parents(".oas-calendar .time-bubble").size()<1&&!$(b.target).is(".oas-calendar .time-bubble")&&$(b.target).parents(".oas-calendar .time-bubble").size()<1&&!$(b.target).is(".oas-calendar .time-bubble")&&$(b.target).parents(".oas-calendar .time-choose>input[type=text]").size()<1&&!$(b.target).is(".oas-calendar .time-choose>input[type=text]")&&$(b.target).parents(".oas-calendar .time-choose>input[type=text]").size()<1&&!$(b.target).is(".oas-calendar .time-choose>input[type=text]")&&a.find(".calendar-ft>.time-box>.time-bubble").hide()})},_initDefaultDate:function(a){var b="";return null!=a&&"object"!=typeof a?(b="string"==typeof a&&-1!=a.indexOf("-")?a.replace(new RegExp("-","gm"),"/"):parseInt(a,10),new Date(b)):a},_initParam:function(){this.triggerEle=this.$el,this.showType=0,this.selectedDate=null==this.options.defaultDate?new Date:this.options.defaultDate,this.showYear=this.selectedYear=this.selectedDate.getFullYear(),this.showMonth=this.selectedMonth=this.selectedDate.getMonth(),this.showDay=this.selectedDay=this.selectedDate.getDate(),this.focusDate=new Date(this.showYear,this.showMonth,this.showDay),this.selectedHour=this.selectedDate.getHours(),this.selectedMin=this.selectedDate.getMinutes(),this.selectedSec=this.selectedDate.getSeconds(),this._checkHour(this.selectedHour),this._checkMinute(this.selectedMin),this._checkSecond(this.selectedSec),this.activeYear=this.options.defaultDate?this.options.defaultDate.getFullYear():(new Date).getFullYear()},_addInputClass:function(){var a=$('<i class="oasicon oasicon-calendar"></i>'),b=$('<a href="javascript:;" class="calendar-date-icon oas-btn-icon"></a>');this.triggerEle.after(b.append(a)).addClass("calendar-date"),this.triggerEle.attr("readonly","readonly")},_fillTime:function(){var a=this.triggerEle.val();if(a.length>0){this.showType=0,this.showYear=a.substring(0,4),this.showMonth=parseInt(a.substring(5,7),10)-1,this.showDay=a.substring(8,10),this.focusDate=new Date(a.substring(0,4),parseInt(a.substring(5,7),10)-1,a.substring(8,10));var b=this._createDays(this.focusDate);if(this._renderBody(b),this.options.showTime){var c=a.substring(11,13),d=a.substring(14,16),e=a.substring(17,19);this.selectedHour=c,this.selectedMin=d,this.selectedSec=e,this.$el.find(".calendar-ft>.time-box>.time-choose>input.hour").val(c),this.$el.find(".calendar-ft>.time-box>.time-choose>input.minute").val(d),this.$el.find(".calendar-ft>.time-box>.time-choose>input.second").val(e)}}},_fillHMS:function(a){if(a&&this.options.showTime){var b=a.getHours(),c=a.getMinutes(),d=a.getSeconds();this.selectedHour=b,this.selectedMin=c,this.selectedSec=d,this.$el.find(".calendar-ft>.time-box>.time-choose>input.hour").val(this._formatTime(b)),this.$el.find(".calendar-ft>.time-box>.time-choose>input.minute").val(this._formatTime(c)),this.$el.find(".calendar-ft>.time-box>.time-choose>input.second").val(this._formatTime(d))}},_showByOverLay:function(){var a=(this.options,this.triggerEle),b=this.$el,c=this,d=b.outerHeight(),e=b.outerWidth(),f={height:$(window).height(),width:$(window).width(),scrollTop:$(window).scrollTop(),scrollLeft:$(window).scrollLeft()};b.oasOverlay({target:$(a),triggerType:"click",align:{baseElement:$(a),baseXY:[0,0]},beforeOpen:function(){f={height:$(window).height(),width:$(window).width(),scrollTop:$(window).scrollTop(),scrollLeft:$(window).scrollLeft()},$("body").find(".oas-calendar").hide(),$("body").find(".oas-calendar.oas-calendar-panel").show(),c._fillTime();var g,h=0,i=0,j=a.offset().top,k=a.offset().left;if(b.find(".calendar-ft>.time-box>.time-bubble").hide(),b.find(".calendar-arrow").removeClass("bottom-arrow opposite"),f.height+f.scrollTop-j-a.outerHeight()-12-d<0&&j-12-d>0?(i=-d-12,b.find(".calendar-arrow").addClass("bottom-arrow"),f.width+f.scrollLeft-k-e<0?(h=a.outerWidth()-e,b.find(".calendar-arrow").addClass("opposite")):h=0):(i=a.outerHeight()+12,f.width+f.scrollLeft-k-e<0?(h=a.outerWidth()-e,b.find(".calendar-arrow").addClass("opposite")):h=0),g=[h,i],this.oasOverlay("align",{baseXY:g}),2==c.options.range.length){var l=new Date,m=c.options.range[0];endDate=c.options.range[1],c.options.showTime||(l=new Date(l.getFullYear(),l.getMonth(),l.getDate()),m=new Date(m.getFullYear(),m.getMonth(),m.getDate()),endDate=new Date(endDate.getFullYear(),endDate.getMonth(),endDate.getDate())),l.getTime()>=m.getTime()&&l.getTime()<=endDate.getTime()?c.$el.find(".calendar-ft>.current-time>a.today").removeClass("oas-disable"):c.$el.find(".calendar-ft>.current-time>a.today").addClass("oas-disable")}}}),b.oasOverlay("blurHide",[$(".input-hasicon > a.calendar-date-icon.oas-btn-icon")])},_compareTime:function(a,b){var c=this.options.range,b=(this.focusDate,parseInt(b,10));if(2!=!c.length){var d=c[0],e=c[1];if(1==a){var f=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),0,0),g=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),0,0),h=new Date(this.showYear,this.showMonth,this.showDay,b,0,0);return f.getTime()<=h.getTime()&&g.getTime()>=h.getTime()?!0:!1}if(2==a){var f=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),0),g=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),0),h=new Date(this.showYear,this.showMonth,this.showDay,this.selectedHour,b,0);return f.getTime()<=h.getTime()&&g.getTime()>=h.getTime()?!0:!1}if(3==a){var f=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds()),g=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()),h=new Date(this.showYear,this.showMonth,this.showDay,this.selectedHour,this.selectedMin,b);return f.getTime()<=h.getTime()&&g.getTime()>=h.getTime()?!0:!1}}},_createDays:function(a){var b,c,d,e,f,g,h,i,j=this.options,k=new Date((new Date).setFullYear(a.getFullYear(),a.getMonth(),1)),l=k.getDay()-1,m=[],n=this._getMonthDays(a.getFullYear(),a.getMonth()+1);2==j.range.length&&(e=new Date(j.range[0].getFullYear(),j.range[0].getMonth(),j.range[0].getDate()),f=new Date(j.range[1].getFullYear(),j.range[1].getMonth(),j.range[1].getDate())),l=0>l?6:l;this.showYear;this.showYear!=a.getFullYear()&&(this.showYear=a.getFullYear(),this._emit("yearChange",[this.showYear]));this.showMonth;this.showMonth!=a.getMonth()&&(this.showMonth=a.getMonth(),this._emit("monthChange",[new Date(this.showYear,this.showMonth)])),b=new Date((new Date).setFullYear(a.getFullYear(),a.getMonth()-1,1)),c=this._getMonthDays(b.getFullYear(),b.getMonth()+1),d=42-l-n,g=new Date(b.getFullYear(),b.getMonth(),c-l+1),h=new Date(a.getFullYear(),a.getMonth()+1,d);for(var o=0;l>o;o++){var p={};p.date=new Date(b.getFullYear(),b.getMonth(),c-l+o+1),p.value=c-l+o+1,p.isDayOfCurrMon=0,p.active=!1,m.push(p)}i=null==j.active?null:j.active[a.getMonth()],i=void 0==i?null:i,i=a.getFullYear()!=this.activeYear?null:i;for(var o=0;n>o;o++){var p={};if(p.value=o+1,p.date=new Date(a.getFullYear(),a.getMonth(),o+1),p.isCurrentDay=new Date(this.showYear,this.showMonth,o+1).getTime()==this.focusDate.getTime()?!0:!1,p.isDayOfCurrMon=1,p.active=!1,null!=i)for(var q in i)if(p.value==i[q]){p.active=!0;break}m.push(p)}for(var o=0;d>o;o++){var p={};p.date=new Date(a.getFullYear(),a.getMonth()+1,o+1),p.value=o+1,p.isDayOfCurrMon=2,p.active=!1,m.push(p)}if(void 0!=f&&void 0!=e){if(f.getTime()<=g.getTime())for(var o=0;o<m.length;o++)m[o].inRange=!1;else if(h.getTime()<e.getTime())for(var o=0;o<m.length;o++)m[o].inRange=!1;else if(e.getTime()<g.getTime()&&g.getTime()<f.getTime()&&f.getTime()<h.getTime())for(var o=0;o<m.length;o++)m[o].inRange=m[o].date.getTime()<=f.getTime()?!0:!1;else if(f.getTime()>h.getTime()&&e.getTime()>g.getTime()&&e.getTime()<h.getTime())for(var o=0;o<m.length;o++)m[o].inRange=m[o].date.getTime()<e.getTime()?!1:!0;else if(e.getTime()>=g.getTime()&&f.getTime()<=h.getTime())for(var o=0;o<m.length;o++)m[o].date.getTime()<e.getTime()?m[o].inRange=!1:m[o].date.getTime()>=e.getTime()&&m[o].date.getTime()<=f.getTime()?m[o].inRange=!0:m[o].date.getTime()>f.getTime()&&(m[o].inRange=!1)}else for(var o=0;o<m.length;o++)m[o].inRange=!0;return this.canBodyList=m,m},_createYears:function(a){var b=parseInt((a+"").substring(3,4),10),c=parseInt(a,10)-b,d=c+10,e=[],f=parseInt((new Date).getFullYear(),10);this.startYear=c,this.endYear=d;for(var g=0;12>g;g++){var h={};h.value=d-11+g,h.isfuture=d-11+g>f?!0:!1,h.isCurrent=d-11+g==this.focusYear?!0:!1,h.active=!1,this.activeYear==h.value&&null!=this.options.active&&(h.active=!0),e.push(h)}return this.canBodyList=e,e},_createMonths:function(){var a=[],b=parseInt((new Date).getFullYear(),10),c=parseInt((new Date).getMonth(),10),d=[];if(this.activeYear==this.showYear&&null!=this.options.active)for(var e in this.options.active)d.push(e);for(var f=0;12>f;f++){var g={};if(g.value=f+1+"月",g.active=!1,g.isfuture=f>c&&this.showYear==b||this.showYear>b?!0:!1,g.isCurrent=this.focusMonth.getTime()==new Date(this.showYear,f).getTime()?!0:!1,d.length>0)for(var e in d)d[e]==f&&(g.active=!0);a.push(g)}return this.canBodyList=a,a},_getMonthDays:function(a,b){var c;return c=7>=b&&b%2!=0||b>7&&b%2==0?31:2!=b?30:a%4==0&&a%100!=0||a%400==0?29:28},_preRenderData:function(){var a,b,c=this.options,d={},e={};this._renderData=d={showTime:c.showTime,isNeedClear:c.isNeedClear},e.hour=this._formatTime(c.defaultDate.getHours()),e.minute=this._formatTime(c.defaultDate.getMinutes()),e.second=this._formatTime(c.defaultDate.getSeconds()),this._renderData.time=e,this._renderData.panelId=c.panelId,this._createDom(),b=c.defaultDate?c.defaultDate:new Date,a=this._createDays(b),this._renderBody(a)},_formatTime:function(a){var a=a+"";return a=1==a.length?"0"+a:a,a=0==a.length?"00":a},_renderBubble:function(a){var b,c=(this.options,this.$el),d={list:a,type:this.bubbleType};b=this.bubbleTpl(d),c.find(".calendar-ft>.time-box>.time-bubble>ul").remove(),c.find(".calendar-ft>.time-box>.time-bubble").append(b),0==this.bubbleType?(c.find(".calendar-ft>.time-box>.time-bubble").css("top",-115),c.find(".calendar-ft>.time-box>.time-bubble>.time-bubble-arrow").css("left",15)):1==this.bubbleType?(c.find(".calendar-ft>.time-box>.time-bubble").css("top",-71),c.find(".calendar-ft>.time-box>.time-bubble>.time-bubble-arrow").css("left",84)):2==this.bubbleType&&(c.find(".calendar-ft>.time-box>.time-bubble").css("top",-71),c.find(".calendar-ft>.time-box>.time-bubble>.time-bubble-arrow").css("left",154)),c.find(".calendar-ft>.time-box>.time-bubble").show()},_renderBody:function(a){var b,c=(this.options,{});0==this.showType?(c={list:a},b=this.bodyTplA(c),this.$el.find(".calendar-hd>.year").text(this.showYear+"年"),this.$el.find(".calendar-hd>.month").text(this.showMonth+1+"月"),this.$el.find(".calendar-hd>.year").css("margin-left",18),this.$el.find(".calendar-hd>.month").show()):1==this.showType?(c={list:a,type:this.showType},b=this.bodyTplB(c),this.$el.find(".calendar-hd>.year").text(this.startYear+"-"+this.endYear),this.$el.find(".calendar-hd>.year").css("margin-left",27),this.$el.find(".calendar-hd>.month").hide()):2==this.showType&&(c={list:a,type:this.showType},b=this.bodyTplB(c),this.$el.find(".calendar-hd>.year").text(this.showYear),this.$el.find(".calendar-hd>.year").css("margin-left",44),this.$el.find(".calendar-hd>.month").hide()),this.$el.find(".calendar-bd").html(""),this.$el.find(".calendar-bd").append(b)},_createDom:function(){if("normal"==this.options.type){var a=this.tpl(this._renderData);this.$el=$(a),$("body").append(this.$el)}else if("panel"==this.options.type){var a=this.tplPanel(this._renderData);this.$el.empty().append(a)}if(2==this.options.range.length){var b=new Date,c=this.options.range[0];endDate=this.options.range[1],this.options.showTime||(b=new Date(b.getFullYear(),b.getMonth(),b.getDate()),c=new Date(c.getFullYear(),c.getMonth(),c.getDate()),endDate=new Date(endDate.getFullYear(),endDate.getMonth(),endDate.getDate())),b.getTime()>=c.getTime()&&b.getTime()<=endDate.getTime()?this.$el.find(".calendar-ft>.current-time>a.today").removeClass("oas-disable"):this.$el.find(".calendar-ft>.current-time>a.today").addClass("oas-disable")}},invoke:{activeDates:function(a,b){this.activeYear=b,this.options.active=a},getSelectedTime:function(){var a=this.triggerEle.val();return a.length>0?this.options.showTime?new Date(a.substring(0,4),parseInt(a.substring(5,7),10)-1,a.substring(8,10),a.substring(11,13),a.substring(14,16),a.substring(17,19)):new Date(a.substring(0,4),parseInt(a.substring(5,7),10)-1,a.substring(8,10)):null},range:function(a){2==a.length&&(a[0]=this._initDefaultDate(a[0]),a[1]=this._initDefaultDate(a[1])),this.options.range=a;var b=a[0],c=this.focusDate;endDate=a[1],b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds()),endDate=new Date(endDate.getFullYear(),endDate.getMonth(),endDate.getDate(),endDate.getHours(),endDate.getMinutes(),endDate.getSeconds()),this.options.range[0]=b,this.options.range[1]=endDate,this.showType=0,c.getTime()<b.getTime()?(this.focusDate=b,this._fillHMS(this.focusDate)):c.getTime()>endDate.getTime()&&(this.focusDate=endDate,this._fillHMS(this.focusDate));var d=new Date;this.options.showTime||(d=new Date(d.getFullYear(),d.getMonth(),d.getDate()),b=new Date(b.getFullYear(),b.getMonth(),b.getDate()),endDate=new Date(endDate.getFullYear(),endDate.getMonth(),endDate.getDate())),d.getTime()>=b.getTime()&&d.getTime()<=endDate.getTime()?this.$el.find(".calendar-ft>.current-time>a.today").removeClass("oas-disable"):this.$el.find(".calendar-ft>.current-time>a.today").addClass("oas-disable"),this.showYear=this.focusDate.getFullYear(),this.showMonth=this.focusDate.getMonth(),this.showDay=this.focusDate.getDate();var e=this._createDays(this.focusDate);this._renderBody(e)}}})}(),function(){$.oasUiFactory("oasCheckLine",{options:{data:[],current:1,onSelect:function(){}},_template:function(){var a='<div class="oas-checkline-line"></div><div class="oas-checkline-line-top" style="width:{{topwidth}}%"></div>{{each data}}<div title="{{$value.title}}" class="oas-checkline-circle{{if current-1 >= $index}} active{{/if}}" style="width:{{width}}%"><div class="oas-checkline-href"><div class="circleLine"></div><span>{{$value.label}}</span></div></div>{{/each}}';return template.compile(a)},events:{"click .oas-checkline-circle":function(a){var b=$(a).closest(".oas-checkline").find(".oas-checkline-circle").index($(a));this._skip(b)}},_create:function(){this.options;this.$el.addClass("oas-checkline"),this._preRenderData()},_preRenderData:function(){var a=this.options,b=this._renderData={},c=a.data,d=this.totalStep=c.length,e=b.width=100/d,f=b.current=a.current;b.data=c,b.topwidth=e*(f-1)+e/2,this.$el.empty().append(this.tpl(b))},_skip:function(a){var b=this.$el,c=(this.options,this._renderData);b.find(".oas-checkline-circle").removeClass("active").eq(a).addClass("active"),this.$el.find(".oas-checkline-line-top").css(a===this.totalStep-1?{width:"100%"}:{width:c.width*a+c.width/2+"%"}),b.find(".oas-checkline-circle:lt("+a+")").addClass("active"),this.current=a+1},invoke:{skip:function(){this._skip(--_skip)}}})}(),function(){$.oasUiFactory("oasGrade",{options:{current:1,onlyread:!1,total:5,tips:[],onChange:function(){}},_template:function(){{var a;this.options}return a='<ul>{{each total}}<li><a href="javascript:;"><i class="oasicon oasicon-unfav"></i><i class="oasicon oasicon-fav"></i></a></li>{{/each}}</ul>',template.compile(a)},events:{"mouseover li":function(a){this.options.onlyread||this._fnPoint($(a).index()+1)},"mouseout li":function(){this.options.onlyread||this._fnPoint()},"click li":function(a){if(!this.options.onlyread){this.options.current!=$(a).index()+1&&this._emit("onChange",[$(a).index()+1]);{this.options.current=$(a).index()+1}this._fnPoint()}}},_create:function(){var a=this.options;a.current=parseInt(a.current),this.$el.addClass("oas-grade clearfix"),this._preRenderData(),this._fnPoint()},_preRenderData:function(){var a=this._renderData={},b=this.options;a.total=new Array(b.total),this._createDom()},_createDom:function(){var a=this.tpl(this._renderData);this.$el.empty().append(a)},_fnPoint:function(a){var b=this.$el,c=b[0].getElementsByTagName("li"),d=this.options.current;for(d=a||d,i=0;i<c.length;i++)c[i].className=d>i?"on":""},invoke:{current:function(a){return a?(this.options.current=a,void this._fnPoint()):this.options.current}}})}(),function(){$.oasUiFactory("oasBottomBar",{options:{type:"normal",message:"",buttons:null},_template:function(){var a='<div class="bottom-bar-content clearfix {{if type === "error"}}oas-error{{/if}}"><div class="bottom-btns"></div><div class="bottom-tip oas-assist">{{message}}</div></div>';return template.compile(a)},events:{},_create:function(){this.options;this._preRenderData()},_preRenderData:function(){var a=this.options,b={},c=this.message||(this.message=a.message),d=this.type||(this.type=a.type);this._renderData=b={message:c,type:d},this._setPosition(),this._createDom()},_createButtons:function(a,b){var c=this.$el;$.each(b,function(d){var e=b[d].label,f=$('<a href="javascript:;" class="oas-btn">'+e+"</a>");1==b[d].recommend&&(f=$('<a href="javascript:;" class="oas-btn oas-recommend">'+e+"</a>")),a.append(f),f.bind("click",function(){b[d].callBack(c)})})},_setPosition:function(){$(document).find("#oas-bd.has-left-bar").size()>0&&this.$el.css({left:"130px"})},_createDom:function(){var a=this.tpl(this._renderData);this.$el.addClass("oas-bottom-bar"),this.$el.empty().append(a);var b=this.options.buttons,c=this.$el.find(".bottom-btns");b&&this._createButtons(c,b)
},invoke:{type:function(a){var b=this.$el;"error"==a?b.find(".bottom-bar-content ").addClass("oas-error"):b.find(".bottom-bar-content ").removeClass("oas-error")},message:function(a){var b=this.$el;b.find(".bottom-tip").text(a)},buttons:function(a){var b=this.$el.find(".bottom-btns"),c=this.options.button=a;b.empty(),this._createButtons(b,c)}}})}(),function(){$.oasUiFactory("oasGuide",{options:{data:null,current:1},_template:function(){var a='<div class="oas-guide-nav"><ul class="clearfix">{{each data}}<li{{if $index === current-1}} class="current"{{/if}} {{if $index <current}} class="finished"{{/if}} {{if $value.title}} title="{{$value.title}}"{{/if}}><span class="oas-guide-number">{{if $index >= current-1}}{{$index+1}}{{/if}}</span> <span class="oas-guide-text">{{#$value.label}}</span>{{if $index < data.length-1}}<i class="oasicon oasicon-nextstep"></i>{{/if}}</li>{{/each}}</ul></div>';return template.compile(a)},events:{},_create:function(){this.options;this._preRenderData(),this._findGuideContent(),this._bindEvent()},_preRenderData:function(){var a=this.options,b={},c=this.data||(this.data=a.data);this._renderData=b={data:c,current:this.current||(this.current=a.current)},this._createDom()},_findGuideContent:function(){var a=this.$content=$(".oas-guide-steps");if(a){var b=this.options;$(".oas-guide-wrap").width($(".oas-guide-wrap").width()),a.find(".oas-guide-step").width($(".oas-guide-wrap").width()),a.width(a.find(".oas-guide-step").size()*$(".oas-guide-wrap").width()),a.css({"margin-left":function(){return-[$(".oas-guide-wrap").width()*(b.current-1)]}}),$(window).resize(function(){$(".oas-guide-wrap").width($(".oas-guide-wrap").width()),a.find(".oas-guide-step").width($(".oas-guide-wrap").width()),a.width(a.find(".oas-guide-step").size()*$(".oas-guide-wrap").width()),a.css({"margin-left":function(){return-[$(".oas-guide-wrap").width()*(b.current-1)]}})})}},_createDom:function(){var a=this.tpl(this._renderData),b=this.$el;b.addClass("oas-guide"),b.empty().append(a)},_bindEvent:function(){$self=this,$(window).resize(function(){$(".oas-guide-wrap").width($(".oas-guide-wrap").width()),$self.$content||$self._findGuideContent();var a=$self.current-1;$self.$content.css({"margin-left":function(){return-[$(".oas-guide-wrap").width()*a]},transition:"none 0 ease 0"}),$self._preRenderData()})},invoke:{prev:function(){if(this.$content||this._findGuideContent(),1<this.current&&this.current<=this.data.length){this.current--,this._preRenderData();var a=this.current-1;this.$content.css({"margin-left":function(){return-[$(".oas-guide-wrap").width()*a]},transition:function(){return"margin-left ease-in .8s"}})}},finish:function(){if(this.$content||this._findGuideContent(),this.current<this.data.length){var a=this.data.length-1;this.current=this.data.length,this.$content.css({"margin-left":function(){return-[$(".oas-guide-wrap").width()*a]},transition:function(){return"none 0 ease 0"}}),this._preRenderData()}},next:function(){if(this.$content||this._findGuideContent(),this.current<this.data.length){this.current++;var a=this.current-1;this.$content.css({"margin-left":function(){return-[$(".oas-guide-wrap").width()*a]},transition:function(){return"margin-left ease-in .8s"}}),this._preRenderData()}}}})}(),function(){$.oasUiFactory("oasDateSelect",{options:{defaultDate:null,format:"yyyy-MM-dd",range:[new Date(1900,0,1),new Date],dateChange:function(){},chooseNull:function(){}},_template:function(){var a='<div class="date-select-item {{if yearInit.yearShow == false}}hide{{/if}} date-select-year ue-state-default"><input type="text" class="item-input year-input" maxlength="4" value="{{yearInit.value}}"><a href="javascript:;" class="oasicon oasicon-arrow-down"></a><span>年</span></div><div class="date-select-item {{if monthInit.monthShow == false}}hide{{/if}} date-select-month ue-state-default"><input type="text" class="item-input month-input" maxlength="2" max="12" value="{{monthInit.value}}"><a href="javascript:;" class="oasicon oasicon-arrow-down"></a><span>月</span></div><div class="date-select-item {{if dayInit.dayShow == false}}hide{{/if}} date-select-day ue-state-default"><input type="text" class="item-input day-input" maxlength="2" max="31" value="{{dayInit.value}}"><a href="javascript:;" class="oasicon oasicon-arrow-down"></a><span>日</span></div><div class="date-select-item {{if hourInit.hourShow == false}}hide{{/if}} date-select-hour ue-state-default"><input type="text" class="item-input hour-input" maxlength="2" max="23" value="{{hourInit.value}}"><a href="javascript:;" class="oasicon oasicon-arrow-down"></a><span>时</span></div><div class="date-select-item {{if minInit.minShow == false}}hide{{/if}} date-select-minute ue-state-default"><input type="text" class="item-input min-input" maxlength="2" max="59" value="{{minInit.value}}"><a href="javascript:;" class="oasicon oasicon-arrow-down"></a><span>分</span></div><div class="date-select-item {{if secInit.secShow == false}}hide{{/if}} date-select-second ue-state-default"><input type="text" class="item-input sec-input" maxlength="2" max="59" value="{{secInit.value}}"><a href="javascript:;" class="oasicon oasicon-arrow-down"></a><span>秒</span></div><div class="datelist oas-scroll-webkit"><div class="datelist-content"><ul></ul></div></div>';return template.compile(a)},events:{"keydown .item-input":function(a,b){var c=event.keyCode||b.keyCode;return c>47&&58>c&&!event.shiftKey||c>95&&106>c||10>c?void 0:(b.preventDefault(),!1)},"click .date-select-item>.oasicon-arrow-down":function(a){return $(a).parent().hasClass("ue-state-disable")?!1:void $(a).prev().trigger("focus")},"click .date-select-item":function(a){var b=null!=this.options.range[0]?this.options.range[0].getFullYear():null,c=null!=this.options.range[1]?this.options.range[1].getFullYear():null;if(!$(a).hasClass("ue-state-disable")){if($(a).hasClass("date-select-year"))b=null!=b?b:1900,c=null!=c?c:(new Date).getFullYear(),this._createDataList(b,c,$(a).find("input"),!0);else{var d=$(a).index(),e=this._getSelectValue(),f=this._getAvailableRange(this,d,[e.year,e.month,e.day,null!==e.hour?e.hour:0,null!==e.minute?e.minute:0,null!==e.second?e.second:0]);this._createDataList(f[0],f[1],$(a).find("input"),!0)}$(a).find("input").focus().select()}return!1},"change .item-input":function(){return this.options.dateChange&&this.options.dateChange(this._getselectedDateInvoke()),!1},"keyup .year-input":function(a){if(this._checkNum($(a))){var b=null!=this.options.range[0]?this.options.range[0].getFullYear():null,c=null!=this.options.range[1]?this.options.range[1].getFullYear():null,d=$(a).val(),e="0000",f="9999",g=d+e.substr(0,4-d.length),h=parseInt(d+f.substr(0,4-d.length),10);return g=parseInt(b>g?b:g,10),h=parseInt(h>c&&null!=c?c:h,10),this._createDataList(g,h,$(a),!1),!1}},"keyup .month-input":function(a){if(this._checkNum($(a))){var b=$(a).val(),c="00",d="99",e=parseInt(b+c.substr(0,2-b.length),10),f=parseInt(b+d.substr(0,2-b.length),10);return f=f>12?12:f,this._createDataList(e,f,$(a),!1,b),!1}},"keyup .day-input":function(a){if(this._checkNum($(a))){var b=$(a).val(),c="00",d="99",e=this._getMonthDays(parseInt(this.$el.find(".date-select-year").find("input").val(),10),parseInt(this.$el.find(".date-select-month").find("input").val(),10)),f=parseInt(b+c.substr(0,2-b.length),10),g=parseInt(b+d.substr(0,2-b.length),10);return g=g>e?e:g,this._createDataList(f,g,$(a),!1,b),!1}},"keyup .hour-input":function(a){if(this._checkNum($(a))){var b=$(a).val(),c="00",d="99",e=parseInt(b+c.substr(0,2-b.length),10),f=parseInt(b+d.substr(0,2-b.length),10);return f=f>23?23:f,this._createDataList(e,f,$(a),!1,b),!1}},"keyup .min-input":function(a){if(this._checkNum($(a))){var b=$(a).val(),c="00",d="99",e=parseInt(b+c.substr(0,2-b.length),10),f=parseInt(b+d.substr(0,2-b.length),10);return f=f>59?59:f,this._createDataList(e,f,$(a),!1,b),!1}},"keyup .sec-input":function(a){if(this._checkNum($(a))){var b=$(a).val(),c="00",d="99",e=parseInt(b+c.substr(0,2-b.length),10),f=parseInt(b+d.substr(0,2-b.length),10);return f=f>59?59:f,this._createDataList(e,f,$(a),!1,b),!1}},"blur .year-input":function(a){return this._yearChage(a),!1},"blur .month-input":function(a){return this._monthChage(a),!1},"blur .item-input":function(a){var b=this.$el,c=parseInt($(a).val()),d=parseInt($(a).attr("max"));c>d&&$(a).val(d);var e=$(a).parent().index();return""==$(a).val()?b.find(".date-select-item:gt("+e+")").find("input").val("").attr("disabled",!0).end().addClass("ue-state-disable"):b.find(".date-select-item:eq("+(e+1)+")").removeClass("ue-state-disable").find("input").removeAttr("disabled"),1==$(a).val().length&&$(a).val(this._formatNum($(a).val())),!1}},_checkNum:function(a){var b=a.val(),c=!0;if(""!=b){var d=parseInt(b,10);"number"!=typeof d||isNaN(d)?(a.val(""),c=!1):a.val(d)}else c=!1;return c},_createDescList:function(a,b){for(var c="",d=b;d>=a;d--){var e='<li class="ue-state-default">'+this._formatNum(d)+"</li>";c+=e}return c},_createDataList:function(a,b,c,d,e){var f=this,g=this.$el,h=this.$el.find(".datelist"),i="";if(this.target=c,h.width(c.outerWidth()-2),c.parent().hasClass("date-select-year"))i=this._createDescList(a,b);else for(;b>=a;a++){var j='<li class="ue-state-default">'+this._formatNum(a)+"</li>";i+=j}if(h.find("ul").empty().append(i),parseInt(e)>=0&&parseInt(e)<10&&0!=e.indexOf("0")){var e=1==e.length?this._formatNum(e):e;h.find("ul li").size()?$('<li class="ue-state-default">'+e+"</li>").insertBefore(h.find("ul li").eq(0)):h.find("ul").append('<li class="ue-state-default">'+e+"</li>")}(""==c.val()||d)&&$('<li class="ue-state-default"></li>').insertBefore(h.find("ul li").eq(0)),h.find("li").size()||g.find(".datelist").oasOverlay("hide"),h.find("li").click(function(){f.target.val($(this).text());var a,b=f._getSelectValue(),d=!1;null!==b.year&&(a=new Date(b.year,b.month-1,null===b.day?1:b.day,b.hour,b.minute,b.second),d=a>=f.options.range[0]&&a<=f.options.range[1]),g.find(".datelist").oasOverlay("hide"),c.parent().hasClass("date-select-year")&&f._yearChage(c),c.parent().hasClass("date-select-month")&&f._monthChage(c);var e=f.target.parents(".date-select-item").index();""==$(this).text()?(g.find(".date-select-item:gt("+e+")").find("input").val("").attr("disabled",!0).end().addClass("ue-state-disable"),f.options.chooseNull()):d?g.find(".date-select-item:eq("+(e+1)+")").removeClass("ue-state-disable").find("input").removeAttr("disabled"):(g.find(".date-select-item:gt("+(e+1)+")").find("input").val("").attr("disabled",!0).end().addClass("ue-state-disable"),g.find(".date-select-item:eq("+(e+1)+")").removeClass("ue-state-disable").find("input").val("").removeAttr("disabled"));var h=f.options.dateChange;h&&h(f._getselectedDateInvoke())}),h.find("li").mouseover(function(){h.find("li").removeClass("current"),$(this).addClass("current")})},_showDataList:function(){var a=(this.options,this.$el),b=a.find(".item-input");a.find(".datelist").oasOverlay({target:$(b),triggerType:"focus",isNeedAnimation:!1,align:{baseElement:$(b),baseXY:[0,30]},beforeOpen:function(b){$("body").find(".oas-date-select > .datelist").hide(),a.find(".datelist").width($(b.target).outerWidth()-2)}})},_getInputVal:function(a){var b=a.val();return a.parent().hasClass("uew-dateSelect-month")&&""!=b&&(b=parseInt(b,10)-1),""==b&&(b=0,a.parent().hasClass("uew-dateSelect-month")?b=0:a.parent().hasClass("uew-dateSelect-day")&&(b=1)),b},_getSelectValue:function(){var a=(this.options,this.$el),b=a.find(".date-select-year").find("input").val(),c=a.find(".date-select-month").find("input").val(),d=a.find(".date-select-day").find("input").val(),e=a.find(".date-select-hour").find("input").val(),f=a.find(".date-select-minute").find("input").val(),g=a.find(".date-select-second").find("input").val();return{year:""!=b&&"00"!=b?b:null,month:""!=c&&"00"!=c?c:null,day:""!=d&&"00"!=d?d:null,hour:""!=e&&"00"!=e?e:null,minute:""!=f&&"00"!=f?f:null,second:""!=g&&"00"!=g?g:null}},getselectedDate:function(){var a=this.options,b=this.$el,c=this._getInputVal(b.find(".date-select-year").find("input")),d=this._getInputVal(b.find(".date-select-month").find("input")),e=this._getInputVal(b.find(".date-select-day").find("input")),f=this._getInputVal(b.find(".date-select-hour").find("input")),g=this._getInputVal(b.find(".date-select-minute").find("input")),h=this._getInputVal(b.find(".date-select-second").find("input"));b.find(".date-select-year:hidden").size()&&(null!=a.range[1]?(c=a.range[1].getFullYear(),d=a.range[1].getMonth(),e=a.range[1].getDate()):(c=(new Date).getFullYear(),d=(new Date).getMonth(),e=(new Date).getDate())),b.find(".date-select-hour:hidden").size()&&(f=0),b.find(".date-select-minute:hidden").size()&&(g=0),b.find(".date-select-second:hidden").size()&&(h=0);var i;return 0==c?i=null:(c=0==c?(new Date).getFullYear():c,d=0==d?(new Date).getMonth()+1:d,e=0==e?(new Date).getDate():e,i=new Date(c,d-1,e,f,g,h)),i},_getselectedDateInvoke:function(){var a=this.options,b=this.$el,c=["year","month","day","hour","minute","second"],d=[0,11,31,23,59,59];for(minTime=[0,0,1,0,0,0],i=0,timeArrayLen=6-b.find(".date-select-item:hidden").size(),temp=0,year=0;timeArrayLen>i&&(temp=b.find(".date-select-"+c[i]).find("input").val(),""!==temp);i++)if(temp-=0,0===i&&(year=temp),d[i]=temp,minTime[i]=temp,1===i)switch(d[i]=temp-1,minTime[i]=temp-1,temp){case 1:case 3:case 5:case 7:case 8:case 10:case 12:d[2]=31;break;case 4:case 6:case 9:case 11:d[2]=30;break;case 2:if(year%400===0||year%4===0&&year%100!==0){d[2]=29;break}d[2]=28}return d=new Date(d[0],d[1],d[2],d[3],d[4],d[5]),minTime=new Date(minTime[0],minTime[1],minTime[2],minTime[3],minTime[4],minTime[5]),d=d>a.range[1]?a.range[1]:d,minTime=minTime>a.range[0]?minTime:a.range[0],0===i?null:d.getTime()==minTime.getTime()||i===timeArrayLen?d:[minTime,d]},_yearChage:function(a){var b=this.options.range,c=this.$el,d=parseInt($(a).val());(d<b[0].getFullYear()||d>b[1].getFullYear())&&(d=(new Date).getFullYear(),$(a).val(d));var e=c.find(".date-select-month").find("input").val(),f=this._getMonthDays(d,e);f<parseInt(c.find(".date-select-day").find("input").val())&&c.find(".date-select-day").find("input").val(f),c.find(".date-select-day").find("input").attr("max",f)},_getMonthDays:function(a,b){var c;return c=7>=b&&b%2!=0||b>7&&b%2==0?31:2!=b?30:a%4==0&&a%100!=0||a%400==0?29:28},_monthChage:function(a){var b=this.$el.find(".date-select-year").find("input").val(),c=$(a).val(),d=this._getMonthDays(b,c);d<parseInt(this.$el.find(".date-select-day").find("input").val())&&this.$el.find(".date-select-day").find("input").val(d),this.$el.find(".date-select-day").find("input").attr("max",d)},_fillToInput:function(a){var b=this.$el,c=this;b.find(".date-select-item").each(function(){""==$(this).find("input").val()&&($(this).removeClass("ue-state-disable").find("input").removeAttr("disabled"),$(this).hasClass("date-select-year")&&$(this).find("input").val(c._formatNum(a.getFullYear())),$(this).hasClass("date-select-month")&&$(this).find("input").val(c._formatNum(a.getMonth()+1)),$(this).hasClass("date-select-day")&&$(this).find("input").val(c._formatNum(a.getDate())),$(this).hasClass("date-select-hour")&&$(this).find("input").val(c._formatNum(a.getHours())),$(this).hasClass("date-select-minute")&&$(this).find("input").val(c._formatNum(a.getMinutes())),$(this).hasClass("date-select-second")&&$(this).find("input").val(c._formatNum(a.getSeconds())))})},_create:function(){this._preRenderData(),this._adjustDisable(),this._showDataList()},_getAvailableRange:function(a,b,c){var d,e,f=a.options.range[0],g=!0,h=a.options.range[1],i=!0,j=["getFullYear","getTrueMonth","getDate","getHours","getMinutes","getSeconds"],k=[0,12,31,23,59,59],l=[0,1,1,0,0,0],m=0;for(Date.prototype.getTrueMonth||(Date.prototype.getTrueMonth=function(){return this.getMonth()+1});b>m;m++)f[j[m]]()==c[m]&&g||(g=!1),h[j[m]]()==c[m]&&i||(i=!1);return d=g?f[j[m]]():l[m],e=i?h[j[m]]():k[m],[d,e]},_preRenderData:function(){var a=this.options,b={},c={},d={},e={},f={},g={},h=a.format,i=a.defaultDate,j={};b.yearShow=-1==h.indexOf("yyyy")?!1:!0,c.monthShow=-1==h.indexOf("MM")?!1:!0,d.dayShow=-1==h.indexOf("dd")?!1:!0,e.hourShow=-1==h.indexOf("hh")?!1:!0,f.minShow=-1==h.indexOf("mm")?!1:!0,g.secShow=-1==h.indexOf("ss")?!1:!0,i&&(b.value=i.getFullYear(),c.value=this._formatNum(i.getMonth()+1),d.value=this._formatNum(i.getDate()),f.value=this._formatNum(i.getMinutes()),e.value=this._formatNum(i.getHours()),g.value=this._formatNum(i.getSeconds())),this._renderData=j={yearInit:b,monthInit:c,dayInit:d,hourInit:e,minInit:f,secInit:g},this._createDom()},_formatNum:function(a){return a>=10?a:"0"+a},_adjustDisable:function(){for(var a=this.$el.find("input[type=text]"),b=this.$el,c=0,d=a.size();d>c;c++)if(""==a.eq(c).val()){b.find("input:gt("+c+")").attr("disabled",!0).parents(".date-select-item").addClass("ue-state-disable");break}},_createDom:function(){var a=this.tpl(this._renderData),b=this.$el;b.addClass("oas-date-select clearfix"),b.empty().append(a)},invoke:{getselectedDate:function(){return this._getselectedDateInvoke()},setDefaultDate:function(a){this.options.defaultDate=a,this._preRenderData(),this._adjustDisable(),this._showDataList()},getDefaultDate:function(){return this.options.defaultDate},getSelectedValue:function(){return this._getSelectValue()}}})}(),function(){$.oasUiFactory("oasRightClick",{options:{openInstance:null,filterElements:[],hasOpacity:!1,onOpen:function(){}},_template:function(){},events:{},_create:function(){this.isShow=!0,this.options.openInstance&&this.options.openInstance.addClass("oas-rightclick"),this._cancelDefaultClick(),this._bindRightClick(),this._filterElements()},_cancelDefaultClick:function(){document.oncontextmenu=function(){return!1}},_filterElements:function(){for(var a=this.options.filterElements,b=0,c=a.length;c>b;b++)this.$el.find(a[b]).mousedown(function(){return!1})},_bindRightClick:function(){var a=this,b=this.options;$(this.$el).mousedown(function(c){if(2==c.button){if($(".oas-rightclick").hide(),!b.openInstance)return;return b.openInstance.data("oasOperate")?b.openInstance.oasOperate("position",{left:c.clientX+$(window).scrollLeft(),top:c.clientY+$(window).scrollTop()}):b.openInstance.css({left:c.clientX,top:c.clientY}),a._emit("onOpen",[$(c.target)]),b.openInstance.oasOperate("target",$(this)),a.isShow?(b.openInstance.show(),a.options.hasOpacity&&$("body").find(".oas-mask-opacity").show()):(b.openInstance.hide(),a.options.hasOpacity&&$("body").find(".oas-mask-opacity").hide()),!1}})},invoke:{isShow:function(a){this.isShow=1==a?!0:!1}}})}(),function(){$.oasUiFactory("oasThinkInput",{options:{data:[],isBatch:!0,paginInfo:{type:"simple",current:1,total:0,pageItems:8,onPageNoChage:function(){}},blankDom:"",nodataTip:"没有找到类似数据",onOpen:function(){},onClick:function(){},onClose:function(){},onChange:function(){},onSelect:function(){}},_template:function(){var a='<div class="oas-associate-panel"><div class="associate-arrow top-arrow"></div><div class="associate-bd oas-scroll-webkit {{if isNoData == true}}no-bottom{{/if}}">{{if isNoData == true}}{{if blankDom == ""}}<div class="ellipsis">{{nodataTip}}</div>{{else}}<div class="ellipsis">{{nodataTip}}</div><div class="no-data-style">{{#blankDom}}</div>{{/if}}{{else}}<div><ul>{{each list}}<li class="associate-item" index={{$index}} title="{{$value.title}}">{{#$value.label}}</li>{{/each}}</ul></div>{{/if}}</div><div class="associate-ft {{if isNoData == true}}hide{{/if}}"><div class="associate-pagin" data-oas-pagin-type="simple" data-oaspagin-skipto="false"></div></div><div class="associate-loading"><div class="oas-local-loading clearfx"><span class="loading"></span><span class="loading-text">数据读取中....</span></div></div></div>',b='<div class="associate-arrow top-arrow"></div><div class="associate-bd oas-scroll-webkit {{if isNoData == true}}no-bottom{{/if}}">{{if isNoData == true}}{{if blankDom == ""}}<div class="ellipsis">{{nodataTip}}</div>{{else}}<div class="ellipsis">{{nodataTip}}</div><div class="no-data-style">{{#blankDom}}</div>{{/if}}{{else}}<div><ul>{{each list}}<li class="associate-item" index={{$index}} title="{{$value.title}}">{{#$value.label}}</li>{{/each}}</ul></div>{{/if}}</div><div class="associate-ft {{if isNoData == true}}hide{{/if}}"><div class="associate-pagin" data-oas-pagin-type="simple" data-oaspagin-skipto="false"></div></div><div class="associate-loading"><div class="oas-local-loading clearfx"><span class="loading"></span><span class="loading-text">数据读取中....</span></div></div>',c='<div><ul>{{each list}}<li class="associate-item" index={{$index}} title="{{$value.title}}">{{#$value.label}}</li>{{/each}}</ul></div>',d='{{if blankDom == ""}}<div class="ellipsis">{{nodataTip}}</div>{{else}}<div class="ellipsis">{{nodataTip}}</div><div class="no-data-style">{{#blankDom}}</div>{{/if}}';return this.bodyTplA=template.compile(b),this.bodyTplB=template.compile(c),this.bodyTplC=template.compile(d),template.compile(a)},events:{"click .associate-item":function(){return this.triggerEle.val(this.$el.find('.associate-item[index="'+this.hoverIndex+'"]').text()),this.inputValue=this.triggerEle.val(),this._emit("onSelect",[this.currentList[this.hoverIndex]]),this.$el.oasOverlay("hide"),this.isOpen=!1,!1},"mouseover .associate-item":function(a){return this.$el.find(".associate-item").removeClass("current"),$(a).addClass("current"),this.hoverIndex=$(a).attr("index"),!1},"mouseout .associate-item":function(a){return this.$el.find(".associate-item").removeClass("current"),$(a).removeClass("current"),this.hoverIndex=-1,!1}},_create:function(){var a=this;if(this.triggerEle=this.$el,this.triggerEle.attr("placeholder")||this.options.isBatch||this.triggerEle.attr("placeholder","多项匹配以空格隔开"),this.hoverIndex=-1,this.currentList=[],this.inputValue="",this.isShowFt=!0,oasThinkInput.allThinkInput.push(this),this.isOpen=!1,this.options.isBatch){this.currentList=this.options.data;var b=this.options.paginInfo.pageItems-this.currentList.length;if(this.currentList.length<this.options.paginInfo.pageItems)for(var c=0;b>c;c++)this.currentList.push({label:"",num:"",value:""})}else this.allData=this.options.data,this._dealData(),this._dataByIndex(parseInt(this.options.paginInfo.current,10)-1),this.options.paginInfo.onPageNoChage=function(b,c){a.options.paginInfo.current=b,a._onPageNoChage(b-1,c)};this._preRenderData(),this._createDom(),this._bindChange(),this._showAndHide(),this.triggerEle.live("click",function(){a._emit("onClick")})},_liUp:function(a){{var b=this,c=b.hoverIndex;this.$el}return b.isOpen&&-1!=c&&c>0&&(a.preventDefault(),b.hoverIndex--,this.$el.find('.associate-item[index="'+b.hoverIndex+'"]').trigger("mouseover")),!1},_liDown:function(a){{var b=this,c=b.hoverIndex;this.$el}return b.isOpen&&c<b.currentTrueLength-1&&(a.preventDefault(),b.hoverIndex++,this.$el.find('.associate-item[index="'+b.hoverIndex+'"]').trigger("mouseover")),!1},_click:function(){-1!=this.hoverIndex&&(this.triggerEle.blur(),this.$el.find('.associate-item[index="'+this.hoverIndex+'"]').trigger("click"))},_onPageNoChage:function(a){this._dataByIndex(a),this._tidyMatchLabel();var b={list:this.matchList},c=this.bodyTplB(b);this.$el.find(".associate-bd").html("").html(c)},_dealData:function(){var a=this.options.data,b=a.length,c=this.options.paginInfo.pageItems,d=Math.ceil(b/c),e=b%c,f={};if(b>0)if(1==d)f[0]=a;else{for(var g=0;d-1>g;g++){for(var h=[],i=0;c>i;i++)h.push(a[g*c+i]);f[g+""]=h}var j=[];e=0==e?c:e;for(var k=0;e>k;k++)j.push(a[(d-1)*c+k]);f[d-1+""]=j}else 0==b&&(f[0]=[]);this.pageNum=d,this.dataByIndex=f,this.total=b},_dataByIndex:function(a){if(this.currentList=this.dataByIndex[a+""],this.currentList||(this.currentList=this.dataByIndex[0]),this.currentTrueLength=this.currentList.length,this.currentList.length<this.options.paginInfo.pageItems)for(var b=0;b<this.options.paginInfo.pageItems-this.currentList.length;b++)this.currentList.push({label:"",num:"",value:""});this.currentPage=a},_bindChange:function(){var a=this,b="";this.triggerEle.keyup(function(){if(b=$(this).val(),a.inputValue!==b&&(a.inputValue=b,a._emit("onChange",[$(this).val()]),!a.options.isBatch)){for(var c=a.allData,d=[],e=0;e<c.length;e++)(a.matchInput(b,c[e].label)||c[e].num&&a.matchInput(b,c[e].num)||a.matchInput(b,c[e].value))&&d.push(c[e]);a._iCall("data",[d,d.length,!0])}})},matchInput:function(a,b){for(var c=a.split(" "),d=0,e=0;e<c.length;e++){var f=b.toLowerCase().indexOf(c[e].toLowerCase());-1!=f&&d++}return d==c.length?!0:!1},_dealIsBatch:function(){var a=this,b=this.triggerEle.val();if(!this.options.isBatch){for(var c=this.allData,d=[],e=0;e<c.length;e++)(a.matchInput(b,c[e].label)||c[e].num&&a.matchInput(b,c[e].num)||a.matchInput(b,c[e].value))&&d.push(c[e]);this._iCall("data",[d,d.length,!0,!0])}},_preRenderData:function(){var a=this.options,b=!1,c=a.blankDom,d={};b=0==a.paginInfo.total||0==a.data.length?!0:!1,this._tidyMatchLabel(),this._renderData=d={list:this.matchList,isNoData:b,blankDom:c,nodataTip:a.nodataTip},this.isNoData=b,this.isShowFt=!this.isNoData},_renderCurrentPage:function(){var a=this.$el;a.find(".associate-item").text(""),$.each(this.currentList,function(b,c){a.find(".associate-item[index="+b+"]").text(c.label)})},_tidyMatchLabel:function(){for(var a=this.triggerEle.val(),b=this.currentList,c=$.extend(!0,[],b),d=a.split(" "),e=0;e<c.length;e++)for(var f=0;f<d.length;f++){var g=c[e].label.toUpperCase().indexOf(d[f].toUpperCase());-1!=g&&(c[e].label=c[e].label.substring(0,g)+"<span>"+c[e].label.substring(g,g+d[f].length)+"</span>"+c[e].label.substring(g+d[f].length,c[e].label.length))}this.matchList=c},_showAndHide:function(){var a=(this.options,this.triggerEle),b=this.$el,c=this,d=b.outerHeight(),e=b.outerWidth(),f={height:$(window).height(),width:$(window).width(),scrollTop:$(window).scrollTop(),scrollLeft:$(window).scrollLeft()};b.oasOverlay({target:$(a),triggerType:"click",isNeedAnimation:!1,align:{baseElement:$(a),baseXY:[0,0]},onOpen:function(){c.isOpen=!0},onClose:function(){c.isOpen=!1},beforeOpen:function(){c._dealIsBatch(),d=b.outerHeight(),e=b.outerWidth(),f={height:$(window).height(),width:$(window).width(),scrollTop:$(window).scrollTop(),scrollLeft:$(window).scrollLeft()},$("body").find(".oas-associate-panel").hide();var g,h=0,i=0,j=a.offset().top,k=a.offset().left;b.find(".associate-arrow").removeClass("bottom-arrow opposite"),f.height+f.scrollTop-j-a.outerHeight()-1-d<0?(i=-d-1,b.find(".associate-arrow").addClass("bottom-arrow"),f.width+f.scrollLeft-k-e<0?(h=a.outerWidth()-e,b.find(".associate-arrow").addClass("opposite")):h=0):(i=a.outerHeight()+1,f.width+f.scrollLeft-k-e<0?(h=a.outerWidth()-e,b.find(".associate-arrow").addClass("opposite")):h=0),f.height+f.scrollTop-j-a.outerHeight()-1-d<0&&0>j-1-d&&(b.find(".associate-arrow").removeClass("bottom-arrow opposite"),i=a.outerHeight()+1,f.width+f.scrollLeft-k-e<0?(h=a.outerWidth()-e,b.find(".associate-arrow").addClass("opposite")):h=0),g=[h,i],this.oasOverlay("align",{baseXY:g})}})},_adjustPanel:function(){var a,b=(this.options,this.triggerEle),c=this.$el,d=c.outerHeight(),e=c.outerWidth(),f={height:$(window).height(),width:$(window).width(),scrollTop:$(window).scrollTop(),scrollLeft:$(window).scrollLeft()},g=0,h=0,i=b.offset().top,j=b.offset().left;c.find(".associate-arrow").removeClass("bottom-arrow opposite"),f.height+f.scrollTop-i-b.outerHeight()-1-d<0?(h=-d-1,c.find(".associate-arrow").addClass("bottom-arrow"),f.width+f.scrollLeft-j-e<0?(g=b.outerWidth()-e,c.find(".associate-arrow").addClass("opposite")):g=0):(h=b.outerHeight()+1,f.width+f.scrollLeft-j-e<0?(g=b.outerWidth()-e,c.find(".associate-arrow").addClass("opposite")):g=0),f.height+f.scrollTop-i-b.outerHeight()-1-d<0&&0>i-1-d&&(h=b.outerHeight()+1,f.width+f.scrollLeft-j-e<0?(g=b.outerWidth()-e,c.find(".associate-arrow").addClass("opposite")):g=0),a=[g,h],c.oasOverlay("align",{baseXY:a})},_createDom:function(a){var b;1==a?(b=this.bodyTplA(this._renderData),this.$el.append(b),this.$el.find(".associate-pagin").oasPagin(this.options.paginInfo)):(b=this.tpl(this._renderData),this.$el=$(b),$("body").append(this.$el),this.$el.find(".associate-pagin").oasPagin(this.options.paginInfo)),0==this.options.paginInfo.total?""==this.options.blankDom&&this.$el.find(".associate-bd").height(21):this.$el.find(".associate-bd").height(30*this.options.paginInfo.pageItems),this.options.paginInfo.total<=this.options.paginInfo.pageItems&&(this.$el.find(".associate-ft").hide(),this.isShowFt=!1,this.$el.find(".associate-bd").addClass("no-bottom"));var c=this.triggerEle.width()<200?200:this.triggerEle.width();this.$el.width(c),this.$el.find(".associate-bd").width(c),1==a&&this._adjustPanel()},invoke:{data:function(a,b,c,d){var e=this.$el;if(this.options.data=a,void 0!=b&&(this.options.paginInfo.total=b,this.$el.find(".associate-pagin").oasPagin("total",b)),this.options.isBatch){if(this.hoverIndex=-1,this.currentList=this.options.data,this.isNoData&&this.currentList.length>0){this.currentList=this.options.data;var f=this.options.paginInfo.pageItems-this.currentList.length;if(this.currentList.length<this.options.paginInfo.pageItems)for(var g=0;f>g;g++)this.currentList.push({label:"",num:"",value:""});var h={list:this.currentList},i=this.bodyTplB(h);e.find(".associate-bd").html("").html(i),e.find(".associate-bd").removeClass("no-bottom"),e.find(".associate-bd").height(30*this.options.paginInfo.pageItems)}else if(!this.isNoData&&this.currentList.length>0)e.find(".associate-item").text(""),$.each(this.options.data,function(a,b){var c=e.find(".associate-item[index="+a+"]");c.html(b.label).attr("title",b.title)});else if(0==this.currentList.length){var h={isNoData:!0,blankDom:this.options.blankDom,nodataTip:this.options.nodataTip},i=this.bodyTplC(h);e.find(".associate-bd").html("").html(i),e.find(".associate-bd").addClass("no-bottom"),""==this.options.blankDom&&e.find(".associate-bd").height(21)}this.options.paginInfo.total<=this.options.paginInfo.pageItems?(this.$el.find(".associate-ft").hide(),this.isShowFt=!1,this.$el.find(".associate-bd").addClass("no-bottom")):(this.$el.find(".associate-ft").show(),this.isShowFt=!0,this.$el.find(".associate-bd").removeClass("no-bottom"))}else{c||(this.allData=this.options.data),this.$el.html(""),this.hoverIndex=-1,this.currentList=[];var j=this.pageNum;this._dealData(),j!=this.pageNum?(this._dataByIndex(0),this.options.paginInfo.current=1):this._dataByIndex(parseInt(this.options.paginInfo.current,10)-1),this._preRenderData(d),this._createDom(1),c||this.$el.oasOverlay("showSelf")}this.isNoData=0==this.options.paginInfo.total||0==this.options.data.length?!0:!1,this.isShowFt=!this.isNoData},current:function(a){var b=parseInt(a,10);this.options.paginInfo.current=b,this.$el.find(".associate-pagin").oasPagin("current",b)},open:function(){this._emit("onOpen"),this.$el.oasOverlay("show")},close:function(){this.isOpen=!1,this._emit("onClose"),this.$el.oasOverlay("hide")},showLoading:function(){this.$el.find(".associate-bd").hide(),this.$el.find(".associate-ft").hide(),this.$el.find(".associate-loading").show()},hideLoading:function(){this.$el.find(".associate-bd").show(),this.isShowFt?this.$el.find(".associate-ft").show():this.$el.find(".associate-ft").hide(),this.$el.find(".associate-loading").hide()}}}),oasThinkInput={},oasThinkInput.allThinkInput=[],$(document).off("keydown.oasThinkInput"),$(document).on("keydown.oasThinkInput",function(a){switch(a.keyCode){case 38:$.each(oasThinkInput.allThinkInput,function(b,c){c.isOpen&&c._liUp(a)});break;case 40:$.each(oasThinkInput.allThinkInput,function(b,c){c.isOpen&&c._liDown(a)});break;case 13:$.each(oasThinkInput.allThinkInput,function(b,c){c.isOpen&&c._click(a)})}})}(),function(){$.oasUiFactory("oasSortable",{options:{duration:200,childClass:"oas-sortable-item",placeholderClass:"oas-sortable-placeholder",type:"exchange",onChange:function(){}},_create:function(){var a=this.$el,b=this.options,c=this;this.$sortable=a.addClass("oas-sortable").children(),this._initPosition(),this.$sortable.oasDrag({proxy:!0,onEnd:function(a,d){var e=(d[0],d[1],c.$el.children().not(".oas-drag-proxy")),f=e.index(a),g=e.length,h=c._getIndexofExchange(.3);
return h&&(g=e.index(h)),g!==f&&g!==e.length||g!==f&&g===e.length&&f!==e.length-1&&g--,g===f||g>e.length-1?!1:("exchange"===b.type?c._exchangeItemPosition(e,f,g):c._shoveItemPosition(e,f,g),void c.$el.find(".oas-drag-proxy").remove())}})},_initPosition:function(){this.$el.height(this.$el.height()),this.$sortable.each(function(){{var a=$(this).position();a.left,a.top}$(this).data("position",a)}),this.$sortable.each(function(){var a=$(this).data("position"),b=a.left,c=a.top;$(this).css({position:"absolute",left:b,top:c})})},_shoveItemPosition:function(a,b,c){var d=(a.length,this.options);if(c>b){for(var e=b+1;c+1>e;e++)!function(b){var c=a.eq(b-1).data("position");a.eq(b).animate({left:c.left,top:c.top},d.duration,function(){a.eq(b).data("position",c)})}(e);a.eq(c).after(a.eq(b)),a.eq(b).css({left:a.eq(c).data("position").left,top:a.eq(c).data("position").top}).data("position",a.eq(c).data("position"))}else if(b>c){for(var e=b-1;e>c-1;e--)!function(b){var c=a.eq(b+1).data("position");a.eq(b).animate({left:c.left,top:c.top},d.duration,function(){a.eq(b).data("position",c)})}(e);a.eq(c).before(a.eq(b)),a.eq(b).css({left:a.eq(c).data("position").left,top:a.eq(c).data("position").top}).data("position",a.eq(c).data("position"))}this._emit("onChange")},_exchangeItemPosition:function(a,b,c){var d=this.options,e=a.eq(b),f=a.eq(c),g=e.data("position"),h=g.left,i=g.top;e.animate({left:f.data("position").left,top:f.data("position").top},d.duration),e.data("position",f.data("position")),f.after(e),f.animate({left:h,top:i},d.duration),f.data("position",g),Math.abs(b-c)>1&&a.eq(b+1).before(f),this._emit("onChange")},_getIndexofExchange:function(a){var b,c=this.$sortable.width(),d=this.$sortable.height(),e=c*d;return $.each(this.$sortable,function(){var c=Position.overlapArea($(".oas-drag-proxy"),$(this));return 0==c[0]&&(c[0]=1),0==c[1]&&(c[1]=1),c[0]*c[1]/e>a?(b=$(this),!1):void 0}),b},invoke:{destory:function(){this.$el.removeData().off(this.uiName).css("height","auto")}}}),$(window).on("load",function(){$("[oassortable]").oasSortable()})}(),function(){$.oasUiFactory("oasTimeline",{options:{data:null,dateField:null,dayRender:null,timePointRender:null,isScrollLoading:!1},_template:function(){var a='{{if !$data[0].isAppend}}<div class="oas-timeline-point-line"></div>{{/if}}{{each $data as value_data}}<div class="oas-timeline-day"><div class="oas-timeline-year"><div class="oas-timeline-point">{{value_data["year"]}}<p>年</p></div></div>{{each value_data.days}}<div class="oas-timeline-days"><div class="oas-timeline-day-head"><div class="oas-timeline-day-wrap"><div class="oas-timeline-day-content">{{#$value["content"]}}</div></div><div class="oas-timeline-point">{{dateFormat_year($value["date"],"day")}}<p>{{dateFormat_year($value["date"],"month")}}月</p></div></div>{{each $value.time}}<div class="oas-timeline-day-body"><div class="oas-timeline-time"><div class="oas-timeline-time-wrap"><div class="oas-timeline-time-content"><div class="oas-timeline-time-css">{{#$value["content"]}}</div></div></div><div class="oas-timeline-point">{{$value["date"]}}</div></div></div>{{/each}}</div>{{/each}}</div>{{/each}}';return this._addHelps_year(),this._addHelps_day(),template.compile(a)},_template_insert:function(){var a='{{each $data[0].days}}<div class="oas-timeline-days"><div class="oas-timeline-day-head"><div class="oas-timeline-day-wrap"><div class="oas-timeline-day-content">{{#$value["content"]}}</div></div><div class="oas-timeline-point">{{dateFormat_year($value["date"],"day")}}<p>{{dateFormat_year($value["date"],"month")}}月</p></div></div>{{each $value.time}}<div class="oas-timeline-day-body"><div class="oas-timeline-time"><div class="oas-timeline-time-wrap"><div class="oas-timeline-time-content"><div class="oas-timeline-time-css">{{#$value["content"]}}</div></div></div><div class="oas-timeline-point">{{$value["date"]}}</div></div></div>{{/each}}</div>{{/each}}';return template.compile(a)},_template_insert_day:function(){var a='{{each $data[0].days[0].time}}<div class="oas-timeline-day-body"><div class="oas-timeline-time"><div class="oas-timeline-time-wrap"><div class="oas-timeline-time-content"><div class="oas-timeline-time-css">{{#$value["content"]}}</div></div></div><div class="oas-timeline-point">{{$value["date"]}}</div></div></div>{{/each}}';return template.compile(a)},events:{"click .chooseData":function(a){$(a).parents(".oas-timeline-day-content").find(".oasicon.oasicon-fold").size()?($(a).find(".oasicon.oasicon-fold").removeClass("oasicon-fold").addClass("oasicon-unfold"),$(a).parents(".oas-timeline-days").find(".oas-timeline-day-body").hide(),$(a).parents(".oas-timeline-days").find(".oas-timeline-day-head.current").removeClass("current")):($(a).find(".oasicon.oasicon-unfold").removeClass("oasicon-unfold").addClass("oasicon-fold"),$(a).parents(".oas-timeline-days").find(".oas-timeline-day-body").show(),$(a).parents(".oas-timeline-day-head").addClass("current"))}},_create:function(){this.$el.addClass("oas-timeline");var a=this._adjustData(),b=this._preRenderData(a);this._createDom(b)},_adjustData:function(){for(var a,b,c=this.options,d=c.data,e=c.dateField,f=0,g=d.length,h={};g>f;f++){var i=d[f];if(!i[e])throw new Error("数据的第["+f+"]元素，没有（"+e+"）日期字段");oasis.type.isString(i[e])?(a=i[e].split(" ")[0].split("-")[0],b=i[e].split(" ")[0]):(a=i[e].toJSON().split("T")[0].split("-")[0],b=i[e].toJSON().split("T")[0]),a in h?h[a].push(i):h[a]=[i]}var j={datas:[]};for(var k in h){for(var l={year:k,days:[]},m=h[k],n={},o=0;o<m.length;o++)theDate=m[o][e].split(" ")[0].toString(),startIndex=theDate.indexOf("-"),sDate=theDate.substring(startIndex+1),yDate=theDate.substring(0,startIndex),sDate in n?n[sDate].push(m[o]):n[sDate]=[m[o]];for(var p in n){for(var q={day:p,times:[]},r=n[p],s=0;s<r.length;s++){var t={};secondDate=r[s][e].split(" ")[1],t.date=secondDate,t.data=r[s],q.times.push(t)}l.days.push(q)}j.datas.push(l)}return j},_preRenderData:function(a){for(var b=this.options,c=b.dayRender,d=b.timePointRender,e=[],f=0;f<a.datas.length;f++){for(var g={year:a.datas[f].year,days:[],isAppend:this.options.isScrollLoading?!0:!1},h=0;h<a.datas[f].days.length;h++){for(var i=[],j=0;j<a.datas[f].days[h].times.length;j++)i.push({date:a.datas[f].days[h].times[j].date,content:d(a.datas[f].days[h].times[j].data)});g.days.push({date:a.datas[f].days[h].day,content:c(a.datas[f].days[h]),time:i})}e.push(g)}return e},_createDom:function(a){var b=this.$el,c=this.tpl(a);this.options.isScrollLoading?b.append(c):b.empty().append(c)},_dateFormat_year:function(a,b){if(a){var c=a.split("-");return"month"===b?c[0]:"day"===b?c[1]:""}},_dateFormat_day:function(a){if(a){var b=a.lastIndexOf(":");return a.substring(0,b)}},_addHelps_year:function(){template.helper("dateFormat_year",this._dateFormat_year)},_addHelps_day:function(){template.helper("dateFormat_day",this._dateFormat_day)},_append_html:function(a,b){if(a)switch(b){case 1:this.options.data=a;var c=this._adjustData(),d=this._preRenderData(c);this._createDom(d);break;case 2:this.options.data=a;var e=this._template_insert_day(),c=this._adjustData(),d=this._preRenderData(c),f=this.$el,g=e(d);f.find(".oas-timeline-days:last").append(g);break;case 3:this.options.data=a;var e=this._template_insert(),c=this._adjustData(),d=this._preRenderData(c),f=this.$el,g=e(d);f.find(".oas-timeline-day:last").append(g)}},invoke:{data:function(a){if(a){this.options.data=a;var b=this._adjustData(),c=this._preRenderData(b);this._createDom(c)}},data_append:function(a){if(a){this.options.isScrollLoading=!0;var b,c,d,e,f=this.options.data,g=f[f.length-1].spreadDate,h=a[0].spreadDate;b=g.split(" ")[0].toString(),c=b.indexOf("-"),d=b.substring(c+1),e=b.substring(0,c);var i,j,k,l;if(i=h.split(" ")[0].toString(),j=i.indexOf("-"),k=i.substring(j+1),l=i.substring(0,j),e==l){for(var m=-1,n=-1,o=-1,p=0,q=a.length;q>p;p++)m=a[p].spreadDate.indexOf(e),-1!=m&&(n=p);for(var r=a.splice(0,n+1),s=a,p=0,q=r.length;q>p;p++)m=r[p].spreadDate.indexOf(d),-1!=m&&(o=p);var t=r.splice(0,o+1),u=r;t.length>0&&this._append_html(t,2),u.length>0&&this._append_html(u,3),s.length&&this._append_html(s,1)}else{this.options.data=a;var v=this._adjustData(),w=this._preRenderData(v);this._createDom(w)}}}}})}(),function(a){function b(a){a=a.replace(/left|top/g,"0px"),a=a.replace(/right|bottom/g,"100%"),a=a.replace(/([0-9\.]+)(\s|\)|$)/g,"$1px$2");var b=a.match(/(-?[0-9\.]+)(px|\%|em|pt)\s(-?[0-9\.]+)(px|\%|em|pt)/);return[parseFloat(b[1],10),b[2],parseFloat(b[3],10),b[4]]}if(!document.defaultView||!document.defaultView.getComputedStyle){var c=jQuery.curCSS;jQuery.curCSS=function(a,b,d){if("background-position"===b&&(b="backgroundPosition"),"backgroundPosition"!==b||!a.currentStyle||a.currentStyle[b])return c.apply(this,arguments);var e=a.style;return!d&&e&&e[b]?e[b]:c(a,"backgroundPositionX",d)+" "+c(a,"backgroundPositionY",d)}}var d=a.fn.animate;a.fn.animate=function(a){return"background-position"in a&&(a.backgroundPosition=a["background-position"],delete a["background-position"]),"backgroundPosition"in a&&(a.backgroundPosition="("+a.backgroundPosition+")"),d.apply(this,arguments)},a.fx.step.backgroundPosition=function(c){if(!c.bgPosReady){var d=a.curCSS(c.elem,"backgroundPosition");d||(d="0px 0px"),d=b(d),c.start=[d[0],d[2]];var e=b(c.end);c.end=[e[0],e[2]],c.unit=[e[1],e[3]],c.bgPosReady=!0}var f=[];f[0]=(c.end[0]-c.start[0])*c.pos+c.start[0]+c.unit[0],f[1]=(c.end[1]-c.start[1])*c.pos+c.start[1]+c.unit[1],c.elem.style.backgroundPosition=f[0]+" "+f[1]}}(jQuery),function(){$.oasUiFactory("oasNumRoll",{options:{num:0},_create:function(){this.$el.addClass("oas-numroll").append('<span class="oas-numroll-num"></span><input type="hidden" />'),void 0!==this.options.num&&this._iCall("set",[this.options.num])},invoke:{set:function(a){var b=this.$el,c=this.$el.find(".oas-numroll-num"),d=c.find("i"),e=(a+"").length;d.filter(":gt("+(e-1)+")").remove();for(var f=0;e>f;f++){d.length<=f&&c.append("<i></i>");var g=(a+"").charAt(f),h=30*-parseInt(g),i=c.find("i").eq(f);i.animate({backgroundPosition:"(0 "+String(h)+"px)"},"slow","swing",function(){})}b.find("input").val(a)},get:function(){return this.$el.find("input").val()}}})}(),function(){$.oasUiFactory("oasNumberRoll",{options:{initNum:0,comma:!0,digit:!1},_numberTpl:function(){var a='<div class="oas-number oas-{{type}}-number"><div class="oas-{{type}}-number-wrap"><div class="oas-number-text oas-number-content hide">0</div><ul class="oas-other"><li class="oas-number-text">0</li><li class="oas-number-text">1</li><li class="oas-number-text">2</li><li class="oas-number-text">3</li><li class="oas-number-text">4</li><li class="oas-number-text">5</li><li class="oas-number-text">6</li><li class="oas-number-text">7</li><li class="oas-number-text">8</li><li class="oas-number-text">9</li><li class="oas-number-text">,</li></ul></div></div>';return template.compile(a)},_flPointTpl:function(){var a='<div class="oas-number oas-{{type}}-number"><div class="oas-{{type}}-number-wrap"><div class="oas-number-text oas-number-content">.</div></div></div>';return template.compile(a)},_digitTpl:function(){var a='<div class="oas-number oas-{{type}}-number"><div class="oas-{{type}}-number-wrap"><div class="oas-number-text oas-number-content">{{name}}</div></div></div>';return template.compile(a)},_domTpl:function(){var a='<input class="oas-number-roll-val" type="hidden" value="0">';return template.compile(a)},_create:function(){var a=this.options.initNum-0;this.currentNum=a,this._createDom(),0!==a&&this._moveTo(0,a)},_createDom:function(){var a=this.$el,b=this._domTpl()(),c=this._numberTpl()({type:"integer"});a.addClass("oas-number-roll"),a.append(b),a.find(".oas-number-roll-val").before(c),this.numHeight=Number(a.find(".oas-number-content").css("font-size"))||a.find(".oas-number-content").height()},_moveTo:function(a,b){for(var c=this.options.digit,b=c?b/c.unitNum:b,b=c.formatter?c.formatter(b):b,d=[].reverse.call(this.$el.find(".oas-integer-number")),e=this.$el.find(".oas-float-number"),f=this._compare(a,b),g=f.itgChangeObj,h=f.flChangeObj,i=Math.max(d.length,g.length),j=Math.max(e.length,h.length),k=0,l=0;i>k;k++)!function(a,b){var c=d.eq(a),e=g[a];void 0==e.index||(0==c.length?b._mvUnToNum.call(b,void 0,e.to):e.to?b._mvNumToNum.call(b,e.from,e.to,d.eq(k)):b._mvNumToUn.call(b,e.from,void 0,d.eq(k)))}(k,this);for(0!==h.length&&void 0===h[0].to?this._deleteAllFl():0!==h.length&&0===e.length&&this._addFloatPoint();j>l;l++)!function(a,b){var c=e.eq(a),d=h[a],f=void 0==d.to?"0":"1",g=0===c.length?"0":"1",i=f+g;switch(i){case"00":break;case"01":b._mvNumToUn.call(b,d.from,void 0,c);break;case"10":b._mvUnToNum.call(b,void 0,d.to,"float");break;case"11":b._mvNumToNum.call(b,d.from,d.to,c)}}(l,this);c&&0===this.$el.find(".oas-digit-number").length&&this.$el.find(".oas-number-roll-val").after(this._digitTpl()({type:"digit",name:c.unit})),this._setCurrentNum(b)},_deleteAllFl:function(){this.$el.find(".oas-float-number").remove(),this.$el.find(".oas-fl-point-number").remove()},_addFloatPoint:function(){var a=this._flPointTpl()({type:"fl-point"});this.$el.find(".oas-number-roll-val").before(a)},_mvNumToNum:function(a,b,c){{var d=0-b;this.numHeight}return a===b?void c.find(".oas-number-content").removeClass("hide"):(c.find(".oas-other").removeClass("hide"),c.find(".oas-number-content").addClass("hide"),void c.find(".oas-other").animate({top:this.numHeight*d},function(){c.find(".oas-number-content").text(-d),c.find(".oas-number-content").removeClass("hide"),c.find(".oas-other").addClass("hide")}))},_mvUnToNum:function(a,b,c){var d=this.$el,c=c||"integer",e=$(this._numberTpl()({type:c}));if("integer"===c?d.find(".oas-number").eq(0).before(e):d.find(".oas-number-roll-val").before(e),d.find(".oas-other").removeClass("hide"),","!==b){var f=0-b;e.find(".oas-other").animate({top:this.numHeight*f},function(){e.find(".oas-number-content").text(-f||b),e.find(".oas-number-content").removeClass("hide"),d.find(".oas-other").addClass("hide")})}else e.find(".oas-other").css("top",10*-this.numHeight),e.find(".oas-number-content").text(-f||b),e.find(".oas-number-content").removeClass("hide"),d.find(".oas-other").addClass("hide")},_mvNumToUn:function(a,b,c){c.remove()},_compare:function(a,b){var c=this._numberToObj(a),d=c.flArr,e=c.itgArr,f=this._numberToObj(b),g=f.flArr,h=f.itgArr,i=Math.max(e.length,h.length),j=Math.max(d.length,g.length),k=this._getCompareObj(e,h,i),l=this._getCompareObj(d,g,j);return{itgChangeObj:k,flChangeObj:l}},_getCompareObj:function(a,b,c){for(var d=0,e=[];c>d;d++){if(d===a){for(;d<b.lenth;d++)e.push({index:d,from:void 0,to:endObjItgArr[d]});break}if(d===b){for(;d<a.lenth;d++)e.push({index:d,from:a[d],to:void 0});break}e.push(this._computeChange(a[d],b[d],d))}return e},_numberToObj:function(a){var b=String(a),c=b.split("."),d=2===c.length?c[1]:"",e=this._isNeedComma()?this._addComma(c[0]):this._reverseString(c[0]);return{flArr:this._stringToArr(d),itgArr:this._stringToArr(e)}},_reverseString:function(a){return[].slice.call(a).reverse().join("")},_isNeedComma:function(){return this.options.comma},_addComma:function(a){for(var b=this._stringToArr(a).reverse(),c="",d=0,e=b.length;e>d;d++)0!==d&&d%3==0&&(c+=","),c+=b[d];return c},_computeChange:function(a,b,c){return{index:c,from:a,to:b}},_stringToArr:function(a){return[].slice.call(a)},_getCurrentNum:function(){return this.currentNum||0},_setCurrentNum:function(a){this.currentNum=a,this.$el.find(".oas-number-roll-val").val(a)},invoke:{setNumber:function(a){this._moveTo(this.currentNum,a)},getNumber:function(){return this._getCurrentNum()}}})}(),function(){$.oasUiFactory("oasTree",{options:{title:"",data:[],isCheckBox:!1,showType:0,height:"auto",width:"auto",opts:{add:!1,remove:!1,modify:!1,setting:!1},searchType:0,onClick:function(){},checkChange:function(){},add:function(){},remove:function(){},modify:function(){},setting:function(){},addData:function(){}},_template:function(){var a=(this.options,'<div class="oasTree"><div class="oas-tree-title{{if title == false}} hide{{/if}}"><span class="ellipsis">{{title}}</span><a href="javascript:;" class="open-all"><i class="oasicon oasicon-all-unfold" title="展开全部"></i></a><i></i><a href="javascript:;" class="close-all"><i class="oasicon oasicon-all-fold" title="收起全部"></i></a></div><div class="oas-tree-operate clearfix{{if opts.add == false && opts.modify == false && opts.remove == false && opts.setting == false}} hide{{/if}}">{{if $data.opts.add ==  true}}<a href="javascript:;" class="add-node show"><i class="oasicon oasicon-add"></i>&nbsp;新增</a>{{/if}}{{if $data.opts.modify == true}}<a href="javascript:;" class="modify-node show"><i class="oasicon oasicon-edit"></i>&nbsp;修改</a>{{/if}}{{if $data.opts.remove ==  true}}<a href="javascript:;" class="delete-node show"><i class="oasicon oasicon-rubbish"></i>&nbsp;删除</a>{{/if}}{{if $data.opts.setting ==  true}}<a href="javascript:;" class="setting-node show"><i class="oasicon oasicon-setting"></i>&nbsp;设置</a>{{/if}}</div><div class="oas-tree-search{{if searchType == null}} hide{{/if}}"><div class="oas-tree-search-inner"><input type="text" placeholder="输入文字检索"><a href="javascript:;"><i class="oasicon oasicon-search"></i></a></div></div><div class="oas-tree-nodes"><ul class="ztree" id="{{zTreeId}}"></ul><div class="oasTree-mask"><div class="oas-local-loading clearfx"><span class="loading"></span><span class="loading-text">数据读取中....</span></div><div class="oas-no-data clearfx"><div class="nodata-tip"><i class="oasicon oasicon-data"></i></div><span class="nodata-text">暂无数据</span><a href="javascript:;" class="add-data">添加一条？</a></div></div></div></div>');return template.compile(a)},events:{"click .open-all":function(){return this.zTree.expandAll(!0),!1},"click .close-all":function(){return this.zTree.expandAll(!1),!1},"click .add-node":function(){this.zTree.getSelectedNodes().length>0?this._emit("add",[this.zTree.getSelectedNodes()[0]]):0==this.zTree.getSelectedNodes().length&&this._emit("add",[null])},"click .modify-node":function(){return this.zTree.getSelectedNodes().length>0?this._emit("modify",[this.zTree.getSelectedNodes()[0]]):0==this.zTree.getSelectedNodes().length&&this._emit("modify",[null]),!1},"click .setting-node":function(){return this.zTree.getSelectedNodes().length>0?this._emit("setting",[this.zTree.getSelectedNodes()[0]]):0==this.zTree.getSelectedNodes().length&&this._emit("setting",[null]),!1},"click .delete-node":function(){return this.zTree.getSelectedNodes().length>0?this._emit("remove",[this.zTree.getSelectedNodes()[0]]):0==this.zTree.getSelectedNodes().length&&this._emit("remove",[null]),!1},"click .add-data":function(){return this._emit("addData"),!1},"mouseover .oas-tree-nodes>.ztree":function(a){$(a).addClass("auto")},"mouseout .oas-tree-nodes>.ztree":function(a){$(a).removeClass("auto")},"click .oasicon.oasicon-search":function(){var a=this.$el.find(".oas-tree-search-inner > input[type=text]").val();return this._searchNodes(a),!1}},_adjustScrollBar:function(){var a=null;if(this.$el.find(".ztree a").each(function(){return"rgb(166, 0, 0)"==$(this).css("color")?(a=$(this),!1):void 0}),a){this.$el.find(".oas-tree-nodes .ztree").scrollTop(0);var b=a.position().top,c=this.$el.find(".oas-tree-nodes .ztree").height();b>c&&this.$el.find(".oas-tree-nodes .ztree").scrollTop(b)}},_getRootNode:function(a){if(this.searchNum++,null==a.parentTId&&1!==this.searchNum)this.zTree.expandNode(a,!0,!1,!1,!1);else if(null!==a.parentTId&&""!==a.parentTId){var b=this.zTree.getNodeByTId(a.parentTId);b.open||this.zTree.expandNode(b,!0,!1,!1,!1),this._getRootNode(b)}},_showMessage:function(){OasMsg.open({type:"warning",message:"请先选择节点",modal:!1}),setTimeout(function(){OasMsg.close()},2e3)},_deleteConfirm:function(){var a=this;OasDialog.open({title:"删除确定",type:"confirm",message:"您确定要删除这个节点吗？",buttons:[{label:"确定删除",recommend:!1,callBack:function(){OasDialog.close(),a._emit("remove",[a.zTree.getSelectedNodes()[0]])}},{label:"取消",recommend:!0,callBack:function(){OasDialog.close()}}]})},_create:function(){this.nodesString="",this.matchNodes=[],this.searchNum=0,this._initData(),this._createHead(),this._initTree(),this._adjustWH(),this._bulidReflect()},_bulidReflect:function(){this.reflects={};for(var a=this.zTree.transformToArray(this.zTree.getNodes()),b=0;b<a.length;b++)this.reflects[""+a[b].id]=a[b]},_bindChange:function(){var a=this,b=this.options,c="";1==b.searchType?this.$el.find(".oas-tree-search-inner > input[type=text]").on("keydown.oasTree",function(b){13==b.keyCode&&(c=$(this).val(),a._searchNodes(c))}):0==b.searchType&&this.$el.find(".oas-tree-search-inner > input[type=text]").keyup(function(){c=$(this).val(),a._searchNodes(c)})},_searchNodes:function(a){""===a?this._updateNodes(!1):(this._updateNodes(!1),this.matchNodes=this.zTree.getNodesByParamFuzzy("name",a),this._updateNodes(!0),this._adjustScrollBar())},_updateNodes:function(a){for(var b=0;b<this.matchNodes.length;b++)this.matchNodes[b].highlight=a,a&&(this.searchNum=0,this._getRootNode(this.matchNodes[b])),this.zTree.updateNode(this.matchNodes[b])},_initTree:function(){var a=this.options,b=this.$el,c=this,d={edit:{enable:!1,showRemoveBtn:!1,showRenameBtn:!1},check:{enable:a.isCheckBox,chkboxType:{Y:"ps",N:"ps"}},view:{showLine:!1,fontCss:c._getFontCss},data:{simpleData:{enable:!0}},callback:{onClick:function(a,b,d){c._onNodeClick(a,b,d)},onCheck:function(a,b,d){c._nodeCheckChange(a,b,d)}}};if($.fn.zTree.init(b.find("#"+this.zTreeId),d,a.data),this.zTree=$.fn.zTree.getZTreeObj(this.zTreeId),1==a.showType)this.zTree.expandAll(!0);else if(0==a.showType)for(var e=this.zTree.getNodesByParam("level",0,null),f=0;f<e.length;f++)this.zTree.expandNode(e[f],!0,!1,!0);else 2==a.showType&&this.zTree.expandAll(!1)},_getFontCss:function(a,b){return b.highlight?{color:"#A60000"}:{color:"#333"}},_onNodeClick:function(a,b,c){this._emit("onClick",[a,b,c])},_nodeCheckChange:function(a,b,c){this._emit("checkChange",[a,b,c])},_adjustWH:function(){var a=this.options,b=this.$el;b.find(".oasTree").width("auto"!=a.width?a.width:"100%"),b.find(".oasTree").height("auto"!=a.height?a.height:"100%");var c=52;null!=a.searchType&&(c+=38),(a.opts.add||a.opts.modify||a.opts.remove||a.opts.setting)&&(c+=30),b.find(".oas-tree-search-inner > input[type=text]").width(b.find(".oas-tree-search-inner").width()-47),setTimeout(function(){b.find(".oas-tree-nodes").height(b.find(".oasTree").height()-c),b.find(".oas-tree-nodes .ztree").height(b.find(".oasTree").height()-c)},10)},_createHead:function(){var a=this.$el,b=$(this.tpl(this._headData));a.empty().append(b),this._bindChange()},_initData:function(){var a=this.options,b=a.data;this.kvData={};for(var c=0;c<b.length;c++)b[c].open=!1,this.kvData[""+b[c].id]=b[c];this.zTreeId="oas-tree-nodes"+(new Date).getTime(),this._headData={title:a.title,opts:a.opts,searchType:a.searchType,zTreeId:this.zTreeId}},invoke:{data:function(a){this.options.data=a,this._initTree(),this._adjustWH(),this._bulidReflect()},height:function(a){this.options.height=a,this._adjustWH()},width:function(a){this.options.width=a,this._adjustWH()},title:function(a){this.options.title=a,this.$el.find(".oas-tree-title > span").text(a)},addNodes:function(a,b,c){var d=null;a&&(d=this.zTree.getNodeByParam("id",a.id,null));var c=c?c:!1;this.zTree.addNodes(d,b,c),this._bulidReflect()},deleteNode:function(a){var b=this.zTree.getNodeByParam("id",a.id,null);this.zTree.removeNode(b,!1)},modifyNode:function(a){this.zTree.updateNode(a,!0),this._bulidReflect()},getCheckedNode:function(){return this.zTree.getCheckedNodes(!0)},getNodesByParam:function(a,b){return this.zTree.getNodesByParam(a,b)},selectNode:function(a){var b=this.reflects[""+a];this.zTree.selectNode(b),this._emit("onClick",[null,this.zTreeId,b])},resultTip:function(a){if("success"==a.type)OasMsg.open({type:"success",message:a.message,modal:!1}),setTimeout(function(){OasMsg.close()},2e3);else if("error"==a.type){OasDialog.open({title:"操作结果",type:"warning",message:a.message,buttons:[{label:"确定",recommend:!0,callBack:function(){OasDialog.close()}}]})}},showWaiting:function(){var a=this.$el;a.find(".oasTree-mask").show(),a.find(".oasTree-mask .oas-local-loading").show()},hideWaiting:function(){var a=this.$el;a.find(".oasTree-mask").hide(),a.find(".oasTree-mask .oas-local-loading").hide()},showNoData:function(a){var b=this.$el;b.find(".oasTree-mask").show(),a&&b.find(".oasTree-mask .oas-no-data .add-data").text(a),b.find(".oasTree-mask .oas-no-data").show()},hideNoData:function(){var a=this.$el;a.find(".oasTree-mask").hide(),a.find(".oasTree-mask .oas-no-data").hide()},expandNodeById:function(a){var b=this.zTree.getNodeByParam("id",a,null);this.zTree.expandNode(b,!0,!1,!1,!1)}}})}(),$(document).ready(function(){$(".oas-search-box").on("click.oas-search",".box-toggle",function(){$(this).hasClass("oasicon-fold")?($(this).removeClass("oasicon-fold").addClass("oasicon-unfold"),$(this).parents(".oas-search-box").find(".searchbox-bd").hide()):($(this).removeClass("oasicon-unfold").addClass("oasicon-fold"),$(this).parents(".oas-search-box").find(".searchbox-bd").show(),$(window).scrollTop()>0&&$(window).scrollTop(0))});var a;$(".oas-search-box").on("click.oas-search",".item-content:not(.muti-mode) a:not(.oas-btn-icon,.oas-disable)",function(){$(this).parents(".item-content").find("a").removeClass("oas-current"),$(this).addClass("oas-current")}),$(".oas-search-box").on("click.oas-search",".term-item.noExpand .item-content:not(.muti-mode) a:not(.oas-btn-icon,.oas-disable)",function(){var a=$(this).find(".termText").text(),b=$(this).parents(".term-item").attr("name"),c=$(this).parents(".oas-search-box").find(".terms-wrap");$(this).hasClass("no-limit")?c.find("."+b).remove():addTerm(c,b,a)}),$(".oas-search-box").on("click.oas-search",".term-item.hasExpand .item-content:not(.muti-mode) a:not(.oas-btn-icon,.oas-disable)",function(){var b=$(this).parents(".term-item"),c=b.attr("name"),d=$(this).parents(".oas-search-box").find(".terms-wrap");$(this).hasClass("fst-choose no-limit")?(b.find(".second-item,.third-item").hide(),b.find(".second-item a,.third-item a").removeClass("oas-current"),d.find("."+c).remove(),$(this).parents(".term-item").find(".second-item,.third-item").removeClass("muti-mode"),$(this).parents(".term-item").find(".second-item,.third-item").find("a").removeClass("oas-current"),$(this).parents(".term-item").find(".second-item,.third-item").find("input").attr("checked",!1)):$(this).hasClass("fst-choose")?(typeOne=$(this).find(".termText").text(),a=typeOne,$(this).hasClass("has-child")?(b.find(".second-item").show(),addTerm(d,c,a)):(b.find(".second-item,.third-item").hide(),b.find(".second-item .sec-choose,.third-item .th-choose").removeClass("oas-current"),addTerm(d,c,a),$(this).parents(".term-item").find(".second-item,.third-item").removeClass("muti-mode"),$(this).parents(".term-item").find(".second-item,.third-item").find("a").removeClass("oas-current"),$(this).parents(".term-item").find(".second-item,.third-item").find("input").attr("checked",!1))):$(this).hasClass("sec-choose")?(typeTwo=$(this).find(".termText").text(),a=typeOne+typeTwo,$(this).hasClass("has-child")?(b.find(".third-item").show(),addTerm(d,c,a)):(b.find(".third-item").hide(),b.find(".third-item .th-choose").removeClass("oas-current"),addTerm(d,c,a),$(this).parents(".term-item").find(".third-item").removeClass("muti-mode"),$(this).parents(".term-item").find(".third-item").find("a").removeClass("oas-current"),$(this).parents(".term-item").find(".third-item").find("input").attr("checked",!1))):$(this).hasClass("th-choose")&&(typeThree=$(this).find(".termText").text(),a=typeOne+typeTwo+typeThree,addTerm(d,c,a))}),$(".oas-search-box").on("click.oas-search",".item-content .muti-choose",function(){"多选"==$(this).find("span").text()?($(this).find("span").text("退出"),$(this).parent().addClass("muti-mode"),$(this).parent().find("a").removeClass("oas-current")):($(this).find("span").text("多选"),$(this).parent().removeClass("muti-mode"),$(this).parent().find("a").removeClass("oas-current"),$(this).parent().find("input").attr("checked",!1))}),$(".oas-search-box").on("click.oas-search",".item-content.muti-mode a:not(.oas-btn-icon,.oas-disable)",function(){var a=$(this);a.find("input[type='checkbox']").size()>0&&(a.toggleClass("oas-current"),a.hasClass("oas-current")?a.find("input[type='checkbox']").attr("checked","checked"):a.find("input[type='checkbox']").attr("checked",!1))}),$(".oas-search-box").on("click.oas-search",".item-content.muti-mode .muti-confim",function(){var a=$(this).parents(".term-item").attr("name"),b=$(this).parents(".oas-search-box").find(".terms-wrap"),c="";if($(this).parent(".item-content").hasClass("first-item")){var d=$(this).parent(".item-content").find(".oas-current").find(".termText");d.each(function(a,b){a==d.length-1?c+=$(b).text():c=c+$(b).text()+"，"}),addTerm(b,a,c)}else if($(this).parent(".item-content").hasClass("second-item")){var e=$(this).parent(".item-content").find(".oas-current").find(".termText"),f="",g=$(this).parents(".term-item").find(".first-item").find(".oas-current").find(".termText").text();e.each(function(a,b){a==e.length-1?f+=$(b).text():f=f+$(b).text()+"，"}),c=g+f,addTerm(b,a,c)}else if($(this).parent(".item-content").hasClass("third-item")){var g=$(this).parents(".term-item").find(".first-item").find(".oas-current").find(".termText").text(),f=$(this).parents(".term-item").find(".second-item").find(".oas-current").find(".termText").text(),h="",i=$(this).parent(".item-content").find(".oas-current").find(".termText");i.each(function(a,b){a==i.length-1?h+=$(b).text():h=h+$(b).text()+"，"}),c=g+f+h,addTerm(b,a,c)}}),$(".oas-search-box").on("click.oas-search",".search-term .oasicon-delete",function(){var a=$(this).parent(".search-term").attr("name");$(this).closest(".oas-search-box").find("[name="+a+"] a").removeClass("oas-current"),$(this).parent(".search-term").remove()}),$(".oas-search-box").on("click.oas-search",".searchbox-reset",function(){$(this).closest(".oas-search-box").find(".terms-wrap").empty(),$(":oasSelect").oasSelect("reset"),$(this).closest(".oas-search-box").hasClass("connection")&&$(this).closest(".oas-search-box").find(".item-content>a").removeClass("oas-current")})}),function(a,b,c){function d(a){var b={},d=/^jQuery\d+$/;return c.each(a.attributes,function(a,c){c.specified&&!d.test(c.name)&&(b[c.name]=c.value)}),b}function e(a,b){var d=this,e=c(d);if(d.value==e.attr("placeholder")&&e.hasClass("oas-placeholder"))if(e.data("placeholder-password")){if(e=e.hide().next().show().attr("id",e.removeAttr("id").data("placeholder-id")),a===!0)return e[0].value=b;e.focus()}else d.value="",e.removeClass("oas-placeholder"),d==g()&&d.select()}function f(){var a,b=this,f=c(b),g=this.id;if(""==b.value){if("password"==b.type){if(!f.data("placeholder-textinput")){try{a=f.clone().attr({type:"text"})}catch(h){a=c("<input>").attr(c.extend(d(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":f,"placeholder-id":g}).bind("focus.placeholder",e),f.data({"placeholder-textinput":a,"placeholder-id":g}).before(a)}f=f.removeAttr("id").hide().prev().attr("id",g).show()}f.addClass("oas-placeholder"),f[0].value=f.attr("placeholder")}else f.removeClass("oas-placeholder")}function g(){try{return b.activeElement}catch(a){}}var h,i,j="[object OperaMini]"==Object.prototype.toString.call(a.operamini),k="placeholder"in b.createElement("input")&&!j,l="placeholder"in b.createElement("textarea")&&!j,m=c.fn,n=c.valHooks,o=c.propHooks;k&&l?(i=m.oasInput=function(){return this},i.input=i.textarea=!0):(i=m.oasInput=function(){var a=this;if(!a.data("placeholder-enabled"))return a.filter((k?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":e,"blur.placeholder":f}).data("placeholder-enabled",!0).trigger("blur.placeholder"),a},i.input=k,i.textarea=l,h={get:function(a){var b=c(a),d=b.data("placeholder-password");return d?d[0].value:b.data("placeholder-enabled")&&b.hasClass("oas-placeholder")?"":a.value},set:function(a,b){var d=c(a),h=d.data("placeholder-password");return h?h[0].value=b:d.data("placeholder-enabled")?(""==b?(a.value=b,a!=g()&&f.call(a)):d.hasClass("oas-placeholder")?e.call(a,!0,b)||(a.value=b):a.value=b,d):a.value=b
}},k||(n.input=h,o.value=h),l||(n.textarea=h,o.value=h),c(function(){c(b).delegate("form","submit.placeholder",function(){var a=c(".oas-placeholder",this).each(e);setTimeout(function(){a.each(f)},10)})}),c(a).bind("beforeunload.placeholder",function(){c(".oas-placeholder").each(function(){this.value=""})}))}(this,document,jQuery),$(function(){$("input[placeholder], textarea[placeholder]").oasInput()}),function(a){$.fn.iPagination=function(a,b,c){this.oasPagin({total:a,current:b,pageItems:c.pagesize,onPageNoChage:c.callback,onPageItemsChange:c.onPageItemsChange})},a.OasShyPage={},a.OasShyPage.open=function(a){a=$.extend({id:"dlg-"+(new Date).getTime(),src:"about:blank",title:"半遮页"},a);var b=oasis.getTopWindow();return $("#"+a.id).size()?void 0:($("body").append('<div id="'+a.id+'"></div>'),$("#"+a.id).oasShyPage(a),$(b.document).find(".oas-mask").removeClass("zindex93"),$("#"+a.id).oasShyPage("open",a),$("#"+a.id))},a.OasShyPage.close=function(){$(":oasShyPage").oasShyPage("close")},a.OasMsg={},a.OasMsg.open=function(a){a=$.extend(!0,{type:"success",message:"成功了",cancel:null,time:2e3,modal:null,onOpen:function(){},onClose:function(){},onCancel:function(){}},a);var b=oasis.getTopWindow();return $("body",b.document).data("oasInstantTip")?$("body",b.document).oasInstantTip("open",a):($("body",b.document).oasInstantTip(a),$("body",b.document).oasInstantTip("open")),$("body",b.document)},a.OasMsg.close=function(){var a=oasis.getTopWindow();$("body",a.document).find(".oas-instant-tip").fadeOut(500),$("body",a.document).find(".oas-mask").removeClass("zindex93"),$("body",a.document).find(".oas-instant-tip.hasModal").size()>0&&(Mask.close(),$("body",a.document).find(".oas-instant-tip").removeClass("hasModal"))},a.OasDialog={},a.OasDialog.open=function(a){var b,c=oasis.getTopWindow();return a=$.extend(!0,{id:"dialog-"+(new Date).getTime(),type:"success",title:"头部标题",message:"恭喜！成功了",modal:!1,src:null,content:null,position:null,autoOpen:!1,isDrag:!0,fixed:!1,context:null,closeable:!0,buttons:[{label:"确定",callBack:function(a){a.oasDialog("close")}}],onOpen:function(){},onClose:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){}},a),a.context?(a.context.append('<div id="'+a.id+'" class="dialog-panel"></div>'),b=a.context.find("#"+a.id),b.oasDialog(a),b.oasDialog("open"),1==a.modal&&a.context.find(".oas-mask").addClass("zindex93")):window!==c?c.OasDialog.open(a):($("body").append('<div id="'+a.id+'" class="dialog-panel"></div>'),b=$("body").find("#"+a.id),b.oasDialog(a),b.oasDialog("open"),1==a.modal&&$("body").find(".oas-mask").addClass("zindex93")),b},a.OasDialog.close=function(){var a=oasis.getTopWindow();window!==a&&a.OasDialog.close(),$("body").find(":oasDialog").size()>0&&($("body").find(".dialog-panel.hasModal").size()>0&&(Mask.close(),$("body").find(".oas-mask").removeClass("zindex93")),$("body").find(".dialog-panel").oasDialog("close"))},a.OasDialog.show=function(){var a=oasis.getTopWindow();window!==a&&a.OasDialog.show(),$("body").find(":oasDialog").size()>0&&($("body").find(".dialog-panel.hasModal").size()>0&&(Mask.open(),$("body").find(".oas-mask").addClass("zindex93")),$("body").find(".dialog-panel").show())},a.OasDialog.hide=function(){var a=oasis.getTopWindow();window!==a&&a.OasDialog.hide(),$("body").find(":oasDialog").size()>0&&($("body").find(".dialog-panel.hasModal").size()>0&&(Mask.close(),$("body").find(".oas-mask").removeClass("zindex93")),$("body").find(".dialog-panel").hide())},a.OasFormTip={},a.OasFormTip.open=function(a,b,c){$(a).oasFormTip(),"oaserrormsg"===c&&($(a).addClass("oas-error"),$(a).parent(".input-hasicon").size()>0&&$(a).parent(".input-hasicon").addClass("oas-error")),$(a).oasFormTip("message",b,c)},a.OasFormTip.remove=function(a,b){a?($(a).oasFormTip(),"oaserrormsg"===b&&($(a).removeClass("oas-error"),$(a).parent(".input-hasicon").size()>0&&$(a).parent(".input-hasicon").removeClass("oas-error")),$(a).oasFormTip("remove",b),$(a).parent(".input-hasicon").size()>0&&$(a).parent(".input-hasicon").removeClass("oas-error")):$("body").find(":oasFormTip").oasFormTip("remove",b)},a.OasLead={},a.OasLead.open=function(a){a=$.extend({id:"oasLead",data:[],current:1,speed:300},a);var b=oasis.getTopWindow();window!==b?b.OasLead.open(a):$("#"+a.id).size()?$("body").find("#"+a.id).oasLead("open",a):($("body").append('<div id="'+a.id+'" class="lead-panel"></div>'),$("body").find("#"+a.id).oasLead(a),$("body").find("#"+a.id).oasLead("open")),$(b.document).find(".oas-mask").removeClass("zindex93")},a.OasLead.close=function(){$(":oasLead").oasLead("close")}}(this,document),$(document).ready(function(){$.browser.msie&&$("body").on("focus","a, input:checkbox, input:radio, input:button",function(){$(this).blur()}),$.validator&&$.validator.setDefaults({showErrors:function(a,b){if(b.length)for(var c=0,d=b.length;d>c;c++){var e=b[c].element;"select"===e.nodeName.toLowerCase()?OasFormTip.open($(e).next(".oas-select"),b[c].message,"oaserrormsg"):OasFormTip.open(e,b[c].message,"oaserrormsg")}else this.lastElement&&"select"===this.lastElement.nodeName.toLowerCase()?OasFormTip.remove($(this.lastElement).next(".oas-select")):this.lastElement&&OasFormTip.remove(this.lastElement)}}),$(document).on("click.oas-dropdown",function(a){return $(a.target).is("[data-toggle=dropdown]")||$(a.target).closest("[data-toggle=dropdown]").size()?!1:void $("[data-toggle=dropdown-menu]").hide()}),$(document).on("click.oas-dropdown","[data-toggle=dropdown]",function(){var a=this;$("body").find("[data-toggle=dropdown]").not(this).find("[data-toggle=dropdown-menu]").hide(),setTimeout(function(){var b=Position.location($(a),"fixed"),c=$(a).find("[data-toggle=dropdown-menu]").height()+5;b.bottom<c?$(a).addClass("oas-dropdown-top"):$(a).removeClass("oas-dropdown-top"),$(a).find("[data-toggle=dropdown-menu]").toggle()},0)}),$(document).on("click.oas-dropdown-btn",".dropdown-menu li",function(){var a=$(this).text();$(this).closest(".dropdown-btn").find(".btn-text").eq(0).text(a)}),$(document).on("click",".tabs-tab",function(){if(!$(this).hasClass("oas-text-disable")){var a=$(this).closest(".oas-tabs").data("oastabs");if($(this).siblings().removeClass("current").end().addClass("current"),a){$("[oastabs-content="+a+"]").hide();var b=$(this).data("tabcontent");$("[oastab-content="+b+"]").show()}}}),$(document).on("click",".oasTree-subfield .top-subfield > a,.oasTree-subfield .sub-subfield > a",function(){$(this).parent().find(">a").removeClass("current"),$(this).addClass("current")}),$(".tabs-toggle").on("click",function(){$(this).toggleClass("oasicon-unfold").toggleClass("oasicon-fold")}),$(".tabs-toggle").oasTrigger(),$(document).on("click.oas-form",".form-label",function(){$(this).next().find("input[type=text],input[type=password],textarea").focus()}),$(document).on("click.oas-form-choose",".oas-choose:not(.oas-disable)",function(){var a=$(this);a.find("input[type='radio']").size()>0?a.hasClass("oas-current")||(a.parent().find(".oas-choose").removeClass("oas-current"),a.parent().find("input[type='radio']:checked").attr("checked",!1),a.addClass("oas-current"),a.find("input[type='radio']").attr("checked","checked"),a.parents(".form-group").hasClass("customVO-time")&&(a.hasClass("near-one-week")?(a.parents(".customVO-time").find(".time-interval").find("label").eq(0).text(oasis.formatDate(oasis.getNearOneWeek()[0],"yyyy-MM-dd")),a.parents(".customVO-time").find(".time-interval").find("label").eq(1).text(oasis.formatDate(oasis.getNearOneWeek()[1],"yyyy-MM-dd"))):a.hasClass("near-one-month")?(a.parents(".customVO-time").find(".time-interval").find("label").eq(0).text(oasis.formatDate(oasis.getNearOneMonth()[0],"yyyy-MM-dd")),a.parents(".customVO-time").find(".time-interval").find("label").eq(1).text(oasis.formatDate(oasis.getNearOneMonth()[1],"yyyy-MM-dd"))):a.hasClass("near-three-months")&&(a.parents(".customVO-time").find(".time-interval").find("label").eq(0).text(oasis.formatDate(oasis.getNearThreeMonths()[0],"yyyy-MM-dd")),a.parents(".customVO-time").find(".time-interval").find("label").eq(1).text(oasis.formatDate(oasis.getNearThreeMonths()[1],"yyyy-MM-dd"))),a.hasClass("user-defined")?(a.parents(".customVO-time").find(".interval").show(),a.parents(".customVO-time").find(".time-interval").hide()):(a.parents(".customVO-time").find(".interval").hide(),a.parents(".customVO-time").find(".time-interval").show()))):a.find("input[type='checkbox']").size()>0&&(a.toggleClass("oas-current"),a.hasClass("oas-current")?(a.find("input[type='checkbox']").attr("checked","checked"),a.hasClass("oas-checkall")&&(a.closest(".form-content").find(".oas-choose:not('.oas-checkall') input[type='checkbox']").attr("checked","checked"),a.closest(".form-content").find(".oas-choose:not('.oas-checkall')").addClass("oas-current"))):(a.find("input[type='checkbox']").attr("checked",!1),a.hasClass("oas-checkall")&&(a.closest(".form-content").find(".oas-choose:not('.oas-checkall') input[type='checkbox']").attr("checked",!1),a.closest(".form-content").find(".oas-choose:not('.oas-checkall')").removeClass("oas-current"))),a.closest(".form-content").find(".oas-checkall").size()&&(a.closest(".form-content").find(".oas-choose:not('.oas-checkall')").find("input[type='checkbox']").size()==a.closest(".form-content").find(".oas-choose:not('.oas-checkall')").find("input[type='checkbox']:checked").size()?(a.closest(".form-content").find(".oas-checkall").addClass("oas-current"),a.closest(".form-content").find(".oas-checkall").find("input[type='checkbox']").attr("checked","checked")):(a.closest(".form-content").find(".oas-checkall").removeClass("oas-current"),a.closest(".form-content").find(".oas-checkall").find("input[type='checkbox']").attr("checked",!1))))}),$(document).on("click.oas-choose",".oas-checkbox",function(a){var b=$(this);"INPUT"==a.target.tagName&&(b.find("input[type='radio']").size()>0?b.parents(".form-group").hasClass("customVO-time")&&(b.hasClass("user-defined")?b.parents(".customVO-time").find(".interval").show():b.parents(".customVO-time").find(".interval").hide()):b.find("input[type='checkbox']").size()>0&&(b.hasClass("oas-checkall")&&(b.find("input[type='checkbox']").prop("checked")?b.closest(".form-content").find(".oas-checkbox:not('.oas-checkall') input[type='checkbox']").prop("checked",!0):b.closest(".form-content").find(".oas-checkbox:not('.oas-checkall') input[type='checkbox']").prop("checked",!1)),b.closest(".form-content").find(".oas-checkall").size()&&(b.closest(".form-content").find(".oas-checkbox:not('.oas-checkall')").find("input[type='checkbox']").size()==b.closest(".form-content").find(".oas-checkbox:not('.oas-checkall')").find("input[type='checkbox']:checked").size()?b.closest(".form-content").find(".oas-checkall").find("input[type='checkbox']").prop("checked","checked"):b.closest(".form-content").find(".oas-checkall").find("input[type='checkbox']").prop("checked",!1))))}),$(document).on("click.oas-btn-file",".oas-btn-file .open-file",function(){$(this).parent().find(".oas-filebutton-default").trigger("click")}),$(document).on("click.oas-alert",".oas-alert-close",function(){$(this).parent().hide()}),$(document).on("focus.input-hasicon",".input-hasicon input,.input-hasicon textarea",function(){$(this).parent().find(".oas-btn-icon").addClass("btn-active")}),$(document).on("blur.input-hasicon",".input-hasicon input,.input-hasicon textarea",function(){$(this).parent().find(".oas-btn-icon").removeClass("btn-active")}),$(document).on("click.oas-clone",".inputs-clone .add-item",function(){var a=$(this).find(".oasicon");if(a.hasClass("oasicon-additem")){var b=$(this).parents(".inputs-clone").clone(),c=b.find("input[type=text],input[type=password],input[type=search],input[type=url],input[type=tel],input[type=email],input[type=number],textarea");$(this).parents(".inputs-clone").addClass("dashed"),$(this).parents(".inputs-clone").find(".add-item .oasicon").removeClass("oasicon-additem").addClass("oasicon-delitem"),$(this).parents(".inputs-clone").find(".add-item .btn-text").text("取消"),b.find("option").removeAttr("selected"),OasFormTip.remove(c),b.find(".form-tip-icon").remove(),b.find(".oas-select").remove().end().find("input[type=text]").val("").end().find("select").oasSelect(),b.insertBefore($(this).parents(".inputs-clone")),b.find("input[type=text],input[type=password],input[type=search],input[type=url],input[type=tel],input[type=email],input[type=number],textarea").oasFormTip()}else $(this).parents(".inputs-clone").remove()}),$(document).on("click.check-item",".check-item:not(.oas-disable)",function(){$(this).hasClass("oas-current")?$(this).removeClass("oas-current"):$(this).addClass("oas-current")}),$(document).on("click.check-item",".check-item-single:not(.oas-disable)",function(){var a=$(this);a.siblings(".check-item-single").removeClass("oas-current"),a.addClass("oas-current"),a.closest(".form-group").hasClass("customVO-time")&&(a.hasClass("user-defined")?(a.parent(".form-content").hide(),a.closest(".customVO-time").find(".more-info").show()):(a.hasClass("near-one-week")?(a.parents(".customVO-time").find(".time-interval").find("label").eq(0).text(oasis.formatDate(oasis.getNearOneWeek()[0],"yyyy-MM-dd")),a.parents(".customVO-time").find(".time-interval").find("label").eq(1).text(oasis.formatDate(oasis.getNearOneWeek()[1],"yyyy-MM-dd"))):a.hasClass("near-one-month")?(a.parents(".customVO-time").find(".time-interval").find("label").eq(0).text(oasis.formatDate(oasis.getNearOneMonth()[0],"yyyy-MM-dd")),a.parents(".customVO-time").find(".time-interval").find("la2bel").eq(1).text(oasis.formatDate(oasis.getNearOneMonth()[1],"yyyy-MM-dd"))):a.hasClass("near-three-months")?(a.parents(".customVO-time").find(".time-interval").find("label").eq(0).text(oasis.formatDate(oasis.getNearThreeMonths()[0],"yyyy-MM-dd")),a.parents(".customVO-time").find(".time-interval").find("label").eq(1).text(oasis.formatDate(oasis.getNearThreeMonths()[1],"yyyy-MM-dd"))):a.hasClass("near-half-year")&&(a.parents(".customVO-time").find(".time-interval").find("label").eq(0).text(oasis.formatDate(oasis.getNearHalfYear()[0],"yyyy-MM-dd")),a.parents(".customVO-time").find(".time-interval").find("label").eq(1).text(oasis.formatDate(oasis.getNearHalfYear()[1],"yyyy-MM-dd"))),a.hasClass("defined-time")?(a.parents(".customVO-time").find(".interval").show(),a.parents(".customVO-time").find(".time-interval").hide()):(a.parents(".customVO-time").find(".interval").hide(),a.parents(".customVO-time").find(".time-interval").show())))}),$(".customVO-time").on("click.check-item",".close-more",function(){var a=$(this);a.closest(".customVO-time").find(".form-content").show(),a.parent(".form-content.more-info").hide()}),$(document).on("click.oas-input-delete",".clear-data-icon",function(){$(this).closest(".oas-delete-data").find("input").val(" ")}),$(document).bind("keydown",function(a){var b=!1;if(8===a.keyCode){var c=a.srcElement||a.target;b="INPUT"===c.tagName.toUpperCase()&&("TEXT"===c.type.toUpperCase()||"PASSWORD"===c.type.toUpperCase()||"FILE"===c.type.toUpperCase()||"EMAIL"===c.type.toUpperCase()||"SEARCH"===c.type.toUpperCase()||"NUMBER"===c.type.toUpperCase()||"DATE"===c.type.toUpperCase())||"TEXTAREA"===c.tagName.toUpperCase()?c.readOnly||c.disabled:"DIV"===c.tagName.toUpperCase()&&$(e.target).prop("contenteditable")?!1:!0}b&&a.preventDefault()}),$(document).on("click.calendar-a",".input-hasicon > a.calendar-date-icon.oas-btn-icon",function(){$(this).prev("input[type=text].calendar-date").trigger("click")})});
//# sourceMappingURL=oasis.min.js.map